(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=s(l);fetch(l.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var l=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return r[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(o,l,d){var c=null;if(d!==void 0&&(c=""+d),l.key!==void 0&&(c=""+l.key),"key"in l){d={};for(var f in l)f!=="key"&&(d[f]=l[f])}else d=l;return l=d.ref,{$$typeof:r,type:o,key:c,ref:l!==void 0?l:null,props:d}}return reactJsxRuntime_production.Fragment=i,reactJsxRuntime_production.jsx=s,reactJsxRuntime_production.jsxs=s,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),E=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,m={};function R(B,ee,oe){this.props=B,this.context=ee,this.refs=m,this.updater=oe||w}R.prototype.isReactComponent={},R.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=R.prototype;function b(B,ee,oe){this.props=B,this.context=ee,this.refs=m,this.updater=oe||w}var h=b.prototype=new _;h.constructor=b,D(h,R.prototype),h.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function Z(B,ee,oe,ae,ce,xe){return oe=xe.ref,{$$typeof:r,type:B,key:ee,ref:oe!==void 0?oe:null,props:xe}}function W(B,ee){return Z(B.type,ee,void 0,void 0,void 0,B.props)}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function L(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(oe){return ee[oe]})}var A=/\/+/g;function N(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ee.toString(36)}function j(){}function q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(j,j):(B.status="pending",B.then(function(ee){B.status==="pending"&&(B.status="fulfilled",B.value=ee)},function(ee){B.status==="pending"&&(B.status="rejected",B.reason=ee)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function K(B,ee,oe,ae,ce){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var X=!1;if(B===null)X=!0;else switch(xe){case"bigint":case"string":case"number":X=!0;break;case"object":switch(B.$$typeof){case r:case i:X=!0;break;case p:return X=B._init,K(X(B._payload),ee,oe,ae,ce)}}if(X)return ce=ce(B),X=ae===""?"."+N(B,0):ae,k(ce)?(oe="",X!=null&&(oe=X.replace(A,"$&/")+"/"),K(ce,ee,oe,"",function(J){return J})):ce!=null&&(H(ce)&&(ce=W(ce,oe+(ce.key==null||B&&B.key===ce.key?"":(""+ce.key).replace(A,"$&/")+"/")+X)),ee.push(ce)),1;X=0;var Y=ae===""?".":ae+":";if(k(B))for(var Q=0;Q<B.length;Q++)ae=B[Q],xe=Y+N(ae,Q),X+=K(ae,ee,oe,xe,ce);else if(Q=S(B),typeof Q=="function")for(B=Q.call(B),Q=0;!(ae=B.next()).done;)ae=ae.value,xe=Y+N(ae,Q++),X+=K(ae,ee,oe,xe,ce);else if(xe==="object"){if(typeof B.then=="function")return K(q(B),ee,oe,ae,ce);throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return X}function V(B,ee,oe){if(B==null)return B;var ae=[],ce=0;return K(B,ae,"","",function(xe){return ee.call(oe,xe,ce++)}),ae}function G(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(oe){(B._status===0||B._status===-1)&&(B._status=1,B._result=oe)},function(oe){(B._status===0||B._status===-1)&&(B._status=2,B._result=oe)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var te=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ue(){}return react_production.Children={map:V,forEach:function(B,ee,oe){V(B,function(){ee.apply(this,arguments)},oe)},count:function(B){var ee=0;return V(B,function(){ee++}),ee},toArray:function(B){return V(B,function(ee){return ee})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},react_production.Component=R,react_production.Fragment=s,react_production.Profiler=l,react_production.PureComponent=b,react_production.StrictMode=o,react_production.Suspense=g,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(B){return function(){return B.apply(null,arguments)}},react_production.cloneElement=function(B,ee,oe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ae=D({},B.props),ce=B.key,xe=void 0;if(ee!=null)for(X in ee.ref!==void 0&&(xe=void 0),ee.key!==void 0&&(ce=""+ee.key),ee)!z.call(ee,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&ee.ref===void 0||(ae[X]=ee[X]);var X=arguments.length-2;if(X===1)ae.children=oe;else if(1<X){for(var Y=Array(X),Q=0;Q<X;Q++)Y[Q]=arguments[Q+2];ae.children=Y}return Z(B.type,ce,void 0,void 0,xe,ae)},react_production.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:d,_context:B},B},react_production.createElement=function(B,ee,oe){var ae,ce={},xe=null;if(ee!=null)for(ae in ee.key!==void 0&&(xe=""+ee.key),ee)z.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ce[ae]=ee[ae]);var X=arguments.length-2;if(X===1)ce.children=oe;else if(1<X){for(var Y=Array(X),Q=0;Q<X;Q++)Y[Q]=arguments[Q+2];ce.children=Y}if(B&&B.defaultProps)for(ae in X=B.defaultProps,X)ce[ae]===void 0&&(ce[ae]=X[ae]);return Z(B,xe,void 0,void 0,null,ce)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(B){return{$$typeof:f,render:B}},react_production.isValidElement=H,react_production.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:G}},react_production.memo=function(B,ee){return{$$typeof:v,type:B,compare:ee===void 0?null:ee}},react_production.startTransition=function(B){var ee=M.T,oe={};M.T=oe;try{var ae=B(),ce=M.S;ce!==null&&ce(oe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ue,te)}catch(xe){te(xe)}finally{M.T=ee}},react_production.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},react_production.use=function(B){return M.H.use(B)},react_production.useActionState=function(B,ee,oe){return M.H.useActionState(B,ee,oe)},react_production.useCallback=function(B,ee){return M.H.useCallback(B,ee)},react_production.useContext=function(B){return M.H.useContext(B)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(B,ee){return M.H.useDeferredValue(B,ee)},react_production.useEffect=function(B,ee){return M.H.useEffect(B,ee)},react_production.useId=function(){return M.H.useId()},react_production.useImperativeHandle=function(B,ee,oe){return M.H.useImperativeHandle(B,ee,oe)},react_production.useInsertionEffect=function(B,ee){return M.H.useInsertionEffect(B,ee)},react_production.useLayoutEffect=function(B,ee){return M.H.useLayoutEffect(B,ee)},react_production.useMemo=function(B,ee){return M.H.useMemo(B,ee)},react_production.useOptimistic=function(B,ee){return M.H.useOptimistic(B,ee)},react_production.useReducer=function(B,ee,oe){return M.H.useReducer(B,ee,oe)},react_production.useRef=function(B){return M.H.useRef(B)},react_production.useState=function(B){return M.H.useState(B)},react_production.useSyncExternalStore=function(B,ee,oe){return M.H.useSyncExternalStore(B,ee,oe)},react_production.useTransition=function(){return M.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(r){function i(V,G){var te=V.length;V.push(G);e:for(;0<te;){var ue=te-1>>>1,B=V[ue];if(0<l(B,G))V[ue]=G,V[te]=B,te=ue;else break e}}function s(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var G=V[0],te=V.pop();if(te!==G){V[0]=te;e:for(var ue=0,B=V.length,ee=B>>>1;ue<ee;){var oe=2*(ue+1)-1,ae=V[oe],ce=oe+1,xe=V[ce];if(0>l(ae,te))ce<B&&0>l(xe,ae)?(V[ue]=xe,V[ce]=te,ue=ce):(V[ue]=ae,V[oe]=te,ue=oe);else if(ce<B&&0>l(xe,te))V[ue]=xe,V[ce]=te,ue=ce;else break e}}return G}function l(V,G){var te=V.sortIndex-G.sortIndex;return te!==0?te:V.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var g=[],v=[],p=1,E=null,S=3,w=!1,D=!1,m=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function h(V){for(var G=s(v);G!==null;){if(G.callback===null)o(v);else if(G.startTime<=V)o(v),G.sortIndex=G.expirationTime,i(g,G);else break;G=s(v)}}function k(V){if(m=!1,h(V),!D)if(s(g)!==null)D=!0,q();else{var G=s(v);G!==null&&K(k,G.startTime-V)}}var M=!1,z=-1,Z=5,W=-1;function H(){return!(r.unstable_now()-W<Z)}function L(){if(M){var V=r.unstable_now();W=V;var G=!0;try{e:{D=!1,m&&(m=!1,_(z),z=-1),w=!0;var te=S;try{t:{for(h(V),E=s(g);E!==null&&!(E.expirationTime>V&&H());){var ue=E.callback;if(typeof ue=="function"){E.callback=null,S=E.priorityLevel;var B=ue(E.expirationTime<=V);if(V=r.unstable_now(),typeof B=="function"){E.callback=B,h(V),G=!0;break t}E===s(g)&&o(g),h(V)}else o(g);E=s(g)}if(E!==null)G=!0;else{var ee=s(v);ee!==null&&K(k,ee.startTime-V),G=!1}}break e}finally{E=null,S=te,w=!1}G=void 0}}finally{G?A():M=!1}}}var A;if(typeof b=="function")A=function(){b(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,j=N.port2;N.port1.onmessage=L,A=function(){j.postMessage(null)}}else A=function(){R(L,0)};function q(){M||(M=!0,A())}function K(V,G){z=R(function(){V(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_continueExecution=function(){D||w||(D=!0,q())},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return s(g)},r.unstable_next=function(V){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var te=S;S=G;try{return V()}finally{S=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=S;S=V;try{return G()}finally{S=te}},r.unstable_scheduleCallback=function(V,G,te){var ue=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,V={id:p++,callback:G,priorityLevel:V,startTime:te,expirationTime:B,sortIndex:-1},te>ue?(V.sortIndex=te,i(v,V),s(g)===null&&V===s(v)&&(m?(_(z),z=-1):m=!0,K(k,te-ue))):(V.sortIndex=B,i(g,V),D||w||(D=!0,q())),V},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(V){var G=S;return function(){var te=S;S=G;try{return V.apply(this,arguments)}finally{S=te}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var r=requireReact();function i(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(g,v,p){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:v,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,reactDom_production.createPortal=function(g,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(g,v,null,p)},reactDom_production.flushSync=function(g){var v=c.T,p=o.p;try{if(c.T=null,o.p=2,g)return g()}finally{c.T=v,o.p=p,o.d.f()}},reactDom_production.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(g,v))},reactDom_production.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},reactDom_production.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var p=v.as,E=f(p,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,w=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?o.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:w}):p==="script"&&o.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:w,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},reactDom_production.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=f(v.as,v.crossOrigin);o.d.M(g,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(g)},reactDom_production.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,E=f(p,v.crossOrigin);o.d.L(g,p,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},reactDom_production.preloadModule=function(g,v){if(typeof g=="string")if(v){var p=f(v.as,v.crossOrigin);o.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(g)},reactDom_production.requestFormReset=function(g){o.d.r(g)},reactDom_production.unstable_batchedUpdates=function(g,v){return g(v)},reactDom_production.useFormState=function(g,v,p){return c.H.useFormState(g,v,p)},reactDom_production.useFormStatus=function(){return c.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var r=requireScheduler(),i=requireReact(),s=requireReactDom();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var d=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),w=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case f:return"Portal";case p:return"Profiler";case v:return"StrictMode";case m:return"Suspense";case R:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var H=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,A,N;function j(e){if(A===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||"",N=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+A+e+N}var q=!1;function K(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ve){var fe=ve}Reflect.construct(e,[],_e)}else{try{_e.call()}catch(ve){fe=ve}e.call(_e.prototype)}}else{try{throw Error()}catch(ve){fe=ve}(_e=e())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ve){if(ve&&fe&&typeof ve.stack=="string")return[ve.stack,fe.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=a.DetermineComponentFrameRoot(),O=y[0],U=y[1];if(O&&U){var $=O.split(`
`),ie=U.split(`
`);for(u=a=0;a<$.length&&!$[a].includes("DetermineComponentFrameRoot");)a++;for(;u<ie.length&&!ie[u].includes("DetermineComponentFrameRoot");)u++;if(a===$.length||u===ie.length)for(a=$.length-1,u=ie.length-1;1<=a&&0<=u&&$[a]!==ie[u];)u--;for(;1<=a&&0<=u;a--,u--)if($[a]!==ie[u]){if(a!==1||u!==1)do if(a--,u--,0>u||$[a]!==ie[u]){var ye=`
`+$[a].replace(" at new "," at ");return e.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",e.displayName)),ye}while(1<=a&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?j(n):""}function V(e){switch(e.tag){case 26:case 27:case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function G(e){try{var t="";do t+=V(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function te(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ue(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B(e){if(te(e)!==e)throw Error(o(188))}function ee(e){var t=e.alternate;if(!t){if(t=te(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var u=n.return;if(u===null)break;var y=u.alternate;if(y===null){if(a=u.return,a!==null){n=a;continue}break}if(u.child===y.child){for(y=u.child;y;){if(y===n)return B(u),e;if(y===a)return B(u),t;y=y.sibling}throw Error(o(188))}if(n.return!==a.return)n=u,a=y;else{for(var O=!1,U=u.child;U;){if(U===n){O=!0,n=u,a=y;break}if(U===a){O=!0,a=u,n=y;break}U=U.sibling}if(!O){for(U=y.child;U;){if(U===n){O=!0,n=y,a=u;break}if(U===a){O=!0,a=y,n=u;break}U=U.sibling}if(!O)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function oe(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=oe(e),t!==null)return t;e=e.sibling}return null}var ae=Array.isArray,ce=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},X=[],Y=-1;function Q(e){return{current:e}}function J(e){0>Y||(e.current=X[Y],X[Y]=null,Y--)}function de(e,t){Y++,X[Y]=e.current,e.current=t}var P=Q(null),F=Q(null),pe=Q(null),be=Q(null);function Me(e,t){switch(de(pe,t),de(F,e),de(P,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?vc(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=vc(e),t=gc(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(P),de(P,t)}function Ee(){J(P),J(F),J(pe)}function Oe(e){e.memoizedState!==null&&de(be,e);var t=P.current,n=gc(t,e.type);t!==n&&(de(F,e),de(P,n))}function Ie(e){F.current===e&&(J(P),J(F)),be.current===e&&(J(be),Hi._currentValue=xe)}var We=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Ae=r.unstable_requestPaint,He=r.unstable_now,ze=r.unstable_getCurrentPriorityLevel,nt=r.unstable_ImmediatePriority,C=r.unstable_UserBlockingPriority,x=r.unstable_NormalPriority,T=r.unstable_LowPriority,I=r.unstable_IdlePriority,re=r.log,he=r.unstable_setDisableYieldValue,ge=null,Re=null;function $e(e){if(Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ge,e,void 0,(e.current.flags&128)===128)}catch{}}function Be(e){if(typeof re=="function"&&he(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ge,e)}catch{}}var Ce=Math.clz32?Math.clz32:ei,je=Math.log,br=Math.LN2;function ei(e){return e>>>=0,e===0?32:31-(je(e)/br|0)|0}var rn=128,Tn=4194304;function Yt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function an(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,u=e.suspendedLanes,y=e.pingedLanes,O=e.warmLanes;e=e.finishedLanes!==0;var U=n&134217727;return U!==0?(n=U&~u,n!==0?a=Yt(n):(y&=U,y!==0?a=Yt(y):e||(O=U&~O,O!==0&&(a=Yt(O))))):(U=n&~u,U!==0?a=Yt(U):y!==0?a=Yt(y):e||(O=n&~O,O!==0&&(a=Yt(O)))),a===0?0:t!==0&&t!==a&&(t&u)===0&&(u=a&-a,O=t&-t,u>=O||u===32&&(O&4194176)!==0)?t:a}function wn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ou(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var e=rn;return rn<<=1,(rn&4194176)===0&&(rn=128),e}function Yn(){var e=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),e}function Wn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ni(e,t,n,a,u,y){var O=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var U=e.entanglements,$=e.expirationTimes,ie=e.hiddenUpdates;for(n=O&~n;0<n;){var ye=31-Ce(n),_e=1<<ye;U[ye]=0,$[ye]=-1;var fe=ie[ye];if(fe!==null)for(ie[ye]=null,ye=0;ye<fe.length;ye++){var ve=fe[ye];ve!==null&&(ve.lane&=-536870913)}n&=~_e}a!==0&&Rn(e,a,0),y!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=y&~(O&~t))}function Rn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ce(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194218}function Qn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ce(n),u=1<<a;u&t|e[a]&t&&(e[a]|=t),n&=~u}}function ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wi(){var e=ce.p;return e!==0?e:(e=window.event,e===void 0?32:Nc(e.type))}function Qi(e,t){var n=ce.p;try{return ce.p=e,t()}finally{ce.p=n}}var wt=Math.random().toString(36).slice(2),ct="__reactFiber$"+wt,ht="__reactProps$"+wt,Qt="__reactContainer$"+wt,un="__reactEvents$"+wt,Zi="__reactListeners$"+wt,Ji="__reactHandles$"+wt,ea="__reactResources$"+wt,On="__reactMarker$"+wt;function lu(e){delete e[ct],delete e[ht],delete e[un],delete e[Zi],delete e[Ji]}function Zn(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qt]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[ct])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function _r(e){if(e=e[ct]||e[Qt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ii(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function xr(e){var t=e[ea];return t||(t=e[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[On]=!0}var ho=new Set,po={};function Jn(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(po[e]=t,e=0;e<t.length;e++)ho.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},go={};function Fc(e){return We.call(go,e)?!0:We.call(vo,e)?!1:Pc.test(e)?go[e]=!0:(vo[e]=!0,!1)}function ta(e,t,n){if(Fc(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function na(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function on(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jc(e){var t=yo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,y=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(O){a=""+O,y.call(this,O)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(O){a=""+O},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ra(e){e._valueTracker||(e._valueTracker=jc(e))}function mo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=yo(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ic=/[\n"\\]/g;function Nt(e){return e.replace(Ic,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fu(e,t,n,a,u,y,O,U){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),t!=null?O==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),t!=null?cu(e,O,Ct(t)):n!=null?cu(e,O,Ct(n)):a!=null&&e.removeAttribute("value"),u==null&&y!=null&&(e.defaultChecked=!!y),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?e.name=""+Ct(U):e.removeAttribute("name")}function bo(e,t,n,a,u,y,O,U){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||t!=null))return;n=n!=null?""+Ct(n):"",t=t!=null?""+Ct(t):n,U||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=U?e.checked:!!a,e.defaultChecked=!!a,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O)}function cu(e,t,n){t==="number"&&ia(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Er(e,t,n,a){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ct(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function _o(e,t,n){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ct(n):""}function xo(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(o(92));if(ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Ct(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Vc.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Eo(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&n[u]!==a&&So(e,u,a)}else for(var y in t)t.hasOwnProperty(y)&&So(e,y,t[y])}function hu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Xc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pu=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wr=null,Rr=null;function To(e){var t=_r(e);if(t&&(e=t.stateNode)){var n=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(fu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var u=a[ht]||null;if(!u)throw Error(o(90));fu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&mo(a)}break e;case"textarea":_o(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}}}var vu=!1;function wo(e,t,n){if(vu)return e(t,n);vu=!0;try{var a=e(t);return a}finally{if(vu=!1,(wr!==null||Rr!==null)&&(ja(),wr&&(t=wr,e=Rr,Rr=wr=null,To(t),e)))for(t=0;t<e.length;t++)To(e[t])}}function ai(e,t){var n=e.stateNode;if(n===null)return null;var a=n[ht]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var gu=!1;if(sn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){gu=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{gu=!1}var kn=null,yu=null,ua=null;function Ro(){if(ua)return ua;var e,t=yu,n=t.length,a,u="value"in kn?kn.value:kn.textContent,y=u.length;for(e=0;e<n&&t[e]===u[e];e++);var O=n-e;for(a=1;a<=O&&t[n-a]===u[y-a];a++);return ua=u.slice(e,1<a?1-a:void 0)}function sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function Oo(){return!1}function Rt(e){function t(n,a,u,y,O){this._reactName=n,this._targetInst=u,this.type=a,this.nativeEvent=y,this.target=O,this.currentTarget=null;for(var U in e)e.hasOwnProperty(U)&&(n=e[U],this[U]=n?n(y):y[U]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?oa:Oo,this.isPropagationStopped=Oo,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Rt(er),si=L({},er,{view:0,detail:0}),Kc=Rt(si),mu,bu,oi,fa=L({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(mu=e.screenX-oi.screenX,bu=e.screenY-oi.screenY):bu=mu=0,oi=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:bu}}),ko=Rt(fa),$c=L({},fa,{dataTransfer:0}),Yc=Rt($c),Wc=L({},si,{relatedTarget:0}),_u=Rt(Wc),Qc=L({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Zc=Rt(Qc),Jc=L({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eh=Rt(Jc),th=L({},er,{data:0}),Ao=Rt(th),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ih[e])?!!t[e]:!1}function xu(){return ah}var uh=L({},si,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sh=Rt(uh),oh=L({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=Rt(oh),lh=L({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),fh=Rt(lh),ch=L({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=Rt(ch),ph=L({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dh=Rt(ph),vh=L({},er,{newState:0,oldState:0}),gh=Rt(vh),yh=[9,13,27,32],Su=sn&&"CompositionEvent"in window,li=null;sn&&"documentMode"in document&&(li=document.documentMode);var mh=sn&&"TextEvent"in window&&!li,Mo=sn&&(!Su||li&&8<li&&11>=li),Lo=" ",Co=!1;function No(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function bh(e,t){switch(e){case"compositionend":return qo(t);case"keypress":return t.which!==32?null:(Co=!0,Lo);case"textInput":return e=t.data,e===Lo&&Co?null:e;default:return null}}function _h(e,t){if(Or)return e==="compositionend"||!Su&&No(e,t)?(e=Ro(),ua=yu=kn=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mo&&t.locale!=="ko"?null:t.data;default:return null}}var xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xh[e.type]:t==="textarea"}function Uo(e,t,n,a){wr?Rr?Rr.push(a):Rr=[a]:wr=a,t=Ka(t,"onChange"),0<t.length&&(n=new la("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var fi=null,ci=null;function Sh(e){fc(e,0)}function ca(e){var t=ii(e);if(mo(t))return e}function Go(e,t){if(e==="change")return t}var zo=!1;if(sn){var Eu;if(sn){var Tu="oninput"in document;if(!Tu){var Po=document.createElement("div");Po.setAttribute("oninput","return;"),Tu=typeof Po.oninput=="function"}Eu=Tu}else Eu=!1;zo=Eu&&(!document.documentMode||9<document.documentMode)}function Fo(){fi&&(fi.detachEvent("onpropertychange",jo),ci=fi=null)}function jo(e){if(e.propertyName==="value"&&ca(ci)){var t=[];Uo(t,ci,e,du(e)),wo(Sh,t)}}function Eh(e,t,n){e==="focusin"?(Fo(),fi=t,ci=n,fi.attachEvent("onpropertychange",jo)):e==="focusout"&&Fo()}function Th(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(ci)}function wh(e,t){if(e==="click")return ca(t)}function Rh(e,t){if(e==="input"||e==="change")return ca(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Oh;function hi(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var u=n[a];if(!We.call(t,u)||!kt(e[u],t[u]))return!1}return!0}function Io(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vo(e,t){var n=Io(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Io(n)}}function Ho(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ho(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ia(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ia(e.document)}return t}function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kh(e,t){var n=Xo(t);t=e.focusedElem;var a=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Ho(t.ownerDocument.documentElement,t)){if(a!==null&&wu(t)){if(e=a.start,n=a.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var u=t.textContent.length,y=Math.min(a.start,u);a=a.end===void 0?y:Math.min(a.end,u),!n.extend&&y>a&&(u=a,a=y,y=u),u=Vo(t,y);var O=Vo(t,a);u&&O&&(n.rangeCount!==1||n.anchorNode!==u.node||n.anchorOffset!==u.offset||n.focusNode!==O.node||n.focusOffset!==O.offset)&&(e=e.createRange(),e.setStart(u.node,u.offset),n.removeAllRanges(),y>a?(n.addRange(e),n.extend(O.node,O.offset)):(e.setEnd(O.node,O.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ah=sn&&"documentMode"in document&&11>=document.documentMode,kr=null,Ru=null,pi=null,Ou=!1;function Ko(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ou||kr==null||kr!==ia(a)||(a=kr,"selectionStart"in a&&wu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pi&&hi(pi,a)||(pi=a,a=Ka(Ru,"onSelect"),0<a.length&&(t=new la("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=kr)))}function tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionrun:tr("Transition","TransitionRun"),transitionstart:tr("Transition","TransitionStart"),transitioncancel:tr("Transition","TransitionCancel"),transitionend:tr("Transition","TransitionEnd")},ku={},$o={};sn&&($o=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function nr(e){if(ku[e])return ku[e];if(!Ar[e])return e;var t=Ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $o)return ku[e]=t[n];return e}var Yo=nr("animationend"),Wo=nr("animationiteration"),Qo=nr("animationstart"),Dh=nr("transitionrun"),Mh=nr("transitionstart"),Lh=nr("transitioncancel"),Zo=nr("transitionend"),Jo=new Map,el="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ht(e,t){Jo.set(e,t),Jn(t,[e])}var qt=[],Dr=0,Au=0;function ha(){for(var e=Dr,t=Au=Dr=0;t<e;){var n=qt[t];qt[t++]=null;var a=qt[t];qt[t++]=null;var u=qt[t];qt[t++]=null;var y=qt[t];if(qt[t++]=null,a!==null&&u!==null){var O=a.pending;O===null?u.next=u:(u.next=O.next,O.next=u),a.pending=u}y!==0&&tl(n,u,y)}}function pa(e,t,n,a){qt[Dr++]=e,qt[Dr++]=t,qt[Dr++]=n,qt[Dr++]=a,Au|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Du(e,t,n,a){return pa(e,t,n,a),da(e)}function An(e,t){return pa(e,null,null,t),da(e)}function tl(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var u=!1,y=e.return;y!==null;)y.childLanes|=n,a=y.alternate,a!==null&&(a.childLanes|=n),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(u=!0)),e=y,y=y.return;u&&t!==null&&e.tag===3&&(y=e.stateNode,u=31-Ce(n),y=y.hiddenUpdates,e=y[u],e===null?y[u]=[t]:e.push(t),t.lane=n|536870912)}function da(e){if(50<Gi)throw Gi=0,Bs=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Mr={},nl=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var n=nl.get(e);return n!==void 0?n:(t={value:e,source:t,stack:G(t)},nl.set(e,t),t)}return{value:e,source:t,stack:G(t)}}var Lr=[],Cr=0,va=null,ga=0,Ut=[],Gt=0,rr=null,ln=1,fn="";function ir(e,t){Lr[Cr++]=ga,Lr[Cr++]=va,va=e,ga=t}function rl(e,t,n){Ut[Gt++]=ln,Ut[Gt++]=fn,Ut[Gt++]=rr,rr=e;var a=ln;e=fn;var u=32-Ce(a)-1;a&=~(1<<u),n+=1;var y=32-Ce(t)+u;if(30<y){var O=u-u%5;y=(a&(1<<O)-1).toString(32),a>>=O,u-=O,ln=1<<32-Ce(t)+u|n<<u|a,fn=y+e}else ln=1<<y|n<<u|a,fn=e}function Mu(e){e.return!==null&&(ir(e,1),rl(e,1,0))}function Lu(e){for(;e===va;)va=Lr[--Cr],Lr[Cr]=null,ga=Lr[--Cr],Lr[Cr]=null;for(;e===rr;)rr=Ut[--Gt],Ut[Gt]=null,fn=Ut[--Gt],Ut[Gt]=null,ln=Ut[--Gt],Ut[Gt]=null}var Et=null,bt=null,Pe=!1,Xt=null,Zt=!1,Cu=Error(o(519));function ar(e){var t=Error(o(418,""));throw gi(Bt(t,e)),Cu}function il(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ct]=e,t[ht]=a,n){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(n=0;n<Pi.length;n++)Ue(Pi[n],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),bo(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ra(t);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),xo(t,a.value,a.defaultValue,a.children),ra(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||dc(t.textContent,n)?(a.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),a.onScroll!=null&&Ue("scroll",t),a.onScrollEnd!=null&&Ue("scrollend",t),a.onClick!=null&&(t.onclick=$a),t=!0):t=!1,t||ar(e)}function al(e){for(Et=e.return;Et;)switch(Et.tag){case 3:case 27:Zt=!0;return;case 5:case 13:Zt=!1;return;default:Et=Et.return}}function di(e){if(e!==Et)return!1;if(!Pe)return al(e),Pe=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Js(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&bt&&ar(e),al(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){bt=$t(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}bt=null}}else bt=Et?$t(e.stateNode.nextSibling):null;return!0}function vi(){bt=Et=null,Pe=!1}function gi(e){Xt===null?Xt=[e]:Xt.push(e)}var yi=Error(o(460)),ul=Error(o(474)),Nu={then:function(){}};function sl(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ya(){}function ol(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ya,ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===yi?Error(o(483)):e;default:if(typeof t.status=="string")t.then(ya,ya);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===yi?Error(o(483)):e}throw mi=t,yi}}var mi=null;function ll(){if(mi===null)throw Error(o(459));var e=mi;return mi=null,e}var Nr=null,bi=0;function ma(e){var t=bi;return bi+=1,Nr===null&&(Nr=[]),ol(Nr,e,t)}function _i(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ba(e,t){throw t.$$typeof===d?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fl(e){var t=e._init;return t(e._payload)}function cl(e){function t(se,ne){if(e){var le=se.deletions;le===null?(se.deletions=[ne],se.flags|=16):le.push(ne)}}function n(se,ne){if(!e)return null;for(;ne!==null;)t(se,ne),ne=ne.sibling;return null}function a(se){for(var ne=new Map;se!==null;)se.key!==null?ne.set(se.key,se):ne.set(se.index,se),se=se.sibling;return ne}function u(se,ne){return se=Fn(se,ne),se.index=0,se.sibling=null,se}function y(se,ne,le){return se.index=le,e?(le=se.alternate,le!==null?(le=le.index,le<ne?(se.flags|=33554434,ne):le):(se.flags|=33554434,ne)):(se.flags|=1048576,ne)}function O(se){return e&&se.alternate===null&&(se.flags|=33554434),se}function U(se,ne,le,me){return ne===null||ne.tag!==6?(ne=ks(le,se.mode,me),ne.return=se,ne):(ne=u(ne,le),ne.return=se,ne)}function $(se,ne,le,me){var Se=le.type;return Se===g?ye(se,ne,le.props.children,me,le.key):ne!==null&&(ne.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===b&&fl(Se)===ne.type)?(ne=u(ne,le.props),_i(ne,le),ne.return=se,ne):(ne=Ua(le.type,le.key,le.props,null,se.mode,me),_i(ne,le),ne.return=se,ne)}function ie(se,ne,le,me){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=As(le,se.mode,me),ne.return=se,ne):(ne=u(ne,le.children||[]),ne.return=se,ne)}function ye(se,ne,le,me,Se){return ne===null||ne.tag!==7?(ne=vr(le,se.mode,me,Se),ne.return=se,ne):(ne=u(ne,le),ne.return=se,ne)}function _e(se,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=ks(""+ne,se.mode,le),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:return le=Ua(ne.type,ne.key,ne.props,null,se.mode,le),_i(le,ne),le.return=se,le;case f:return ne=As(ne,se.mode,le),ne.return=se,ne;case b:var me=ne._init;return ne=me(ne._payload),_e(se,ne,le)}if(ae(ne)||z(ne))return ne=vr(ne,se.mode,le,null),ne.return=se,ne;if(typeof ne.then=="function")return _e(se,ma(ne),le);if(ne.$$typeof===w)return _e(se,Na(se,ne),le);ba(se,ne)}return null}function fe(se,ne,le,me){var Se=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Se!==null?null:U(se,ne,""+le,me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return le.key===Se?$(se,ne,le,me):null;case f:return le.key===Se?ie(se,ne,le,me):null;case b:return Se=le._init,le=Se(le._payload),fe(se,ne,le,me)}if(ae(le)||z(le))return Se!==null?null:ye(se,ne,le,me,null);if(typeof le.then=="function")return fe(se,ne,ma(le),me);if(le.$$typeof===w)return fe(se,ne,Na(se,le),me);ba(se,le)}return null}function ve(se,ne,le,me,Se){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return se=se.get(le)||null,U(ne,se,""+me,Se);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case c:return se=se.get(me.key===null?le:me.key)||null,$(ne,se,me,Se);case f:return se=se.get(me.key===null?le:me.key)||null,ie(ne,se,me,Se);case b:var Ne=me._init;return me=Ne(me._payload),ve(se,ne,le,me,Se)}if(ae(me)||z(me))return se=se.get(le)||null,ye(ne,se,me,Se,null);if(typeof me.then=="function")return ve(se,ne,le,ma(me),Se);if(me.$$typeof===w)return ve(se,ne,le,Na(ne,me),Se);ba(ne,me)}return null}function Te(se,ne,le,me){for(var Se=null,Ne=null,we=ne,ke=ne=0,mt=null;we!==null&&ke<le.length;ke++){we.index>ke?(mt=we,we=null):mt=we.sibling;var Fe=fe(se,we,le[ke],me);if(Fe===null){we===null&&(we=mt);break}e&&we&&Fe.alternate===null&&t(se,we),ne=y(Fe,ne,ke),Ne===null?Se=Fe:Ne.sibling=Fe,Ne=Fe,we=mt}if(ke===le.length)return n(se,we),Pe&&ir(se,ke),Se;if(we===null){for(;ke<le.length;ke++)we=_e(se,le[ke],me),we!==null&&(ne=y(we,ne,ke),Ne===null?Se=we:Ne.sibling=we,Ne=we);return Pe&&ir(se,ke),Se}for(we=a(we);ke<le.length;ke++)mt=ve(we,se,ke,le[ke],me),mt!==null&&(e&&mt.alternate!==null&&we.delete(mt.key===null?ke:mt.key),ne=y(mt,ne,ke),Ne===null?Se=mt:Ne.sibling=mt,Ne=mt);return e&&we.forEach(function($n){return t(se,$n)}),Pe&&ir(se,ke),Se}function De(se,ne,le,me){if(le==null)throw Error(o(151));for(var Se=null,Ne=null,we=ne,ke=ne=0,mt=null,Fe=le.next();we!==null&&!Fe.done;ke++,Fe=le.next()){we.index>ke?(mt=we,we=null):mt=we.sibling;var $n=fe(se,we,Fe.value,me);if($n===null){we===null&&(we=mt);break}e&&we&&$n.alternate===null&&t(se,we),ne=y($n,ne,ke),Ne===null?Se=$n:Ne.sibling=$n,Ne=$n,we=mt}if(Fe.done)return n(se,we),Pe&&ir(se,ke),Se;if(we===null){for(;!Fe.done;ke++,Fe=le.next())Fe=_e(se,Fe.value,me),Fe!==null&&(ne=y(Fe,ne,ke),Ne===null?Se=Fe:Ne.sibling=Fe,Ne=Fe);return Pe&&ir(se,ke),Se}for(we=a(we);!Fe.done;ke++,Fe=le.next())Fe=ve(we,se,ke,Fe.value,me),Fe!==null&&(e&&Fe.alternate!==null&&we.delete(Fe.key===null?ke:Fe.key),ne=y(Fe,ne,ke),Ne===null?Se=Fe:Ne.sibling=Fe,Ne=Fe);return e&&we.forEach(function(Kp){return t(se,Kp)}),Pe&&ir(se,ke),Se}function at(se,ne,le,me){if(typeof le=="object"&&le!==null&&le.type===g&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case c:e:{for(var Se=le.key;ne!==null;){if(ne.key===Se){if(Se=le.type,Se===g){if(ne.tag===7){n(se,ne.sibling),me=u(ne,le.props.children),me.return=se,se=me;break e}}else if(ne.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===b&&fl(Se)===ne.type){n(se,ne.sibling),me=u(ne,le.props),_i(me,le),me.return=se,se=me;break e}n(se,ne);break}else t(se,ne);ne=ne.sibling}le.type===g?(me=vr(le.props.children,se.mode,me,le.key),me.return=se,se=me):(me=Ua(le.type,le.key,le.props,null,se.mode,me),_i(me,le),me.return=se,se=me)}return O(se);case f:e:{for(Se=le.key;ne!==null;){if(ne.key===Se)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){n(se,ne.sibling),me=u(ne,le.children||[]),me.return=se,se=me;break e}else{n(se,ne);break}else t(se,ne);ne=ne.sibling}me=As(le,se.mode,me),me.return=se,se=me}return O(se);case b:return Se=le._init,le=Se(le._payload),at(se,ne,le,me)}if(ae(le))return Te(se,ne,le,me);if(z(le)){if(Se=z(le),typeof Se!="function")throw Error(o(150));return le=Se.call(le),De(se,ne,le,me)}if(typeof le.then=="function")return at(se,ne,ma(le),me);if(le.$$typeof===w)return at(se,ne,Na(se,le),me);ba(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(n(se,ne.sibling),me=u(ne,le),me.return=se,se=me):(n(se,ne),me=ks(le,se.mode,me),me.return=se,se=me),O(se)):n(se,ne)}return function(se,ne,le,me){try{bi=0;var Se=at(se,ne,le,me);return Nr=null,Se}catch(we){if(we===yi)throw we;var Ne=jt(29,we,null,se.mode);return Ne.lanes=me,Ne.return=se,Ne}finally{}}}var ur=cl(!0),hl=cl(!1),qr=Q(null),_a=Q(0);function pl(e,t){e=xn,de(_a,e),de(qr,t),xn=e|t.baseLanes}function qu(){de(_a,xn),de(qr,qr.current)}function Bu(){xn=_a.current,J(qr),J(_a)}var zt=Q(null),Jt=null;function Dn(e){var t=e.alternate;de(pt,pt.current&1),de(zt,e),Jt===null&&(t===null||qr.current!==null||t.memoizedState!==null)&&(Jt=e)}function dl(e){if(e.tag===22){if(de(pt,pt.current),de(zt,e),Jt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Jt=e)}}else Mn()}function Mn(){de(pt,pt.current),de(zt,zt.current)}function cn(e){J(zt),Jt===e&&(Jt=null),J(pt)}var pt=Q(0);function xa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Nh=r.unstable_scheduleCallback,qh=r.unstable_NormalPriority,dt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Ch,data:new Map,refCount:0}}function xi(e){e.refCount--,e.refCount===0&&Nh(qh,function(){e.controller.abort()})}var Si=null,Gu=0,Br=0,Ur=null;function Bh(e,t){if(Si===null){var n=Si=[];Gu=0,Br=Vs(),Ur={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Gu++,t.then(vl,vl),t}function vl(){if(--Gu===0&&Si!==null){Ur!==null&&(Ur.status="fulfilled");var e=Si;Si=null,Br=0,Ur=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Uh(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),a}var gl=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Bh(e,t),gl!==null&&gl(e,t)};var sr=Q(null);function zu(){var e=sr.current;return e!==null?e:Qe.pooledCache}function Sa(e,t){t===null?de(sr,sr.current):de(sr,t.pool)}function yl(){var e=zu();return e===null?null:{parent:dt._currentValue,pool:e}}var Ln=0,Le=null,Xe=null,ot=null,Ea=!1,Gr=!1,or=!1,Ta=0,Ei=0,zr=null,Gh=0;function ut(){throw Error(o(321))}function Pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Fu(e,t,n,a,u,y){return Ln=y,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?lr:Cn,or=!1,y=n(a,u),or=!1,Gr&&(y=bl(t,n,a,u)),ml(e),y}function ml(e){H.H=en;var t=Xe!==null&&Xe.next!==null;if(Ln=0,ot=Xe=Le=null,Ea=!1,Ei=0,zr=null,t)throw Error(o(300));e===null||gt||(e=e.dependencies,e!==null&&Ca(e)&&(gt=!0))}function bl(e,t,n,a){Le=e;var u=0;do{if(Gr&&(zr=null),Ei=0,Gr=!1,25<=u)throw Error(o(301));if(u+=1,ot=Xe=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=fr,y=t(n,a)}while(Gr);return y}function zh(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Le.flags|=1024),t}function ju(){var e=Ta!==0;return Ta=0,e}function Iu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vu(e){if(Ea){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ea=!1}Ln=0,ot=Xe=Le=null,Gr=!1,Ei=Ta=0,zr=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Le.memoizedState=ot=e:ot=ot.next=e,ot}function lt(){if(Xe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=ot===null?Le.memoizedState:ot.next;if(t!==null)ot=t,Xe=e;else{if(e===null)throw Le.alternate===null?Error(o(467)):Error(o(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ot===null?Le.memoizedState=ot=e:ot=ot.next=e}return ot}var wa;wa=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ti(e){var t=Ei;return Ei+=1,zr===null&&(zr=[]),e=ol(zr,e,t),t=Le,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?lr:Cn),e}function Ra(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===w)return St(e)}throw Error(o(438,String(e)))}function Hu(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=wa(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=k;return t.index++,n}function hn(e,t){return typeof t=="function"?t(e):t}function Oa(e){var t=lt();return Xu(t,Xe,e)}function Xu(e,t,n){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var u=e.baseQueue,y=a.pending;if(y!==null){if(u!==null){var O=u.next;u.next=y.next,y.next=O}t.baseQueue=u=y,a.pending=null}if(y=e.baseState,u===null)e.memoizedState=y;else{t=u.next;var U=O=null,$=null,ie=t,ye=!1;do{var _e=ie.lane&-536870913;if(_e!==ie.lane?(Ge&_e)===_e:(Ln&_e)===_e){var fe=ie.revertLane;if(fe===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),_e===Br&&(ye=!0);else if((Ln&fe)===fe){ie=ie.next,fe===Br&&(ye=!0);continue}else _e={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(U=$=_e,O=y):$=$.next=_e,Le.lanes|=fe,jn|=fe;_e=ie.action,or&&n(y,_e),y=ie.hasEagerState?ie.eagerState:n(y,_e)}else fe={lane:_e,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(U=$=fe,O=y):$=$.next=fe,Le.lanes|=_e,jn|=_e;ie=ie.next}while(ie!==null&&ie!==t);if($===null?O=y:$.next=U,!kt(y,e.memoizedState)&&(gt=!0,ye&&(n=Ur,n!==null)))throw n;e.memoizedState=y,e.baseState=O,e.baseQueue=$,a.lastRenderedState=y}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ku(e){var t=lt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,u=n.pending,y=t.memoizedState;if(u!==null){n.pending=null;var O=u=u.next;do y=e(y,O.action),O=O.next;while(O!==u);kt(y,t.memoizedState)||(gt=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,a]}function _l(e,t,n){var a=Le,u=lt(),y=Pe;if(y){if(n===void 0)throw Error(o(407));n=n()}else n=t();var O=!kt((Xe||u).memoizedState,n);if(O&&(u.memoizedState=n,gt=!0),u=u.queue,Wu(El.bind(null,a,u,e),[e]),u.getSnapshot!==t||O||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,Pr(9,Sl.bind(null,a,u,n,t),{destroy:void 0},null),Qe===null)throw Error(o(349));y||(Ln&60)!==0||xl(a,t,n)}return n}function xl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=wa(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sl(e,t,n,a){t.value=n,t.getSnapshot=a,Tl(t)&&wl(e)}function El(e,t,n){return n(function(){Tl(t)&&wl(e)})}function Tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function wl(e){var t=An(e,2);t!==null&&Tt(t,e,2)}function $u(e){var t=Ot();if(typeof e=="function"){var n=e;if(e=n(),or){Be(!0);try{n()}finally{Be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function Rl(e,t,n,a){return e.baseState=n,Xu(e,Xe,typeof a=="function"?a:hn)}function Ph(e,t,n,a,u){if(Da(e))throw Error(o(485));if(e=t.action,e!==null){var y={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){y.listeners.push(O)}};H.T!==null?n(!0):y.isTransition=!1,a(y),n=t.pending,n===null?(y.next=t.pending=y,Ol(t,y)):(y.next=n.next,t.pending=n.next=y)}}function Ol(e,t){var n=t.action,a=t.payload,u=e.state;if(t.isTransition){var y=H.T,O={};H.T=O;try{var U=n(u,a),$=H.S;$!==null&&$(O,U),kl(e,t,U)}catch(ie){Yu(e,t,ie)}finally{H.T=y}}else try{y=n(u,a),kl(e,t,y)}catch(ie){Yu(e,t,ie)}}function kl(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Al(e,t,a)},function(a){return Yu(e,t,a)}):Al(e,t,n)}function Al(e,t,n){t.status="fulfilled",t.value=n,Dl(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ol(e,n)))}function Yu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Dl(t),t=t.next;while(t!==a)}e.action=null}function Dl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ml(e,t){return t}function Ll(e,t){if(Pe){var n=Qe.formState;if(n!==null){e:{var a=Le;if(Pe){if(bt){t:{for(var u=bt,y=Zt;u.nodeType!==8;){if(!y){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}y=u.data,u=y==="F!"||y==="F"?u:null}if(u){bt=$t(u.nextSibling),a=u.data==="F!";break e}}ar(a)}a=!1}a&&(t=n[0])}}return n=Ot(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},n.queue=a,n=Wl.bind(null,Le,a),a.dispatch=n,a=$u(!1),y=ts.bind(null,Le,!1,a.queue),a=Ot(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,n=Ph.bind(null,Le,u,y,n),u.dispatch=n,a.memoizedState=e,[t,n,!1]}function Cl(e){var t=lt();return Nl(t,Xe,e)}function Nl(e,t,n){t=Xu(e,t,Ml)[0],e=Oa(hn)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Ti(t):t;var a=lt(),u=a.queue,y=u.dispatch;return n!==a.memoizedState&&(Le.flags|=2048,Pr(9,Fh.bind(null,u,n),{destroy:void 0},null)),[t,y,e]}function Fh(e,t){e.action=t}function ql(e){var t=lt(),n=Xe;if(n!==null)return Nl(t,n,e);lt(),t=t.memoizedState,n=lt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Pr(e,t,n,a){return e={tag:e,create:t,inst:n,deps:a,next:null},t=Le.updateQueue,t===null&&(t=wa(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Bl(){return lt().memoizedState}function ka(e,t,n,a){var u=Ot();Le.flags|=e,u.memoizedState=Pr(1|t,n,{destroy:void 0},a===void 0?null:a)}function Aa(e,t,n,a){var u=lt();a=a===void 0?null:a;var y=u.memoizedState.inst;Xe!==null&&a!==null&&Pu(a,Xe.memoizedState.deps)?u.memoizedState=Pr(t,n,y,a):(Le.flags|=e,u.memoizedState=Pr(1|t,n,y,a))}function Ul(e,t){ka(8390656,8,e,t)}function Wu(e,t){Aa(2048,8,e,t)}function Gl(e,t){return Aa(4,2,e,t)}function zl(e,t){return Aa(4,4,e,t)}function Pl(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fl(e,t,n){n=n!=null?n.concat([e]):null,Aa(4,4,Pl.bind(null,t,e),n)}function Qu(){}function jl(e,t){var n=lt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Pu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Il(e,t){var n=lt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Pu(t,a[1]))return a[0];if(a=e(),or){Be(!0);try{e()}finally{Be(!1)}}return n.memoizedState=[a,t],a}function Zu(e,t,n){return n===void 0||(Ln&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Xf(),Le.lanes|=e,jn|=e,n)}function Vl(e,t,n,a){return kt(n,t)?n:qr.current!==null?(e=Zu(e,n,a),kt(e,t)||(gt=!0),e):(Ln&42)===0?(gt=!0,e.memoizedState=n):(e=Xf(),Le.lanes|=e,jn|=e,t)}function Hl(e,t,n,a,u){var y=ce.p;ce.p=y!==0&&8>y?y:8;var O=H.T,U={};H.T=U,ts(e,!1,t,n);try{var $=u(),ie=H.S;if(ie!==null&&ie(U,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ye=Uh($,a);wi(e,t,ye,Lt(e))}else wi(e,t,a,Lt(e))}catch(_e){wi(e,t,{then:function(){},status:"rejected",reason:_e},Lt())}finally{ce.p=y,H.T=O}}function jh(){}function Ju(e,t,n,a){if(e.tag!==5)throw Error(o(476));var u=Xl(e).queue;Hl(e,u,t,xe,n===null?jh:function(){return Kl(e),n(a)})}function Xl(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:xe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Kl(e){var t=Xl(e).next.queue;wi(e,t,{},Lt())}function es(){return St(Hi)}function $l(){return lt().memoizedState}function Yl(){return lt().memoizedState}function Ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Lt();e=Bn(n);var a=Un(t,e,n);a!==null&&(Tt(a,t,n),ki(a,t,n)),t={cache:Uu()},e.payload=t;return}t=t.return}}function Vh(e,t,n){var a=Lt();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Da(e)?Ql(t,n):(n=Du(e,t,n,a),n!==null&&(Tt(n,e,a),Zl(n,t,a)))}function Wl(e,t,n){var a=Lt();wi(e,t,n,a)}function wi(e,t,n,a){var u={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Da(e))Ql(t,u);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var O=t.lastRenderedState,U=y(O,n);if(u.hasEagerState=!0,u.eagerState=U,kt(U,O))return pa(e,t,u,0),Qe===null&&ha(),!1}catch{}finally{}if(n=Du(e,t,u,a),n!==null)return Tt(n,e,a),Zl(n,t,a),!0}return!1}function ts(e,t,n,a){if(a={lane:2,revertLane:Vs(),action:a,hasEagerState:!1,eagerState:null,next:null},Da(e)){if(t)throw Error(o(479))}else t=Du(e,n,a,2),t!==null&&Tt(t,e,2)}function Da(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Ql(e,t){Gr=Ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zl(e,t,n){if((n&4194176)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Qn(e,n)}}var en={readContext:St,use:Ra,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};en.useCacheRefresh=ut,en.useMemoCache=ut,en.useHostTransitionStatus=ut,en.useFormState=ut,en.useActionState=ut,en.useOptimistic=ut;var lr={readContext:St,use:Ra,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Ul,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ka(4194308,4,Pl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){ka(4,2,e,t)},useMemo:function(e,t){var n=Ot();t=t===void 0?null:t;var a=e();if(or){Be(!0);try{e()}finally{Be(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ot();if(n!==void 0){var u=n(t);if(or){Be(!0);try{n(t)}finally{Be(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=Vh.bind(null,Le,e),[a.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=$u(e);var t=e.queue,n=Wl.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qu,useDeferredValue:function(e,t){var n=Ot();return Zu(n,e,t)},useTransition:function(){var e=$u(!1);return e=Hl.bind(null,Le,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Le,u=Ot();if(Pe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Qe===null)throw Error(o(349));(Ge&60)!==0||xl(a,t,n)}u.memoizedState=n;var y={value:n,getSnapshot:t};return u.queue=y,Ul(El.bind(null,a,y,e),[e]),a.flags|=2048,Pr(9,Sl.bind(null,a,y,n,t),{destroy:void 0},null),n},useId:function(){var e=Ot(),t=Qe.identifierPrefix;if(Pe){var n=fn,a=ln;n=(a&~(1<<32-Ce(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ta++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Ot().memoizedState=Ih.bind(null,Le)}};lr.useMemoCache=Hu,lr.useHostTransitionStatus=es,lr.useFormState=Ll,lr.useActionState=Ll,lr.useOptimistic=function(e){var t=Ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ts.bind(null,Le,!0,n),n.dispatch=t,[e,t]};var Cn={readContext:St,use:Ra,useCallback:jl,useContext:St,useEffect:Wu,useImperativeHandle:Fl,useInsertionEffect:Gl,useLayoutEffect:zl,useMemo:Il,useReducer:Oa,useRef:Bl,useState:function(){return Oa(hn)},useDebugValue:Qu,useDeferredValue:function(e,t){var n=lt();return Vl(n,Xe.memoizedState,e,t)},useTransition:function(){var e=Oa(hn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:_l,useId:$l};Cn.useCacheRefresh=Yl,Cn.useMemoCache=Hu,Cn.useHostTransitionStatus=es,Cn.useFormState=Cl,Cn.useActionState=Cl,Cn.useOptimistic=function(e,t){var n=lt();return Rl(n,Xe,e,t)};var fr={readContext:St,use:Ra,useCallback:jl,useContext:St,useEffect:Wu,useImperativeHandle:Fl,useInsertionEffect:Gl,useLayoutEffect:zl,useMemo:Il,useReducer:Ku,useRef:Bl,useState:function(){return Ku(hn)},useDebugValue:Qu,useDeferredValue:function(e,t){var n=lt();return Xe===null?Zu(n,e,t):Vl(n,Xe.memoizedState,e,t)},useTransition:function(){var e=Ku(hn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:_l,useId:$l};fr.useCacheRefresh=Yl,fr.useMemoCache=Hu,fr.useHostTransitionStatus=es,fr.useFormState=ql,fr.useActionState=ql,fr.useOptimistic=function(e,t){var n=lt();return Xe!==null?Rl(n,Xe,e,t):(n.baseState=e,[e,n.queue.dispatch])};function ns(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:L({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return(e=e._reactInternals)?te(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Lt(),u=Bn(a);u.payload=t,n!=null&&(u.callback=n),t=Un(e,u,a),t!==null&&(Tt(t,e,a),ki(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Lt(),u=Bn(a);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Un(e,u,a),t!==null&&(Tt(t,e,a),ki(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),a=Bn(n);a.tag=2,t!=null&&(a.callback=t),t=Un(e,a,n),t!==null&&(Tt(t,e,n),ki(t,e,n))}};function Jl(e,t,n,a,u,y,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,y,O):t.prototype&&t.prototype.isPureReactComponent?!hi(n,a)||!hi(u,y):!0}function ef(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function cr(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=L({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}var Ma=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tf(e){Ma(e)}function nf(e){console.error(e)}function rf(e){Ma(e)}function La(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function af(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function is(e,t,n){return n=Bn(n),n.tag=3,n.payload={element:null},n.callback=function(){La(e,t)},n}function uf(e){return e=Bn(e),e.tag=3,e}function sf(e,t,n,a){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var y=a.value;e.payload=function(){return u(y)},e.callback=function(){af(t,n,a)}}var O=n.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){af(t,n,a),typeof u!="function"&&(In===null?In=new Set([this]):In.add(this));var U=a.stack;this.componentDidCatch(a.value,{componentStack:U!==null?U:""})})}function Hh(e,t,n,a,u){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Oi(t,n,u,!0),n=zt.current,n!==null){switch(n.tag){case 13:return Jt===null?zs():n.alternate===null&&it===0&&(it=3),n.flags&=-257,n.flags|=65536,n.lanes=u,a===Nu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Fs(e,a,u)),!1;case 22:return n.flags|=65536,a===Nu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Fs(e,a,u)),!1}throw Error(o(435,n.tag))}return Fs(e,a,u),zs(),!1}if(Pe)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==Cu&&(e=Error(o(422),{cause:a}),gi(Bt(e,n)))):(a!==Cu&&(t=Error(o(423),{cause:a}),gi(Bt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=Bt(a,n),u=is(e.stateNode,a,u),bs(e,u),it!==4&&(it=2)),!1;var y=Error(o(520),{cause:a});if(y=Bt(y,n),Bi===null?Bi=[y]:Bi.push(y),it!==4&&(it=2),t===null)return!0;a=Bt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=is(n.stateNode,a,e),bs(n,e),!1;case 1:if(t=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(In===null||!In.has(y))))return n.flags|=65536,u&=-u,n.lanes|=u,u=uf(u),sf(u,e,n,a),bs(n,u),!1}n=n.return}while(n!==null);return!1}var of=Error(o(461)),gt=!1;function _t(e,t,n,a){t.child=e===null?hl(t,null,n,a):ur(t,e.child,n,a)}function lf(e,t,n,a,u){n=n.render;var y=t.ref;if("ref"in a){var O={};for(var U in a)U!=="ref"&&(O[U]=a[U])}else O=a;return pr(t),a=Fu(e,t,n,O,y,u),U=ju(),e!==null&&!gt?(Iu(e,t,u),pn(e,t,u)):(Pe&&U&&Mu(t),t.flags|=1,_t(e,t,a,u),t.child)}function ff(e,t,n,a,u){if(e===null){var y=n.type;return typeof y=="function"&&!Os(y)&&y.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=y,cf(e,t,y,a,u)):(e=Ua(n.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!ps(e,u)){var O=y.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(O,a)&&e.ref===t.ref)return pn(e,t,u)}return t.flags|=1,e=Fn(y,a),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,n,a,u){if(e!==null){var y=e.memoizedProps;if(hi(y,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=y,ps(e,u))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,pn(e,t,u)}return as(e,t,n,a,u)}function hf(e,t,n){var a=t.pendingProps,u=a.children,y=(t.stateNode._pendingVisibility&2)!==0,O=e!==null?e.memoizedState:null;if(Ri(e,t),a.mode==="hidden"||y){if((t.flags&128)!==0){if(a=O!==null?O.baseLanes|n:n,e!==null){for(u=t.child=e.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;t.childLanes=y&~a}else t.childLanes=0,t.child=null;return pf(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sa(t,O!==null?O.cachePool:null),O!==null?pl(t,O):qu(),dl(t);else return t.lanes=t.childLanes=536870912,pf(e,t,O!==null?O.baseLanes|n:n,n)}else O!==null?(Sa(t,O.cachePool),pl(t,O),Mn(),t.memoizedState=null):(e!==null&&Sa(t,null),qu(),Mn());return _t(e,t,u,n),t.child}function pf(e,t,n,a){var u=zu();return u=u===null?null:{parent:dt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Sa(t,null),qu(),dl(t),e!==null&&Oi(e,t,a,!0),null}function Ri(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function as(e,t,n,a,u){return pr(t),n=Fu(e,t,n,a,void 0,u),a=ju(),e!==null&&!gt?(Iu(e,t,u),pn(e,t,u)):(Pe&&a&&Mu(t),t.flags|=1,_t(e,t,n,u),t.child)}function df(e,t,n,a,u,y){return pr(t),t.updateQueue=null,n=bl(t,a,n,u),ml(e),a=ju(),e!==null&&!gt?(Iu(e,t,y),pn(e,t,y)):(Pe&&a&&Mu(t),t.flags|=1,_t(e,t,n,y),t.child)}function vf(e,t,n,a,u){if(pr(t),t.stateNode===null){var y=Mr,O=n.contextType;typeof O=="object"&&O!==null&&(y=St(O)),y=new n(a,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rs,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=a,y.state=t.memoizedState,y.refs={},ys(t),O=n.contextType,y.context=typeof O=="object"&&O!==null?St(O):Mr,y.state=t.memoizedState,O=n.getDerivedStateFromProps,typeof O=="function"&&(ns(t,n,O,a),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(O=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),O!==y.state&&rs.enqueueReplaceState(y,y.state,null),Di(t,a,y,u),Ai(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){y=t.stateNode;var U=t.memoizedProps,$=cr(n,U);y.props=$;var ie=y.context,ye=n.contextType;O=Mr,typeof ye=="object"&&ye!==null&&(O=St(ye));var _e=n.getDerivedStateFromProps;ye=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",U=t.pendingProps!==U,ye||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(U||ie!==O)&&ef(t,y,a,O),qn=!1;var fe=t.memoizedState;y.state=fe,Di(t,a,y,u),Ai(),ie=t.memoizedState,U||fe!==ie||qn?(typeof _e=="function"&&(ns(t,n,_e,a),ie=t.memoizedState),($=qn||Jl(t,n,$,a,fe,ie,O))?(ye||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=ie),y.props=a,y.state=ie,y.context=O,a=$):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,ms(e,t),O=t.memoizedProps,ye=cr(n,O),y.props=ye,_e=t.pendingProps,fe=y.context,ie=n.contextType,$=Mr,typeof ie=="object"&&ie!==null&&($=St(ie)),U=n.getDerivedStateFromProps,(ie=typeof U=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O!==_e||fe!==$)&&ef(t,y,a,$),qn=!1,fe=t.memoizedState,y.state=fe,Di(t,a,y,u),Ai();var ve=t.memoizedState;O!==_e||fe!==ve||qn||e!==null&&e.dependencies!==null&&Ca(e.dependencies)?(typeof U=="function"&&(ns(t,n,U,a),ve=t.memoizedState),(ye=qn||Jl(t,n,ye,a,fe,ve,$)||e!==null&&e.dependencies!==null&&Ca(e.dependencies))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,ve,$),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,ve,$)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||O===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ve),y.props=a,y.state=ve,y.context=$,a=ye):(typeof y.componentDidUpdate!="function"||O===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),a=!1)}return y=a,Ri(e,t),a=(t.flags&128)!==0,y||a?(y=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&a?(t.child=ur(t,e.child,null,u),t.child=ur(t,null,n,u)):_t(e,t,n,u),t.memoizedState=y.state,e=t.child):e=pn(e,t,u),e}function gf(e,t,n,a){return vi(),t.flags|=256,_t(e,t,n,a),t.child}var us={dehydrated:null,treeContext:null,retryLane:0};function ss(e){return{baseLanes:e,cachePool:yl()}}function os(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=It),e}function yf(e,t,n){var a=t.pendingProps,u=!1,y=(t.flags&128)!==0,O;if((O=y)||(O=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),O&&(u=!0,t.flags&=-129),O=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(u?Dn(t):Mn(),Pe){var U=bt,$;if($=U){e:{for($=U,U=Zt;$.nodeType!==8;){if(!U){U=null;break e}if($=$t($.nextSibling),$===null){U=null;break e}}U=$}U!==null?(t.memoizedState={dehydrated:U,treeContext:rr!==null?{id:ln,overflow:fn}:null,retryLane:536870912},$=jt(18,null,null,0),$.stateNode=U,$.return=t,t.child=$,Et=t,bt=null,$=!0):$=!1}$||ar(t)}if(U=t.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return U.data==="$!"?t.lanes=16:t.lanes=536870912,null;cn(t)}return U=a.children,a=a.fallback,u?(Mn(),u=t.mode,U=fs({mode:"hidden",children:U},u),a=vr(a,u,n,null),U.return=t,a.return=t,U.sibling=a,t.child=U,u=t.child,u.memoizedState=ss(n),u.childLanes=os(e,O,n),t.memoizedState=us,a):(Dn(t),ls(t,U))}if($=e.memoizedState,$!==null&&(U=$.dehydrated,U!==null)){if(y)t.flags&256?(Dn(t),t.flags&=-257,t=cs(e,t,n)):t.memoizedState!==null?(Mn(),t.child=e.child,t.flags|=128,t=null):(Mn(),u=a.fallback,U=t.mode,a=fs({mode:"visible",children:a.children},U),u=vr(u,U,n,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,ur(t,e.child,null,n),a=t.child,a.memoizedState=ss(n),a.childLanes=os(e,O,n),t.memoizedState=us,t=u);else if(Dn(t),U.data==="$!"){if(O=U.nextSibling&&U.nextSibling.dataset,O)var ie=O.dgst;O=ie,a=Error(o(419)),a.stack="",a.digest=O,gi({value:a,source:null,stack:null}),t=cs(e,t,n)}else if(gt||Oi(e,t,n,!1),O=(n&e.childLanes)!==0,gt||O){if(O=Qe,O!==null){if(a=n&-n,(a&42)!==0)a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(a=(a&(O.suspendedLanes|n))!==0?0:a,a!==0&&a!==$.retryLane)throw $.retryLane=a,An(e,a),Tt(O,e,a),of}U.data==="$?"||zs(),t=cs(e,t,n)}else U.data==="$?"?(t.flags|=128,t.child=e.child,t=up.bind(null,e),U._reactRetry=t,t=null):(e=$.treeContext,bt=$t(U.nextSibling),Et=t,Pe=!0,Xt=null,Zt=!1,e!==null&&(Ut[Gt++]=ln,Ut[Gt++]=fn,Ut[Gt++]=rr,ln=e.id,fn=e.overflow,rr=t),t=ls(t,a.children),t.flags|=4096);return t}return u?(Mn(),u=a.fallback,U=t.mode,$=e.child,ie=$.sibling,a=Fn($,{mode:"hidden",children:a.children}),a.subtreeFlags=$.subtreeFlags&31457280,ie!==null?u=Fn(ie,u):(u=vr(u,U,n,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,U=e.child.memoizedState,U===null?U=ss(n):($=U.cachePool,$!==null?(ie=dt._currentValue,$=$.parent!==ie?{parent:ie,pool:ie}:$):$=yl(),U={baseLanes:U.baseLanes|n,cachePool:$}),u.memoizedState=U,u.childLanes=os(e,O,n),t.memoizedState=us,a):(Dn(t),n=e.child,e=n.sibling,n=Fn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(O=t.deletions,O===null?(t.deletions=[e],t.flags|=16):O.push(e)),t.child=n,t.memoizedState=null,n)}function ls(e,t){return t=fs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fs(e,t){return If(e,t,0,null)}function cs(e,t,n){return ur(t,e.child,null,n),e=ls(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mf(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),vs(e.return,t,n)}function hs(e,t,n,a,u){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:u}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=n,y.tailMode=u)}function bf(e,t,n){var a=t.pendingProps,u=a.revealOrder,y=a.tail;if(_t(e,t,a.children,n),a=pt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,n,t);else if(e.tag===19)mf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(de(pt,a),u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&xa(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),hs(t,!1,u,n,y);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&xa(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}hs(t,!0,n,null,y);break;case"together":hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Oi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ps(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ca(e)))}function Xh(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),Nn(t,dt,e.memoizedState.cache),vi();break;case 27:case 5:Oe(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:Nn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Dn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?yf(e,t,n):(Dn(t),e=pn(e,t,n),e!==null?e.sibling:null);Dn(t);break;case 19:var u=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Oi(e,t,n,!1),a=(n&t.childLanes)!==0),u){if(a)return bf(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),de(pt,pt.current),a)break;return null;case 22:case 23:return t.lanes=0,hf(e,t,n);case 24:Nn(t,dt,e.memoizedState.cache)}return pn(e,t,n)}function _f(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!ps(e,n)&&(t.flags&128)===0)return gt=!1,Xh(e,t,n);gt=(e.flags&131072)!==0}else gt=!1,Pe&&(t.flags&1048576)!==0&&rl(t,ga,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,u=a._init;if(a=u(a._payload),t.type=a,typeof a=="function")Os(a)?(e=cr(a,e),t.tag=1,t=vf(null,t,a,e,n)):(t.tag=0,t=as(null,t,a,e,n));else{if(a!=null){if(u=a.$$typeof,u===D){t.tag=11,t=lf(null,t,a,e,n);break e}else if(u===_){t.tag=14,t=ff(null,t,a,e,n);break e}}throw t=W(a)||a,Error(o(306,t,""))}}return t;case 0:return as(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,u=cr(a,t.pendingProps),vf(e,t,a,u,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(o(387));var y=t.pendingProps;u=t.memoizedState,a=u.element,ms(e,t),Di(t,y,null,n);var O=t.memoizedState;if(y=O.cache,Nn(t,dt,y),y!==u.cache&&gs(t,[dt],n,!0),Ai(),y=O.element,u.isDehydrated)if(u={element:y,isDehydrated:!1,cache:O.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=gf(e,t,y,n);break e}else if(y!==a){a=Bt(Error(o(424)),t),gi(a),t=gf(e,t,y,n);break e}else for(bt=$t(t.stateNode.containerInfo.firstChild),Et=t,Pe=!0,Xt=null,Zt=!0,n=hl(t,null,y,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vi(),y===a){t=pn(e,t,n);break e}_t(e,t,y,n)}t=t.child}return t;case 26:return Ri(e,t),e===null?(n=Ec(t.type,null,t.pendingProps,null))?t.memoizedState=n:Pe||(n=t.type,e=t.pendingProps,a=Ya(pe.current).createElement(n),a[ct]=t,a[ht]=e,xt(a,n,e),vt(a),t.stateNode=a):t.memoizedState=Ec(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oe(t),e===null&&Pe&&(a=t.stateNode=_c(t.type,t.pendingProps,pe.current),Et=t,Zt=!0,bt=$t(a.firstChild)),a=t.pendingProps.children,e!==null||Pe?_t(e,t,a,n):t.child=ur(t,null,a,n),Ri(e,t),t.child;case 5:return e===null&&Pe&&((u=a=bt)&&(a=Ep(a,t.type,t.pendingProps,Zt),a!==null?(t.stateNode=a,Et=t,bt=$t(a.firstChild),Zt=!1,u=!0):u=!1),u||ar(t)),Oe(t),u=t.type,y=t.pendingProps,O=e!==null?e.memoizedProps:null,a=y.children,Js(u,y)?a=null:O!==null&&Js(u,O)&&(t.flags|=32),t.memoizedState!==null&&(u=Fu(e,t,zh,null,null,n),Hi._currentValue=u),Ri(e,t),_t(e,t,a,n),t.child;case 6:return e===null&&Pe&&((e=n=bt)&&(n=Tp(n,t.pendingProps,Zt),n!==null?(t.stateNode=n,Et=t,bt=null,e=!0):e=!1),e||ar(t)),null;case 13:return yf(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ur(t,null,a,n):_t(e,t,a,n),t.child;case 11:return lf(e,t,t.type,t.pendingProps,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Nn(t,t.type,a.value),_t(e,t,a.children,n),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,pr(t),u=St(u),a=a(u),t.flags|=1,_t(e,t,a,n),t.child;case 14:return ff(e,t,t.type,t.pendingProps,n);case 15:return cf(e,t,t.type,t.pendingProps,n);case 19:return bf(e,t,n);case 22:return hf(e,t,n);case 24:return pr(t),a=St(dt),e===null?(u=zu(),u===null&&(u=Qe,y=Uu(),u.pooledCache=y,y.refCount++,y!==null&&(u.pooledCacheLanes|=n),u=y),t.memoizedState={parent:a,cache:u},ys(t),Nn(t,dt,u)):((e.lanes&n)!==0&&(ms(e,t),Di(t,null,null,n),Ai()),u=e.memoizedState,y=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Nn(t,dt,a)):(a=y.cache,Nn(t,dt,a),a!==u.cache&&gs(t,[dt],n,!0))),_t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var ds=Q(null),hr=null,dn=null;function Nn(e,t,n){de(ds,t._currentValue),t._currentValue=n}function vn(e){e._currentValue=ds.current,J(ds)}function vs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function gs(e,t,n,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var y=u.dependencies;if(y!==null){var O=u.child;y=y.firstContext;e:for(;y!==null;){var U=y;y=u;for(var $=0;$<t.length;$++)if(U.context===t[$]){y.lanes|=n,U=y.alternate,U!==null&&(U.lanes|=n),vs(y.return,n,e),a||(O=null);break e}y=U.next}}else if(u.tag===18){if(O=u.return,O===null)throw Error(o(341));O.lanes|=n,y=O.alternate,y!==null&&(y.lanes|=n),vs(O,n,e),O=null}else O=u.child;if(O!==null)O.return=u;else for(O=u;O!==null;){if(O===e){O=null;break}if(u=O.sibling,u!==null){u.return=O.return,O=u;break}O=O.return}u=O}}function Oi(e,t,n,a){e=null;for(var u=t,y=!1;u!==null;){if(!y){if((u.flags&524288)!==0)y=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var O=u.alternate;if(O===null)throw Error(o(387));if(O=O.memoizedProps,O!==null){var U=u.type;kt(u.pendingProps.value,O.value)||(e!==null?e.push(U):e=[U])}}else if(u===be.current){if(O=u.alternate,O===null)throw Error(o(387));O.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Hi):e=[Hi])}u=u.return}e!==null&&gs(t,e,n,a),t.flags|=262144}function Ca(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pr(e){hr=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return xf(hr,e)}function Na(e,t){return hr===null&&pr(e),xf(e,t)}function xf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dn===null){if(e===null)throw Error(o(308));dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dn=dn.next=t;return n}var qn=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(tt&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=da(e),tl(e,null,n),t}return pa(e,a,t,n),da(e)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Qn(e,n)}}function bs(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var u=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var O={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?u=y=O:y=y.next=O,n=n.next}while(n!==null);y===null?u=y=t:y=y.next=t}else u=y=t;n={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:y,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _s=!1;function Ai(){if(_s){var e=Ur;if(e!==null)throw e}}function Di(e,t,n,a){_s=!1;var u=e.updateQueue;qn=!1;var y=u.firstBaseUpdate,O=u.lastBaseUpdate,U=u.shared.pending;if(U!==null){u.shared.pending=null;var $=U,ie=$.next;$.next=null,O===null?y=ie:O.next=ie,O=$;var ye=e.alternate;ye!==null&&(ye=ye.updateQueue,U=ye.lastBaseUpdate,U!==O&&(U===null?ye.firstBaseUpdate=ie:U.next=ie,ye.lastBaseUpdate=$))}if(y!==null){var _e=u.baseState;O=0,ye=ie=$=null,U=y;do{var fe=U.lane&-536870913,ve=fe!==U.lane;if(ve?(Ge&fe)===fe:(a&fe)===fe){fe!==0&&fe===Br&&(_s=!0),ye!==null&&(ye=ye.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Te=e,De=U;fe=t;var at=n;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){_e=Te.call(at,_e,fe);break e}_e=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,fe=typeof Te=="function"?Te.call(at,_e,fe):Te,fe==null)break e;_e=L({},_e,fe);break e;case 2:qn=!0}}fe=U.callback,fe!==null&&(e.flags|=64,ve&&(e.flags|=8192),ve=u.callbacks,ve===null?u.callbacks=[fe]:ve.push(fe))}else ve={lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ye===null?(ie=ye=ve,$=_e):ye=ye.next=ve,O|=fe;if(U=U.next,U===null){if(U=u.shared.pending,U===null)break;ve=U,U=ve.next,ve.next=null,u.lastBaseUpdate=ve,u.shared.pending=null}}while(!0);ye===null&&($=_e),u.baseState=$,u.firstBaseUpdate=ie,u.lastBaseUpdate=ye,y===null&&(u.shared.lanes=0),jn|=O,e.lanes=O,e.memoizedState=_e}}function Sf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Ef(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Sf(n[e],t)}function Mi(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var u=a.next;n=u;do{if((n.tag&e)===e){a=void 0;var y=n.create,O=n.inst;a=y(),O.destroy=a}n=n.next}while(n!==u)}}catch(U){Ye(t,t.return,U)}}function Gn(e,t,n){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var y=u.next;a=y;do{if((a.tag&e)===e){var O=a.inst,U=O.destroy;if(U!==void 0){O.destroy=void 0,u=t;var $=n;try{U()}catch(ie){Ye(u,$,ie)}}}a=a.next}while(a!==y)}}catch(ie){Ye(t,t.return,ie)}}function Tf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ef(t,n)}catch(a){Ye(e,e.return,a)}}}function wf(e,t,n){n.props=cr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ye(e,t,a)}}function dr(e,t){try{var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var u=a;break;default:u=a}typeof n=="function"?e.refCleanup=n(u):n.current=u}}catch(y){Ye(e,t,y)}}function At(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(u){Ye(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ye(e,t,u)}else n.current=null}function Rf(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(u){Ye(e,e.return,u)}}function Of(e,t,n){try{var a=e.stateNode;mp(a,e.type,n,t),a[ht]=t}catch(u){Ye(e,e.return,u)}}function kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function xs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ss(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$a));else if(a!==4&&a!==27&&(e=e.child,e!==null))for(Ss(e,t,n),e=e.sibling;e!==null;)Ss(e,t,n),e=e.sibling}function qa(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&a!==27&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}var gn=!1,rt=!1,Es=!1,Af=typeof WeakSet=="function"?WeakSet:Set,yt=null,Df=!1;function Kh(e,t){if(e=e.containerInfo,Qs=tu,e=Xo(e),wu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var u=a.anchorOffset,y=a.focusNode;a=a.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var O=0,U=-1,$=-1,ie=0,ye=0,_e=e,fe=null;t:for(;;){for(var ve;_e!==n||u!==0&&_e.nodeType!==3||(U=O+u),_e!==y||a!==0&&_e.nodeType!==3||($=O+a),_e.nodeType===3&&(O+=_e.nodeValue.length),(ve=_e.firstChild)!==null;)fe=_e,_e=ve;for(;;){if(_e===e)break t;if(fe===n&&++ie===u&&(U=O),fe===y&&++ye===a&&($=O),(ve=_e.nextSibling)!==null)break;_e=fe,fe=_e.parentNode}_e=ve}n=U===-1||$===-1?null:{start:U,end:$}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zs={focusedElem:e,selectionRange:n},tu=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,y=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,n=t,u=y.memoizedProps,y=y.memoizedState,a=n.stateNode;try{var Te=cr(n.type,u,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(Te,y),a.__reactInternalSnapshotBeforeUpdate=e}catch(De){Ye(n,n.return,De)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)no(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":no(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return Te=Df,Df=!1,Te}function Mf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:mn(e,n),a&4&&Mi(5,n);break;case 1:if(mn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(U){Ye(n,n.return,U)}else{var u=cr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(U){Ye(n,n.return,U)}}a&64&&Tf(n),a&512&&dr(n,n.return);break;case 3:if(mn(e,n),a&64&&(a=n.updateQueue,a!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Ef(a,e)}catch(U){Ye(n,n.return,U)}}break;case 26:mn(e,n),a&512&&dr(n,n.return);break;case 27:case 5:mn(e,n),t===null&&a&4&&Rf(n),a&512&&dr(n,n.return);break;case 12:mn(e,n);break;case 13:mn(e,n),a&4&&Nf(e,n);break;case 22:if(u=n.memoizedState!==null||gn,!u){t=t!==null&&t.memoizedState!==null||rt;var y=gn,O=rt;gn=u,(rt=t)&&!O?zn(e,n,(n.subtreeFlags&8772)!==0):mn(e,n),gn=y,rt=O}a&512&&(n.memoizedProps.mode==="manual"?dr(n,n.return):At(n,n.return));break;default:mn(e,n)}}function Lf(e){var t=e.alternate;t!==null&&(e.alternate=null,Lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,Dt=!1;function yn(e,t,n){for(n=n.child;n!==null;)Cf(e,t,n),n=n.sibling}function Cf(e,t,n){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ge,n)}catch{}switch(n.tag){case 26:rt||At(n,t),yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rt||At(n,t);var a=ft,u=Dt;for(ft=n.stateNode,yn(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);lu(n),ft=a,Dt=u;break;case 5:rt||At(n,t);case 6:u=ft;var y=Dt;if(ft=null,yn(e,t,n),ft=u,Dt=y,ft!==null)if(Dt)try{e=ft,a=n.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)}catch(O){Ye(n,t,O)}else try{ft.removeChild(n.stateNode)}catch(O){Ye(n,t,O)}break;case 18:ft!==null&&(Dt?(t=ft,n=n.stateNode,t.nodeType===8?to(t.parentNode,n):t.nodeType===1&&to(t,n),Yi(t)):to(ft,n.stateNode));break;case 4:a=ft,u=Dt,ft=n.stateNode.containerInfo,Dt=!0,yn(e,t,n),ft=a,Dt=u;break;case 0:case 11:case 14:case 15:rt||Gn(2,n,t),rt||Gn(4,n,t),yn(e,t,n);break;case 1:rt||(At(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&wf(n,t,a)),yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:rt||At(n,t),rt=(a=rt)||n.memoizedState!==null,yn(e,t,n),rt=a;break;default:yn(e,t,n)}}function Nf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yi(e)}catch(n){Ye(t,t.return,n)}}function $h(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Af),t;default:throw Error(o(435,e.tag))}}function Ts(e,t){var n=$h(e);t.forEach(function(a){var u=sp.bind(null,e,a);n.has(a)||(n.add(a),a.then(u,u))})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var u=n[a],y=e,O=t,U=O;e:for(;U!==null;){switch(U.tag){case 27:case 5:ft=U.stateNode,Dt=!1;break e;case 3:ft=U.stateNode.containerInfo,Dt=!0;break e;case 4:ft=U.stateNode.containerInfo,Dt=!0;break e}U=U.return}if(ft===null)throw Error(o(160));Cf(y,O,u),ft=null,Dt=!1,y=u.alternate,y!==null&&(y.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)qf(t,e),t=t.sibling}var Kt=null;function qf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),a&4&&(Gn(3,e,e.return),Mi(3,e),Gn(5,e,e.return));break;case 1:Pt(t,e),Ft(e),a&512&&(rt||n===null||At(n,n.return)),a&64&&gn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var u=Kt;if(Pt(t,e),Ft(e),a&512&&(rt||n===null||At(n,n.return)),a&4){var y=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":y=u.getElementsByTagName("title")[0],(!y||y[On]||y[ct]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=u.createElement(a),u.head.insertBefore(y,u.querySelector("head > title"))),xt(y,a,n),y[ct]=e,vt(y),a=y;break e;case"link":var O=Rc("link","href",u).get(a+(n.href||""));if(O){for(var U=0;U<O.length;U++)if(y=O[U],y.getAttribute("href")===(n.href==null?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){O.splice(U,1);break t}}y=u.createElement(a),xt(y,a,n),u.head.appendChild(y);break;case"meta":if(O=Rc("meta","content",u).get(a+(n.content||""))){for(U=0;U<O.length;U++)if(y=O[U],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){O.splice(U,1);break t}}y=u.createElement(a),xt(y,a,n),u.head.appendChild(y);break;default:throw Error(o(468,a))}y[ct]=e,vt(y),a=y}e.stateNode=a}else Oc(u,e.type,e.stateNode);else e.stateNode=wc(u,a,e.memoizedProps);else y!==a?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,a===null?Oc(u,e.type,e.stateNode):wc(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Of(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(a&4&&e.alternate===null){u=e.stateNode,y=e.memoizedProps;try{for(var $=u.firstChild;$;){var ie=$.nextSibling,ye=$.nodeName;$[On]||ye==="HEAD"||ye==="BODY"||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&$.rel.toLowerCase()==="stylesheet"||u.removeChild($),$=ie}for(var _e=e.type,fe=u.attributes;fe.length;)u.removeAttributeNode(fe[0]);xt(u,_e,y),u[ct]=e,u[ht]=y}catch(Te){Ye(e,e.return,Te)}}case 5:if(Pt(t,e),Ft(e),a&512&&(rt||n===null||At(n,n.return)),e.flags&32){u=e.stateNode;try{Tr(u,"")}catch(Te){Ye(e,e.return,Te)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,Of(e,u,n!==null?n.memoizedProps:u)),a&1024&&(Es=!0);break;case 6:if(Pt(t,e),Ft(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Te){Ye(e,e.return,Te)}}break;case 3:if(Za=null,u=Kt,Kt=Wa(t.containerInfo),Pt(t,e),Kt=u,Ft(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(Te){Ye(e,e.return,Te)}Es&&(Es=!1,Bf(e));break;case 4:a=Kt,Kt=Wa(e.stateNode.containerInfo),Pt(t,e),Ft(e),Kt=a;break;case 12:Pt(t,e),Ft(e);break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cs=He()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ts(e,a)));break;case 22:if(a&512&&(rt||n===null||At(n,n.return)),$=e.memoizedState!==null,ie=n!==null&&n.memoizedState!==null,ye=gn,_e=rt,gn=ye||$,rt=_e||ie,Pt(t,e),rt=_e,gn=ye,Ft(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,a&8192&&(t._visibility=$?t._visibility&-2:t._visibility|1,$&&(t=gn||rt,n===null||ie||t||Fr(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){ie=n=t;try{if(u=ie.stateNode,$)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{O=ie.stateNode,U=ie.memoizedProps.style;var ve=U!=null&&U.hasOwnProperty("display")?U.display:null;O.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Te){Ye(ie,ie.return,Te)}}}else if(t.tag===6){if(n===null){ie=t;try{ie.stateNode.nodeValue=$?"":ie.memoizedProps}catch(Te){Ye(ie,ie.return,Te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ts(e,n))));break;case 19:Pt(t,e),Ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ts(e,a)));break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var n=e.return;n!==null;){if(kf(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 27:var u=a.stateNode,y=xs(e);qa(e,y,u);break;case 5:var O=a.stateNode;a.flags&32&&(Tr(O,""),a.flags&=-33);var U=xs(e);qa(e,U,O);break;case 3:case 4:var $=a.stateNode.containerInfo,ie=xs(e);Ss(e,ie,$);break;default:throw Error(o(161))}}}catch(ye){Ye(e,e.return,ye)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mf(e,t.alternate,t),t=t.sibling}function Fr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gn(4,t,t.return),Fr(t);break;case 1:At(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&wf(t,t.return,n),Fr(t);break;case 26:case 27:case 5:At(t,t.return),Fr(t);break;case 22:At(t,t.return),t.memoizedState===null&&Fr(t);break;default:Fr(t)}e=e.sibling}}function zn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,y=t,O=y.flags;switch(y.tag){case 0:case 11:case 15:zn(u,y,n),Mi(4,y);break;case 1:if(zn(u,y,n),a=y,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ie){Ye(a,a.return,ie)}if(a=y,u=a.updateQueue,u!==null){var U=a.stateNode;try{var $=u.shared.hiddenCallbacks;if($!==null)for(u.shared.hiddenCallbacks=null,u=0;u<$.length;u++)Sf($[u],U)}catch(ie){Ye(a,a.return,ie)}}n&&O&64&&Tf(y),dr(y,y.return);break;case 26:case 27:case 5:zn(u,y,n),n&&a===null&&O&4&&Rf(y),dr(y,y.return);break;case 12:zn(u,y,n);break;case 13:zn(u,y,n),n&&O&4&&Nf(u,y);break;case 22:y.memoizedState===null&&zn(u,y,n),dr(y,y.return);break;default:zn(u,y,n)}t=t.sibling}}function ws(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&xi(n))}function Rs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e))}function Pn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uf(e,t,n,a),t=t.sibling}function Uf(e,t,n,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Pn(e,t,n,a),u&2048&&Mi(9,t);break;case 3:Pn(e,t,n,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e)));break;case 12:if(u&2048){Pn(e,t,n,a),e=t.stateNode;try{var y=t.memoizedProps,O=y.id,U=y.onPostCommit;typeof U=="function"&&U(O,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch($){Ye(t,t.return,$)}}else Pn(e,t,n,a);break;case 23:break;case 22:y=t.stateNode,t.memoizedState!==null?y._visibility&4?Pn(e,t,n,a):Li(e,t):y._visibility&4?Pn(e,t,n,a):(y._visibility|=4,jr(e,t,n,a,(t.subtreeFlags&10256)!==0)),u&2048&&ws(t.alternate,t);break;case 24:Pn(e,t,n,a),u&2048&&Rs(t.alternate,t);break;default:Pn(e,t,n,a)}}function jr(e,t,n,a,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var y=e,O=t,U=n,$=a,ie=O.flags;switch(O.tag){case 0:case 11:case 15:jr(y,O,U,$,u),Mi(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&4?jr(y,O,U,$,u):Li(y,O):(ye._visibility|=4,jr(y,O,U,$,u)),u&&ie&2048&&ws(O.alternate,O);break;case 24:jr(y,O,U,$,u),u&&ie&2048&&Rs(O.alternate,O);break;default:jr(y,O,U,$,u)}t=t.sibling}}function Li(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,u=a.flags;switch(a.tag){case 22:Li(n,a),u&2048&&ws(a.alternate,a);break;case 24:Li(n,a),u&2048&&Rs(a.alternate,a);break;default:Li(n,a)}t=t.sibling}}var Ci=8192;function Ir(e){if(e.subtreeFlags&Ci)for(e=e.child;e!==null;)Gf(e),e=e.sibling}function Gf(e){switch(e.tag){case 26:Ir(e),e.flags&Ci&&e.memoizedState!==null&&Up(Kt,e.memoizedState,e.memoizedProps);break;case 5:Ir(e);break;case 3:case 4:var t=Kt;Kt=Wa(e.stateNode.containerInfo),Ir(e),Kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ci,Ci=16777216,Ir(e),Ci=t):Ir(e));break;default:Ir(e)}}function zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ni(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];yt=a,Ff(a,e)}zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(e),e=e.sibling}function Pf(e){switch(e.tag){case 0:case 11:case 15:Ni(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:Ni(e);break;case 12:Ni(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Ba(e)):Ni(e);break;default:Ni(e)}}function Ba(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];yt=a,Ff(a,e)}zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gn(8,t,t.return),Ba(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,Ba(t));break;default:Ba(t)}e=e.sibling}}function Ff(e,t){for(;yt!==null;){var n=yt;switch(n.tag){case 0:case 11:case 15:Gn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:xi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,yt=a;else e:for(n=e;yt!==null;){a=yt;var u=a.sibling,y=a.return;if(Lf(a),a===n){yt=null;break e}if(u!==null){u.return=y,yt=u;break e}yt=y}}}function Yh(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,a){return new Yh(e,t,n,a)}function Os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jf(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ua(e,t,n,a,u,y){var O=0;if(a=e,typeof e=="function")Os(e)&&(O=1);else if(typeof e=="string")O=qp(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case g:return vr(n.children,u,y,t);case v:O=8,u|=24;break;case p:return e=jt(12,n,t,u|2),e.elementType=p,e.lanes=y,e;case m:return e=jt(13,n,t,u),e.elementType=m,e.lanes=y,e;case R:return e=jt(19,n,t,u),e.elementType=R,e.lanes=y,e;case h:return If(n,u,y,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case w:O=10;break e;case S:O=9;break e;case D:O=11;break e;case _:O=14;break e;case b:O=16,a=null;break e}O=29,n=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=jt(O,n,t,u),t.elementType=e,t.type=a,t.lanes=y,t}function vr(e,t,n,a){return e=jt(7,e,a,t),e.lanes=n,e}function If(e,t,n,a){e=jt(22,e,a,t),e.elementType=h,e.lanes=n;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=u._current;if(y===null)throw Error(o(456));if((u._pendingVisibility&2)===0){var O=An(y,2);O!==null&&(u._pendingVisibility|=2,Tt(O,y,2))}},attach:function(){var y=u._current;if(y===null)throw Error(o(456));if((u._pendingVisibility&2)!==0){var O=An(y,2);O!==null&&(u._pendingVisibility&=-3,Tt(O,y,2))}}};return e.stateNode=u,e}function ks(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function As(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bn(e){e.flags|=4}function Vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kc(t)){if(t=zt.current,t!==null&&((Ge&4194176)===Ge?Jt!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||t!==Jt))throw mi=Nu,ul;e.flags|=8192}}function Ga(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yn():536870912,e.lanes|=t,Hr|=t)}function qi(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags&31457280,a|=u.flags&31457280,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Wh(e,t,n){var a=t.pendingProps;switch(Lu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),vn(dt),Ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(di(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xt!==null&&(Us(Xt),Xt=null))),et(t),null;case 26:return n=t.memoizedState,e===null?(bn(t),n!==null?(et(t),Vf(t,n)):(et(t),t.flags&=-16777217)):n?n!==e.memoizedState?(bn(t),et(t),Vf(t,n)):(et(t),t.flags&=-16777217):(e.memoizedProps!==a&&bn(t),et(t),t.flags&=-16777217),null;case 27:Ie(t),n=pe.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return et(t),null}e=P.current,di(t)?il(t):(e=_c(u,a,n),t.stateNode=e,bn(t))}return et(t),null;case 5:if(Ie(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(e=P.current,di(t))il(t);else{switch(u=Ya(pe.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(n,{is:a.is}):u.createElement(n)}}e[ct]=t,e[ht]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(xt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&bn(t)}}return et(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&bn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=pe.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,u=Et,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||dc(e.nodeValue,n)),e||ar(t)}else e=Ya(e).createTextNode(a),e[ct]=t,t.stateNode=e}return et(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=di(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[ct]=t}else vi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),u=!1}else Xt!==null&&(Us(Xt),Xt=null),u=!0;if(!u)return t.flags&256?(cn(t),t):(cn(t),null)}if(cn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var y=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),y!==u&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ga(t,t.updateQueue),et(t),null;case 4:return Ee(),e===null&&$s(t.stateNode.containerInfo),et(t),null;case 10:return vn(t.type),et(t),null;case 19:if(J(pt),u=t.memoizedState,u===null)return et(t),null;if(a=(t.flags&128)!==0,y=u.rendering,y===null)if(a)qi(u,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=xa(e),y!==null){for(t.flags|=128,qi(u,!1),e=y.updateQueue,t.updateQueue=e,Ga(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jf(n,e),n=n.sibling;return de(pt,pt.current&1|2),t.child}e=e.sibling}u.tail!==null&&He()>za&&(t.flags|=128,a=!0,qi(u,!1),t.lanes=4194304)}else{if(!a)if(e=xa(y),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ga(t,e),qi(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Pe)return et(t),null}else 2*He()-u.renderingStartTime>za&&n!==536870912&&(t.flags|=128,a=!0,qi(u,!1),t.lanes=4194304);u.isBackwards?(y.sibling=t.child,t.child=y):(e=u.last,e!==null?e.sibling=y:t.child=y,u.last=y)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=He(),t.sibling=null,e=pt.current,de(pt,a?e&1|2:e&1),t):(et(t),null);case 22:case 23:return cn(t),Bu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),n=t.updateQueue,n!==null&&Ga(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&J(sr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vn(dt),et(t),null;case 25:return null}throw Error(o(156,t.tag))}function Qh(e,t){switch(Lu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(dt),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 13:if(cn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(pt),null;case 4:return Ee(),null;case 10:return vn(t.type),null;case 22:case 23:return cn(t),Bu(),e!==null&&J(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(dt),null;case 25:return null;default:return null}}function Hf(e,t){switch(Lu(t),t.tag){case 3:vn(dt),Ee();break;case 26:case 27:case 5:Ie(t);break;case 4:Ee();break;case 13:cn(t);break;case 19:J(pt);break;case 10:vn(t.type);break;case 22:case 23:cn(t),Bu(),e!==null&&J(sr);break;case 24:vn(dt)}}var Zh={getCacheForType:function(e){var t=St(dt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Jh=typeof WeakMap=="function"?WeakMap:Map,tt=0,Qe=null,qe=null,Ge=0,Ze=0,Mt=null,_n=!1,Vr=!1,Ds=!1,xn=0,it=0,jn=0,gr=0,Ms=0,It=0,Hr=0,Bi=null,tn=null,Ls=!1,Cs=0,za=1/0,Pa=null,In=null,Fa=!1,yr=null,Ui=0,Ns=0,qs=null,Gi=0,Bs=null;function Lt(){if((tt&2)!==0&&Ge!==0)return Ge&-Ge;if(H.T!==null){var e=Br;return e!==0?e:Vs()}return Wi()}function Xf(){It===0&&(It=(Ge&536870912)===0||Pe?ti():536870912);var e=zt.current;return e!==null&&(e.flags|=32),It}function Tt(e,t,n){(e===Qe&&Ze===2||e.cancelPendingCommit!==null)&&(Xr(e,0),Sn(e,Ge,It,!1)),Wt(e,n),((tt&2)===0||e!==Qe)&&(e===Qe&&((tt&2)===0&&(gr|=n),it===4&&Sn(e,Ge,It,!1)),nn(e))}function Kf(e,t,n){if((tt&6)!==0)throw Error(o(327));var a=!n&&(t&60)===0&&(t&e.expiredLanes)===0||wn(e,t),u=a?np(e,t):Ps(e,t,!0),y=a;do{if(u===0){Vr&&!a&&Sn(e,t,0,!1);break}else if(u===6)Sn(e,t,0,!_n);else{if(n=e.current.alternate,y&&!ep(n)){u=Ps(e,t,!1),y=!1;continue}if(u===2){if(y=t,e.errorRecoveryDisabledLanes&y)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){t=O;e:{var U=e;u=Bi;var $=U.current.memoizedState.isDehydrated;if($&&(Xr(U,O).flags|=256),O=Ps(U,O,!1),O!==2){if(Ds&&!$){U.errorRecoveryDisabledLanes|=y,gr|=y,u=4;break e}y=tn,tn=u,y!==null&&Us(y)}u=O}if(y=!1,u!==2)continue}}if(u===1){Xr(e,0),Sn(e,t,0,!0);break}e:{switch(a=e,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194176)===t){Sn(a,t,It,!_n);break e}break;case 2:tn=null;break;case 3:case 5:break;default:throw Error(o(329))}if(a.finishedWork=n,a.finishedLanes=t,(t&62914560)===t&&(y=Cs+300-He(),10<y)){if(Sn(a,t,It,!_n),an(a,0)!==0)break e;a.timeoutHandle=yc($f.bind(null,a,n,tn,Pa,Ls,t,It,gr,Hr,_n,2,-0,0),y);break e}$f(a,n,tn,Pa,Ls,t,It,gr,Hr,_n,0,-0,0)}}break}while(!0);nn(e)}function Us(e){tn===null?tn=e:tn.push.apply(tn,e)}function $f(e,t,n,a,u,y,O,U,$,ie,ye,_e,fe){var ve=t.subtreeFlags;if((ve&8192||(ve&16785408)===16785408)&&(Vi={stylesheets:null,count:0,unsuspend:Bp},Gf(t),t=Gp(),t!==null)){e.cancelPendingCommit=t(tc.bind(null,e,n,a,u,O,U,$,1,_e,fe)),Sn(e,y,O,!ie);return}tc(e,n,a,u,O,U,$,ye,_e,fe)}function ep(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var u=n[a],y=u.getSnapshot;u=u.value;try{if(!kt(y(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t,n,a){t&=~Ms,t&=~gr,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var y=31-Ce(u),O=1<<y;a[y]=-1,u&=~O}n!==0&&Rn(e,n,t)}function ja(){return(tt&6)===0?(zi(0),!1):!0}function Gs(){if(qe!==null){if(Ze===0)var e=qe.return;else e=qe,dn=hr=null,Vu(e),Nr=null,bi=0,e=qe;for(;e!==null;)Hf(e.alternate,e),e=e.return;qe=null}}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_p(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Gs(),Qe=e,qe=n=Fn(e.current,null),Ge=t,Ze=0,Mt=null,_n=!1,Vr=wn(e,t),Ds=!1,Hr=It=Ms=gr=jn=it=0,tn=Bi=null,Ls=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-Ce(a),y=1<<u;t|=e[u],a&=~y}return xn=t,ha(),n}function Yf(e,t){Le=null,H.H=en,t===yi?(t=ll(),Ze=3):t===ul?(t=ll(),Ze=4):Ze=t===of?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,qe===null&&(it=1,La(e,Bt(t,e.current)))}function Wf(){var e=H.H;return H.H=en,e===null?en:e}function Qf(){var e=H.A;return H.A=Zh,e}function zs(){it=4,_n||(Ge&4194176)!==Ge&&zt.current!==null||(Vr=!0),(jn&134217727)===0&&(gr&134217727)===0||Qe===null||Sn(Qe,Ge,It,!1)}function Ps(e,t,n){var a=tt;tt|=2;var u=Wf(),y=Qf();(Qe!==e||Ge!==t)&&(Pa=null,Xr(e,t)),t=!1;var O=it;e:do try{if(Ze!==0&&qe!==null){var U=qe,$=Mt;switch(Ze){case 8:Gs(),O=6;break e;case 3:case 2:case 6:zt.current===null&&(t=!0);var ie=Ze;if(Ze=0,Mt=null,Kr(e,U,$,ie),n&&Vr){O=0;break e}break;default:ie=Ze,Ze=0,Mt=null,Kr(e,U,$,ie)}}tp(),O=it;break}catch(ye){Yf(e,ye)}while(!0);return t&&e.shellSuspendCounter++,dn=hr=null,tt=a,H.H=u,H.A=y,qe===null&&(Qe=null,Ge=0,ha()),O}function tp(){for(;qe!==null;)Zf(qe)}function np(e,t){var n=tt;tt|=2;var a=Wf(),u=Qf();Qe!==e||Ge!==t?(Pa=null,za=He()+500,Xr(e,t)):Vr=wn(e,t);e:do try{if(Ze!==0&&qe!==null){t=qe;var y=Mt;t:switch(Ze){case 1:Ze=0,Mt=null,Kr(e,t,y,1);break;case 2:if(sl(y)){Ze=0,Mt=null,Jf(t);break}t=function(){Ze===2&&Qe===e&&(Ze=7),nn(e)},y.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:sl(y)?(Ze=0,Mt=null,Jf(t)):(Ze=0,Mt=null,Kr(e,t,y,7));break;case 5:var O=null;switch(qe.tag){case 26:O=qe.memoizedState;case 5:case 27:var U=qe;if(!O||kc(O)){Ze=0,Mt=null;var $=U.sibling;if($!==null)qe=$;else{var ie=U.return;ie!==null?(qe=ie,Ia(ie)):qe=null}break t}}Ze=0,Mt=null,Kr(e,t,y,5);break;case 6:Ze=0,Mt=null,Kr(e,t,y,6);break;case 8:Gs(),it=6;break e;default:throw Error(o(462))}}rp();break}catch(ye){Yf(e,ye)}while(!0);return dn=hr=null,H.H=a,H.A=u,tt=n,qe!==null?0:(Qe=null,Ge=0,ha(),it)}function rp(){for(;qe!==null&&!Je();)Zf(qe)}function Zf(e){var t=_f(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?Ia(e):qe=t}function Jf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=df(n,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=df(n,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:Vu(t);default:Hf(n,t),t=qe=jf(t,xn),t=_f(n,t,xn)}e.memoizedProps=e.pendingProps,t===null?Ia(e):qe=t}function Kr(e,t,n,a){dn=hr=null,Vu(t),Nr=null,bi=0;var u=t.return;try{if(Hh(e,u,t,n,Ge)){it=1,La(e,Bt(n,e.current)),qe=null;return}}catch(y){if(u!==null)throw qe=u,y;it=1,La(e,Bt(n,e.current)),qe=null;return}t.flags&32768?(Pe||a===1?e=!0:Vr||(Ge&536870912)!==0?e=!1:(_n=e=!0,(a===2||a===3||a===6)&&(a=zt.current,a!==null&&a.tag===13&&(a.flags|=16384))),ec(t,e)):Ia(t)}function Ia(e){var t=e;do{if((t.flags&32768)!==0){ec(t,_n);return}e=t.return;var n=Wh(t.alternate,t,xn);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);it===0&&(it=5)}function ec(e,t){do{var n=Qh(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);it=6,qe=null}function tc(e,t,n,a,u,y,O,U,$,ie){var ye=H.T,_e=ce.p;try{ce.p=2,H.T=null,ip(e,t,n,a,_e,u,y,O,U,$,ie)}finally{H.T=ye,ce.p=_e}}function ip(e,t,n,a,u,y,O,U){do $r();while(yr!==null);if((tt&6)!==0)throw Error(o(327));var $=e.finishedWork;if(a=e.finishedLanes,$===null)return null;if(e.finishedWork=null,e.finishedLanes=0,$===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var ie=$.lanes|$.childLanes;if(ie|=Au,ni(e,a,ie,y,O,U),e===Qe&&(qe=Qe=null,Ge=0),($.subtreeFlags&10256)===0&&($.flags&10256)===0||Fa||(Fa=!0,Ns=ie,qs=n,op(x,function(){return $r(),null})),n=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||n?(n=H.T,H.T=null,y=ce.p,ce.p=2,O=tt,tt|=4,Kh(e,$),qf($,e),kh(Zs,e.containerInfo),tu=!!Qs,Zs=Qs=null,e.current=$,Mf(e,$.alternate,$),Ae(),tt=O,ce.p=y,H.T=n):e.current=$,Fa?(Fa=!1,yr=e,Ui=a):nc(e,ie),ie=e.pendingLanes,ie===0&&(In=null),$e($.stateNode),nn(e),t!==null)for(u=e.onRecoverableError,$=0;$<t.length;$++)ie=t[$],u(ie.value,{componentStack:ie.stack});return(Ui&3)!==0&&$r(),ie=e.pendingLanes,(a&4194218)!==0&&(ie&42)!==0?e===Bs?Gi++:(Gi=0,Bs=e):Gi=0,zi(0),null}function nc(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xi(t)))}function $r(){if(yr!==null){var e=yr,t=Ns;Ns=0;var n=ri(Ui),a=H.T,u=ce.p;try{if(ce.p=32>n?32:n,H.T=null,yr===null)var y=!1;else{n=qs,qs=null;var O=yr,U=Ui;if(yr=null,Ui=0,(tt&6)!==0)throw Error(o(331));var $=tt;if(tt|=4,Pf(O.current),Uf(O,O.current,U,n),tt=$,zi(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ge,O)}catch{}y=!0}return y}finally{ce.p=u,H.T=a,nc(e,t)}}return!1}function rc(e,t,n){t=Bt(n,t),t=is(e.stateNode,t,2),e=Un(e,t,2),e!==null&&(Wt(e,2),nn(e))}function Ye(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(In===null||!In.has(a))){e=Bt(n,e),n=uf(2),a=Un(t,n,2),a!==null&&(sf(n,a,t,e),Wt(a,2),nn(a));break}}t=t.return}}function Fs(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Jh;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(n)||(Ds=!0,u.add(n),e=ap.bind(null,e,t,n),t.then(e,e))}function ap(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Qe===e&&(Ge&n)===n&&(it===4||it===3&&(Ge&62914560)===Ge&&300>He()-Cs?(tt&2)===0&&Xr(e,0):Ms|=n,Hr===Ge&&(Hr=0)),nn(e)}function ic(e,t){t===0&&(t=Yn()),e=An(e,t),e!==null&&(Wt(e,t),nn(e))}function up(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ic(e,n)}function sp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ic(e,n)}function op(e,t){return Ve(e,t)}var Va=null,Yr=null,js=!1,Ha=!1,Is=!1,mr=0;function nn(e){e!==Yr&&e.next===null&&(Yr===null?Va=Yr=e:Yr=Yr.next=e),Ha=!0,js||(js=!0,fp(lp))}function zi(e,t){if(!Is&&Ha){Is=!0;do for(var n=!1,a=Va;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var y=0;else{var O=a.suspendedLanes,U=a.pingedLanes;y=(1<<31-Ce(42|e)+1)-1,y&=u&~(O&~U),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(n=!0,sc(a,y))}else y=Ge,y=an(a,a===Qe?y:0),(y&3)===0||wn(a,y)||(n=!0,sc(a,y));a=a.next}while(n);Is=!1}}function lp(){Ha=js=!1;var e=0;mr!==0&&(bp()&&(e=mr),mr=0);for(var t=He(),n=null,a=Va;a!==null;){var u=a.next,y=ac(a,t);y===0?(a.next=null,n===null?Va=u:n.next=u,u===null&&(Yr=n)):(n=a,(e!==0||(y&3)!==0)&&(Ha=!0)),a=u}zi(e)}function ac(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var O=31-Ce(y),U=1<<O,$=u[O];$===-1?((U&n)===0||(U&a)!==0)&&(u[O]=ou(U,t)):$<=t&&(e.expiredLanes|=U),y&=~U}if(t=Qe,n=Ge,n=an(e,e===t?n:0),a=e.callbackNode,n===0||e===t&&Ze===2||e.cancelPendingCommit!==null)return a!==null&&a!==null&&st(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||wn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&st(a),ri(n)){case 2:case 8:n=C;break;case 32:n=x;break;case 268435456:n=I;break;default:n=x}return a=uc.bind(null,e),n=Ve(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&st(a),e.callbackPriority=2,e.callbackNode=null,2}function uc(e,t){var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var a=Ge;return a=an(e,e===Qe?a:0),a===0?null:(Kf(e,a,t),ac(e,He()),e.callbackNode!=null&&e.callbackNode===n?uc.bind(null,e):null)}function sc(e,t){if($r())return null;Kf(e,t,!0)}function fp(e){xp(function(){(tt&6)!==0?Ve(nt,e):e()})}function Vs(){return mr===0&&(mr=ti()),mr}function oc(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function lc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function cp(e,t,n,a,u){if(t==="submit"&&n&&n.stateNode===u){var y=oc((u[ht]||null).action),O=a.submitter;O&&(t=(t=O[ht]||null)?oc(t.formAction):O.getAttribute("formAction"),t!==null&&(y=t,O=null));var U=new la("action","action",null,a,u);e.push({event:U,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(mr!==0){var $=O?lc(u,O):new FormData(u);Ju(n,{pending:!0,data:$,method:u.method,action:y},null,$)}}else typeof y=="function"&&(U.preventDefault(),$=O?lc(u,O):new FormData(u),Ju(n,{pending:!0,data:$,method:u.method,action:y},y,$))},currentTarget:u}]})}}for(var Hs=0;Hs<el.length;Hs++){var Xs=el[Hs],hp=Xs.toLowerCase(),dp=Xs[0].toUpperCase()+Xs.slice(1);Ht(hp,"on"+dp)}Ht(Yo,"onAnimationEnd"),Ht(Wo,"onAnimationIteration"),Ht(Qo,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(Dh,"onTransitionRun"),Ht(Mh,"onTransitionStart"),Ht(Lh,"onTransitionCancel"),Ht(Zo,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function fc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],u=a.event;a=a.listeners;e:{var y=void 0;if(t)for(var O=a.length-1;0<=O;O--){var U=a[O],$=U.instance,ie=U.currentTarget;if(U=U.listener,$!==y&&u.isPropagationStopped())break e;y=U,u.currentTarget=ie;try{y(u)}catch(ye){Ma(ye)}u.currentTarget=null,y=$}else for(O=0;O<a.length;O++){if(U=a[O],$=U.instance,ie=U.currentTarget,U=U.listener,$!==y&&u.isPropagationStopped())break e;y=U,u.currentTarget=ie;try{y(u)}catch(ye){Ma(ye)}u.currentTarget=null,y=$}}}}function Ue(e,t){var n=t[un];n===void 0&&(n=t[un]=new Set);var a=e+"__bubble";n.has(a)||(cc(t,e,2,!1),n.add(a))}function Ks(e,t,n){var a=0;t&&(a|=4),cc(n,e,a,t)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function $s(e){if(!e[Xa]){e[Xa]=!0,ho.forEach(function(n){n!=="selectionchange"&&(vp.has(n)||Ks(n,!1,e),Ks(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xa]||(t[Xa]=!0,Ks("selectionchange",!1,t))}}function cc(e,t,n,a){switch(Nc(t)){case 2:var u=Fp;break;case 8:u=jp;break;default:u=so}n=u.bind(null,t,n,e),u=void 0,!gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ys(e,t,n,a,u){var y=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var O=a.tag;if(O===3||O===4){var U=a.stateNode.containerInfo;if(U===u||U.nodeType===8&&U.parentNode===u)break;if(O===4)for(O=a.return;O!==null;){var $=O.tag;if(($===3||$===4)&&($=O.stateNode.containerInfo,$===u||$.nodeType===8&&$.parentNode===u))return;O=O.return}for(;U!==null;){if(O=Zn(U),O===null)return;if($=O.tag,$===5||$===6||$===26||$===27){a=y=O;continue e}U=U.parentNode}}a=a.return}wo(function(){var ie=y,ye=du(n),_e=[];e:{var fe=Jo.get(e);if(fe!==void 0){var ve=la,Te=e;switch(e){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":ve=sh;break;case"focusin":Te="focus",ve=_u;break;case"focusout":Te="blur",ve=_u;break;case"beforeblur":case"afterblur":ve=_u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=fh;break;case Yo:case Wo:case Qo:ve=Zc;break;case Zo:ve=hh;break;case"scroll":case"scrollend":ve=Kc;break;case"wheel":ve=dh;break;case"copy":case"cut":case"paste":ve=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Do;break;case"toggle":case"beforetoggle":ve=gh}var De=(t&4)!==0,at=!De&&(e==="scroll"||e==="scrollend"),se=De?fe!==null?fe+"Capture":null:fe;De=[];for(var ne=ie,le;ne!==null;){var me=ne;if(le=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||le===null||se===null||(me=ai(ne,se),me!=null&&De.push(Fi(ne,me,le))),at)break;ne=ne.return}0<De.length&&(fe=new ve(fe,Te,null,n,ye),_e.push({event:fe,listeners:De}))}}if((t&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",fe&&n!==pu&&(Te=n.relatedTarget||n.fromElement)&&(Zn(Te)||Te[Qt]))break e;if((ve||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,ve?(Te=n.relatedTarget||n.toElement,ve=ie,Te=Te?Zn(Te):null,Te!==null&&(at=te(Te),De=Te.tag,Te!==at||De!==5&&De!==27&&De!==6)&&(Te=null)):(ve=null,Te=ie),ve!==Te)){if(De=ko,me="onMouseLeave",se="onMouseEnter",ne="mouse",(e==="pointerout"||e==="pointerover")&&(De=Do,me="onPointerLeave",se="onPointerEnter",ne="pointer"),at=ve==null?fe:ii(ve),le=Te==null?fe:ii(Te),fe=new De(me,ne+"leave",ve,n,ye),fe.target=at,fe.relatedTarget=le,me=null,Zn(ye)===ie&&(De=new De(se,ne+"enter",Te,n,ye),De.target=le,De.relatedTarget=at,me=De),at=me,ve&&Te)t:{for(De=ve,se=Te,ne=0,le=De;le;le=Wr(le))ne++;for(le=0,me=se;me;me=Wr(me))le++;for(;0<ne-le;)De=Wr(De),ne--;for(;0<le-ne;)se=Wr(se),le--;for(;ne--;){if(De===se||se!==null&&De===se.alternate)break t;De=Wr(De),se=Wr(se)}De=null}else De=null;ve!==null&&hc(_e,fe,ve,De,!1),Te!==null&&at!==null&&hc(_e,at,Te,De,!0)}}e:{if(fe=ie?ii(ie):window,ve=fe.nodeName&&fe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&fe.type==="file")var Se=Go;else if(Bo(fe))if(zo)Se=Rh;else{Se=Th;var Ne=Eh}else ve=fe.nodeName,!ve||ve.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ie&&hu(ie.elementType)&&(Se=Go):Se=wh;if(Se&&(Se=Se(e,ie))){Uo(_e,Se,n,ye);break e}Ne&&Ne(e,fe,ie),e==="focusout"&&ie&&fe.type==="number"&&ie.memoizedProps.value!=null&&cu(fe,"number",fe.value)}switch(Ne=ie?ii(ie):window,e){case"focusin":(Bo(Ne)||Ne.contentEditable==="true")&&(kr=Ne,Ru=ie,pi=null);break;case"focusout":pi=Ru=kr=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Ko(_e,n,ye);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":Ko(_e,n,ye)}var we;if(Su)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Or?No(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(Mo&&n.locale!=="ko"&&(Or||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Or&&(we=Ro()):(kn=ye,yu="value"in kn?kn.value:kn.textContent,Or=!0)),Ne=Ka(ie,ke),0<Ne.length&&(ke=new Ao(ke,e,null,n,ye),_e.push({event:ke,listeners:Ne}),we?ke.data=we:(we=qo(n),we!==null&&(ke.data=we)))),(we=mh?bh(e,n):_h(e,n))&&(ke=Ka(ie,"onBeforeInput"),0<ke.length&&(Ne=new Ao("onBeforeInput","beforeinput",null,n,ye),_e.push({event:Ne,listeners:ke}),Ne.data=we)),cp(_e,e,ie,n,ye)}fc(_e,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ka(e,t){for(var n=t+"Capture",a=[];e!==null;){var u=e,y=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||y===null||(u=ai(e,n),u!=null&&a.unshift(Fi(e,u,y)),u=ai(e,t),u!=null&&a.push(Fi(e,u,y))),e=e.return}return a}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hc(e,t,n,a,u){for(var y=t._reactName,O=[];n!==null&&n!==a;){var U=n,$=U.alternate,ie=U.stateNode;if(U=U.tag,$!==null&&$===a)break;U!==5&&U!==26&&U!==27||ie===null||($=ie,u?(ie=ai(n,y),ie!=null&&O.unshift(Fi(n,ie,$))):u||(ie=ai(n,y),ie!=null&&O.push(Fi(n,ie,$)))),n=n.return}O.length!==0&&e.push({event:t,listeners:O})}var gp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(gp,`
`).replace(yp,"")}function dc(e,t){return t=pc(t),pc(e)===t}function $a(){}function Ke(e,t,n,a,u,y){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Tr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Tr(e,""+a);break;case"className":na(e,"class",a);break;case"tabIndex":na(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":na(e,n,a);break;case"style":Eo(e,a,y);break;case"data":if(t!=="object"){na(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=aa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(t!=="input"&&Ke(e,t,"name",u.name,u,null),Ke(e,t,"formEncType",u.formEncType,u,null),Ke(e,t,"formMethod",u.formMethod,u,null),Ke(e,t,"formTarget",u.formTarget,u,null)):(Ke(e,t,"encType",u.encType,u,null),Ke(e,t,"method",u.method,u,null),Ke(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=aa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=$a);break;case"onScroll":a!=null&&Ue("scroll",e);break;case"onScrollEnd":a!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=aa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),ta(e,"popover",a);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ta(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Hc.get(n)||n,ta(e,n,a))}}function Ws(e,t,n,a,u,y){switch(n){case"style":Eo(e,a,y);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Tr(e,a):(typeof a=="number"||typeof a=="bigint")&&Tr(e,""+a);break;case"onScroll":a!=null&&Ue("scroll",e);break;case"onScrollEnd":a!=null&&Ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=$a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),y=e[ht]||null,y=y!=null?y[n]:null,typeof y=="function"&&e.removeEventListener(t,y,u),typeof a=="function")){typeof y!="function"&&y!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,u);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ta(e,n,a)}}}function xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var a=!1,u=!1,y;for(y in n)if(n.hasOwnProperty(y)){var O=n[y];if(O!=null)switch(y){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ke(e,t,y,O,n,null)}}u&&Ke(e,t,"srcSet",n.srcSet,n,null),a&&Ke(e,t,"src",n.src,n,null);return;case"input":Ue("invalid",e);var U=y=O=u=null,$=null,ie=null;for(a in n)if(n.hasOwnProperty(a)){var ye=n[a];if(ye!=null)switch(a){case"name":u=ye;break;case"type":O=ye;break;case"checked":$=ye;break;case"defaultChecked":ie=ye;break;case"value":y=ye;break;case"defaultValue":U=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,t));break;default:Ke(e,t,a,ye,n,null)}}bo(e,y,U,$,ie,O,u,!1),ra(e);return;case"select":Ue("invalid",e),a=O=y=null;for(u in n)if(n.hasOwnProperty(u)&&(U=n[u],U!=null))switch(u){case"value":y=U;break;case"defaultValue":O=U;break;case"multiple":a=U;default:Ke(e,t,u,U,n,null)}t=y,n=O,e.multiple=!!a,t!=null?Er(e,!!a,t,!1):n!=null&&Er(e,!!a,n,!0);return;case"textarea":Ue("invalid",e),y=u=a=null;for(O in n)if(n.hasOwnProperty(O)&&(U=n[O],U!=null))switch(O){case"value":a=U;break;case"defaultValue":u=U;break;case"children":y=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(91));break;default:Ke(e,t,O,U,n,null)}xo(e,a,u,y),ra(e);return;case"option":for($ in n)if(n.hasOwnProperty($)&&(a=n[$],a!=null))switch($){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ke(e,t,$,a,n,null)}return;case"dialog":Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(a=0;a<Pi.length;a++)Ue(Pi[a],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in n)if(n.hasOwnProperty(ie)&&(a=n[ie],a!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ke(e,t,ie,a,n,null)}return;default:if(hu(t)){for(ye in n)n.hasOwnProperty(ye)&&(a=n[ye],a!==void 0&&Ws(e,t,ye,a,n,void 0));return}}for(U in n)n.hasOwnProperty(U)&&(a=n[U],a!=null&&Ke(e,t,U,a,n,null))}function mp(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,y=null,O=null,U=null,$=null,ie=null,ye=null;for(ve in n){var _e=n[ve];if(n.hasOwnProperty(ve)&&_e!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":$=_e;default:a.hasOwnProperty(ve)||Ke(e,t,ve,null,a,_e)}}for(var fe in a){var ve=a[fe];if(_e=n[fe],a.hasOwnProperty(fe)&&(ve!=null||_e!=null))switch(fe){case"type":y=ve;break;case"name":u=ve;break;case"checked":ie=ve;break;case"defaultChecked":ye=ve;break;case"value":O=ve;break;case"defaultValue":U=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(o(137,t));break;default:ve!==_e&&Ke(e,t,fe,ve,a,_e)}}fu(e,O,U,$,ie,ye,y,u);return;case"select":ve=O=U=fe=null;for(y in n)if($=n[y],n.hasOwnProperty(y)&&$!=null)switch(y){case"value":break;case"multiple":ve=$;default:a.hasOwnProperty(y)||Ke(e,t,y,null,a,$)}for(u in a)if(y=a[u],$=n[u],a.hasOwnProperty(u)&&(y!=null||$!=null))switch(u){case"value":fe=y;break;case"defaultValue":U=y;break;case"multiple":O=y;default:y!==$&&Ke(e,t,u,y,a,$)}t=U,n=O,a=ve,fe!=null?Er(e,!!n,fe,!1):!!a!=!!n&&(t!=null?Er(e,!!n,t,!0):Er(e,!!n,n?[]:"",!1));return;case"textarea":ve=fe=null;for(U in n)if(u=n[U],n.hasOwnProperty(U)&&u!=null&&!a.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Ke(e,t,U,null,a,u)}for(O in a)if(u=a[O],y=n[O],a.hasOwnProperty(O)&&(u!=null||y!=null))switch(O){case"value":fe=u;break;case"defaultValue":ve=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==y&&Ke(e,t,O,u,a,y)}_o(e,fe,ve);return;case"option":for(var Te in n)if(fe=n[Te],n.hasOwnProperty(Te)&&fe!=null&&!a.hasOwnProperty(Te))switch(Te){case"selected":e.selected=!1;break;default:Ke(e,t,Te,null,a,fe)}for($ in a)if(fe=a[$],ve=n[$],a.hasOwnProperty($)&&fe!==ve&&(fe!=null||ve!=null))switch($){case"selected":e.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ke(e,t,$,fe,a,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in n)fe=n[De],n.hasOwnProperty(De)&&fe!=null&&!a.hasOwnProperty(De)&&Ke(e,t,De,null,a,fe);for(ie in a)if(fe=a[ie],ve=n[ie],a.hasOwnProperty(ie)&&fe!==ve&&(fe!=null||ve!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,t));break;default:Ke(e,t,ie,fe,a,ve)}return;default:if(hu(t)){for(var at in n)fe=n[at],n.hasOwnProperty(at)&&fe!==void 0&&!a.hasOwnProperty(at)&&Ws(e,t,at,void 0,a,fe);for(ye in a)fe=a[ye],ve=n[ye],!a.hasOwnProperty(ye)||fe===ve||fe===void 0&&ve===void 0||Ws(e,t,ye,fe,a,ve);return}}for(var se in n)fe=n[se],n.hasOwnProperty(se)&&fe!=null&&!a.hasOwnProperty(se)&&Ke(e,t,se,null,a,fe);for(_e in a)fe=a[_e],ve=n[_e],!a.hasOwnProperty(_e)||fe===ve||fe==null&&ve==null||Ke(e,t,_e,fe,a,ve)}var Qs=null,Zs=null;function Ya(e){return e.nodeType===9?e:e.ownerDocument}function vc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gc(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Js(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eo=null;function bp(){var e=window.event;return e&&e.type==="popstate"?e===eo?!1:(eo=e,!0):(eo=null,!1)}var yc=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(e){return mc.resolve(null).then(e).catch(Sp)}:yc;function Sp(e){setTimeout(function(){throw e})}function to(e,t){var n=t,a=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(a===0){e.removeChild(u),Yi(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=u}while(n);Yi(t)}function no(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":no(n),lu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ep(e,t,n,a){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[On])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==u.rel||e.getAttribute("href")!==(u.href==null?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function Tp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$t(e.nextSibling),e===null))return null;return e}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function _c(e,t,n){switch(t=Ya(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}var Vt=new Map,xc=new Set;function Wa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var En=ce.d;ce.d={f:wp,r:Rp,D:Op,C:kp,L:Ap,m:Dp,X:Lp,S:Mp,M:Cp};function wp(){var e=En.f(),t=ja();return e||t}function Rp(e){var t=_r(e);t!==null&&t.tag===5&&t.type==="form"?Kl(t):En.r(e)}var Qr=typeof document>"u"?null:document;function Sc(e,t,n){var a=Qr;if(a&&typeof t=="string"&&t){var u=Nt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xc.has(u)||(xc.add(u),e={rel:e,crossOrigin:n,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),xt(t,"link",e),vt(t),a.head.appendChild(t)))}}function Op(e){En.D(e),Sc("dns-prefetch",e,null)}function kp(e,t){En.C(e,t),Sc("preconnect",e,t)}function Ap(e,t,n){En.L(e,t,n);var a=Qr;if(a&&e&&t){var u='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Nt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Nt(n.imageSizes)+'"]')):u+='[href="'+Nt(e)+'"]';var y=u;switch(t){case"style":y=Zr(e);break;case"script":y=Jr(e)}Vt.has(y)||(e=L({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vt.set(y,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(ji(y))||t==="script"&&a.querySelector(Ii(y))||(t=a.createElement("link"),xt(t,"link",e),vt(t),a.head.appendChild(t)))}}function Dp(e,t){En.m(e,t);var n=Qr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Nt(a)+'"][href="'+Nt(e)+'"]',y=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jr(e)}if(!Vt.has(y)&&(e=L({rel:"modulepreload",href:e},t),Vt.set(y,e),n.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ii(y)))return}a=n.createElement("link"),xt(a,"link",e),vt(a),n.head.appendChild(a)}}}function Mp(e,t,n){En.S(e,t,n);var a=Qr;if(a&&e){var u=xr(a).hoistableStyles,y=Zr(e);t=t||"default";var O=u.get(y);if(!O){var U={loading:0,preload:null};if(O=a.querySelector(ji(y)))U.loading=5;else{e=L({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vt.get(y))&&ro(e,n);var $=O=a.createElement("link");vt($),xt($,"link",e),$._p=new Promise(function(ie,ye){$.onload=ie,$.onerror=ye}),$.addEventListener("load",function(){U.loading|=1}),$.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Qa(O,t,a)}O={type:"stylesheet",instance:O,count:1,state:U},u.set(y,O)}}}function Lp(e,t){En.X(e,t);var n=Qr;if(n&&e){var a=xr(n).hoistableScripts,u=Jr(e),y=a.get(u);y||(y=n.querySelector(Ii(u)),y||(e=L({src:e,async:!0},t),(t=Vt.get(u))&&io(e,t),y=n.createElement("script"),vt(y),xt(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(u,y))}}function Cp(e,t){En.M(e,t);var n=Qr;if(n&&e){var a=xr(n).hoistableScripts,u=Jr(e),y=a.get(u);y||(y=n.querySelector(Ii(u)),y||(e=L({src:e,async:!0,type:"module"},t),(t=Vt.get(u))&&io(e,t),y=n.createElement("script"),vt(y),xt(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(u,y))}}function Ec(e,t,n,a){var u=(u=pe.current)?Wa(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Zr(n.href),n=xr(u).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Zr(n.href);var y=xr(u).hoistableStyles,O=y.get(e);if(O||(u=u.ownerDocument||u,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,O),(y=u.querySelector(ji(e)))&&!y._p&&(O.instance=y,O.state.loading=5),Vt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vt.set(e,n),y||Np(u,e,n,O.state))),t&&a===null)throw Error(o(528,""));return O}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Jr(n),n=xr(u).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Zr(e){return'href="'+Nt(e)+'"'}function ji(e){return'link[rel="stylesheet"]['+e+"]"}function Tc(e){return L({},e,{"data-precedence":e.precedence,precedence:null})}function Np(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),xt(t,"link",n),vt(t),e.head.appendChild(t))}function Jr(e){return'[src="'+Nt(e)+'"]'}function Ii(e){return"script[async]"+e}function wc(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nt(n.href)+'"]');if(a)return t.instance=a,vt(a),a;var u=L({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),vt(a),xt(a,"style",u),Qa(a,n.precedence,e),t.instance=a;case"stylesheet":u=Zr(n.href);var y=e.querySelector(ji(u));if(y)return t.state.loading|=4,t.instance=y,vt(y),y;a=Tc(n),(u=Vt.get(u))&&ro(a,u),y=(e.ownerDocument||e).createElement("link"),vt(y);var O=y;return O._p=new Promise(function(U,$){O.onload=U,O.onerror=$}),xt(y,"link",a),t.state.loading|=4,Qa(y,n.precedence,e),t.instance=y;case"script":return y=Jr(n.src),(u=e.querySelector(Ii(y)))?(t.instance=u,vt(u),u):(a=n,(u=Vt.get(y))&&(a=L({},n),io(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),vt(u),xt(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Qa(a,n.precedence,e));return t.instance}function Qa(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,y=u,O=0;O<a.length;O++){var U=a[O];if(U.dataset.precedence===t)y=U;else if(y!==u)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ro(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function io(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Za=null;function Rc(e,t,n){if(Za===null){var a=new Map,u=Za=new Map;u.set(n,a)}else u=Za,a=u.get(n),a||(a=new Map,u.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var y=n[u];if(!(y[On]||y[ct]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var O=y.getAttribute(t)||"";O=e+O;var U=a.get(O);U?U.push(y):a.set(O,[y])}}return a}function Oc(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function qp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kc(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Vi=null;function Bp(){}function Up(e,t,n){if(Vi===null)throw Error(o(475));var a=Vi;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Zr(n.href),y=e.querySelector(ji(u));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Ja.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=y,vt(y);return}y=e.ownerDocument||e,n=Tc(n),(u=Vt.get(u))&&ro(n,u),y=y.createElement("link"),vt(y);var O=y;O._p=new Promise(function(U,$){O.onload=U,O.onerror=$}),xt(y,"link",n),t.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Ja.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Gp(){if(Vi===null)throw Error(o(475));var e=Vi;return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ja(){if(this.count--,this.count===0){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eu=null;function ao(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eu=new Map,t.forEach(zp,e),eu=null,Ja.call(e))}function zp(e,t){if(!(t.state.loading&4)){var n=eu.get(e);if(n)var a=n.get(null);else{n=new Map,eu.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<u.length;y++){var O=u[y];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(n.set(O.dataset.precedence,O),a=O)}a&&n.set(null,a)}u=t.instance,O=u.getAttribute("data-precedence"),y=n.get(O)||a,y===a&&n.set(null,u),n.set(O,u),this.count++,a=Ja.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),y?y.parentNode.insertBefore(u,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Hi={$$typeof:w,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Pp(e,t,n,a,u,y,O,U){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=y,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Ac(e,t,n,a,u,y,O,U,$,ie,ye,_e){return e=new Pp(e,t,n,O,U,$,ie,_e),t=1,y===!0&&(t|=24),y=jt(3,null,null,t),e.current=y,y.stateNode=e,t=Uu(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:a,isDehydrated:n,cache:t},ys(y),e}function Dc(e){return e?(e=Mr,e):Mr}function Mc(e,t,n,a,u,y){u=Dc(u),a.context===null?a.context=u:a.pendingContext=u,a=Bn(t),a.payload={element:n},y=y===void 0?null:y,y!==null&&(a.callback=y),n=Un(e,a,t),n!==null&&(Tt(n,e,t),ki(n,e,t))}function Lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uo(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}function Cc(e){if(e.tag===13){var t=An(e,67108864);t!==null&&Tt(t,e,67108864),uo(e,67108864)}}var tu=!0;function Fp(e,t,n,a){var u=H.T;H.T=null;var y=ce.p;try{ce.p=2,so(e,t,n,a)}finally{ce.p=y,H.T=u}}function jp(e,t,n,a){var u=H.T;H.T=null;var y=ce.p;try{ce.p=8,so(e,t,n,a)}finally{ce.p=y,H.T=u}}function so(e,t,n,a){if(tu){var u=oo(a);if(u===null)Ys(e,t,a,nu,n),qc(e,a);else if(Vp(u,e,t,n,a))a.stopPropagation();else if(qc(e,a),t&4&&-1<Ip.indexOf(e)){for(;u!==null;){var y=_r(u);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var O=Yt(y.pendingLanes);if(O!==0){var U=y;for(U.pendingLanes|=2,U.entangledLanes|=2;O;){var $=1<<31-Ce(O);U.entanglements[1]|=$,O&=~$}nn(y),(tt&6)===0&&(za=He()+500,zi(0))}}break;case 13:U=An(y,2),U!==null&&Tt(U,y,2),ja(),uo(y,2)}if(y=oo(a),y===null&&Ys(e,t,a,nu,n),y===u)break;u=y}u!==null&&a.stopPropagation()}else Ys(e,t,a,null,n)}}function oo(e){return e=du(e),lo(e)}var nu=null;function lo(e){if(nu=null,e=Zn(e),e!==null){var t=te(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ue(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nu=e,null}function Nc(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case nt:return 2;case C:return 8;case x:case T:return 32;case I:return 268435456;default:return 32}default:return 32}}var fo=!1,Vn=null,Hn=null,Xn=null,Xi=new Map,Ki=new Map,Kn=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qc(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(t.pointerId)}}function $i(e,t,n,a,u,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:y,targetContainers:[u]},t!==null&&(t=_r(t),t!==null&&Cc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Vp(e,t,n,a,u){switch(t){case"focusin":return Vn=$i(Vn,e,t,n,a,u),!0;case"dragenter":return Hn=$i(Hn,e,t,n,a,u),!0;case"mouseover":return Xn=$i(Xn,e,t,n,a,u),!0;case"pointerover":var y=u.pointerId;return Xi.set(y,$i(Xi.get(y)||null,e,t,n,a,u)),!0;case"gotpointercapture":return y=u.pointerId,Ki.set(y,$i(Ki.get(y)||null,e,t,n,a,u)),!0}return!1}function Bc(e){var t=Zn(e.target);if(t!==null){var n=te(t);if(n!==null){if(t=n.tag,t===13){if(t=ue(n),t!==null){e.blockedOn=t,Qi(e.priority,function(){if(n.tag===13){var a=Lt(),u=An(n,a);u!==null&&Tt(u,n,a),uo(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ru(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oo(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);pu=a,n.target.dispatchEvent(a),pu=null}else return t=_r(n),t!==null&&Cc(t),e.blockedOn=n,!1;t.shift()}return!0}function Uc(e,t,n){ru(e)&&n.delete(t)}function Hp(){fo=!1,Vn!==null&&ru(Vn)&&(Vn=null),Hn!==null&&ru(Hn)&&(Hn=null),Xn!==null&&ru(Xn)&&(Xn=null),Xi.forEach(Uc),Ki.forEach(Uc)}function iu(e,t){e.blockedOn===t&&(e.blockedOn=null,fo||(fo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hp)))}var au=null;function Gc(e){au!==e&&(au=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){au===e&&(au=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(lo(a||n)===null)continue;break}var y=_r(n);y!==null&&(e.splice(t,3),t-=3,Ju(y,{pending:!0,data:u,method:n.method,action:a},a,u))}}))}function Yi(e){function t($){return iu($,e)}Vn!==null&&iu(Vn,e),Hn!==null&&iu(Hn,e),Xn!==null&&iu(Xn,e),Xi.forEach(t),Ki.forEach(t);for(var n=0;n<Kn.length;n++){var a=Kn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)Bc(n),n.blockedOn===null&&Kn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var u=n[a],y=n[a+1],O=u[ht]||null;if(typeof y=="function")O||Gc(n);else if(O){var U=null;if(y&&y.hasAttribute("formAction")){if(u=y,O=y[ht]||null)U=O.formAction;else if(lo(u)!==null)continue}else U=O.action;typeof U=="function"?n[a+1]=U:(n.splice(a,3),a-=3),Gc(n)}}}function co(e){this._internalRoot=e}uu.prototype.render=co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,a=Lt();Mc(n,a,e,t,null,null)},uu.prototype.unmount=co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&$r(),Mc(e.current,2,null,e,null,null),ja(),t[Qt]=null}};function uu(e){this._internalRoot=e}uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wi();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&Bc(e)}};var zc=i.version;if(zc!=="19.0.0")throw Error(o(527,zc,"19.0.0"));ce.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ee(t),e=e!==null?oe(e):null,e=e===null?null:e.stateNode,e};var Xp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{ge=su.inject(Xp),Re=su}catch{}}return reactDomClient_production.createRoot=function(e,t){if(!l(e))throw Error(o(299));var n=!1,a="",u=tf,y=nf,O=rf,U=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(O=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(U=t.unstable_transitionCallbacks)),t=Ac(e,1,!1,null,null,n,a,u,y,O,U,null),e[Qt]=t.current,$s(e.nodeType===8?e.parentNode:e),new co(t)},reactDomClient_production.hydrateRoot=function(e,t,n){if(!l(e))throw Error(o(299));var a=!1,u="",y=tf,O=nf,U=rf,$=null,ie=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(O=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&($=n.unstable_transitionCallbacks),n.formState!==void 0&&(ie=n.formState)),t=Ac(e,1,!0,t,n??null,a,u,y,O,U,$,ie),t.context=Dc(null),n=t.current,a=Lt(),u=Bn(a),u.callback=null,Un(n,u,a),t.current.lanes=a,Wt(t,a),nn(t),e[Qt]=t.current,$s(e),new uu(t)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),neuralNetworkTimeoutDelay=200,neuralNetworkTypes={game:"game",bitcoin:"bitcoin"},neuralNetworkYearRanges={game:{min:1977,max:2999},bitcoin:{min:2024,max:2199}},neuralNetworkPriceModifiers={game:1e3,bitcoin:1e7},gameNeuralNetworkConfig={hiddenLayers:[5,5],inputSize:10,outputSize:1,hiddenLayerActivation:"relu"},gameTrainingOptions={iterations:1e5,timeout:37e3,learningRate:.9,decayRate:.9,momentum:.05,errorThresh:1e-5,minimize:!0,log:!0,logPeriod:1e4,callbackPeriod:1e5,callback:null},gameObjectGenerationOptions=new Map([[1977,39],[2e3,49],[2030,69]]),bitcoinNeuralNetworkConfig={hiddenLayers:[2],inputSize:1,outputSize:1,hiddenLayerActivation:"relu"},bitcoinTrainingOptions={iterations:15e4,timeout:56e3,learningRate:.4,decayRate:.1,momentum:.9,errorThresh:1e-5,minimize:!0,log:!0,logPeriod:15e3,callbackPeriod:15e4,callback:null},bitcoinObjectGenerationOptions=new Map([[2015,320],[2019,4024],[2024,73e3],[2034,219e3]]),neuralNetworkSettings=Object.freeze(Object.defineProperty({__proto__:null,bitcoinNeuralNetworkConfig,bitcoinObjectGenerationOptions,bitcoinTrainingOptions,gameNeuralNetworkConfig,gameObjectGenerationOptions,gameTrainingOptions,neuralNetworkPriceModifiers,neuralNetworkTimeoutDelay,neuralNetworkTypes,neuralNetworkYearRanges},Symbol.toStringTag,{value:"Module"})),gameSerializedNeuralNetwork={run:function(i){return i=new Float32Array([i.year,i.genre_Action,i.genre_Adventure,i.genre_RPG,i.genre_Simulation,i.genre_Strategy,i.genre_Sports,i.genre_Puzzle,i.platform_Console,i.platform_PC]),{price:1/(1+1/Math.exp(3.5202596187591553-5.8332037925720215*1/(1+1/Math.exp(-.8080874681472778-5.048310279846191*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+3.46171236038208*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+3.6532247066497803*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.9965028166770935*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-1.0347981452941895*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-3.046177625656128*1/(1+1/Math.exp(-.5959026217460632-2.8571505546569824*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+1.9263863563537598*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+2.1164183616638184*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.4913356900215149*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.8410927653312683*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-3.5426809787750244*1/(1+1/Math.exp(-.4729614555835724-3.233657121658325*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+2.010544776916504*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+2.6410436630249023*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.3452205955982208*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.9881219863891602*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-1.9750688076019287*1/(1+1/Math.exp(-.5729484558105469-2.0173404216766357*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+1.2593350410461426*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+1.6222989559173584*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.07782863825559616*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.798432469367981*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-3.1788837909698486*1/(1+1/Math.exp(-.6485048532485962-2.9572713375091553*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+1.9492831230163574*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+2.3086977005004883*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.44653841853141785*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.7845534682273865*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))))}}},bitcoinSerializedNeuralNetwork={run:function(i){return i=new Float32Array([i.year]),{price:1/(1+1/Math.exp(12.64346694946289-43.45503234863281*1/(1+1/Math.exp(9.963753700256348-54.8717155456543*(i[0]||0)))-26.26869010925293*1/(1+1/Math.exp(6.193717956542969-35.79347229003906*(i[0]||0)))))}}},serializedNeuralNetworks=Object.freeze(Object.defineProperty({__proto__:null,bitcoinSerializedNeuralNetwork,gameSerializedNeuralNetwork},Symbol.toStringTag,{value:"Module"})),gameTrainingData=[{input:{year:.1977,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1978,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1979,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.198,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1981,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1982,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:1,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1983,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1984,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:1,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.1985,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.1986,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1987,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02599}},{input:{year:.1988,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:1,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.1989,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:1,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.199,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1991,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1992,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1993,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.05999}},{input:{year:.1994,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1995,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05499}},{input:{year:.1996,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.06499}},{input:{year:.1997,genre_Action:0,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1998,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.1999,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2001,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2002,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2003,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2004,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2005,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.2006,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:1,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2007,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2008,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2009,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.201,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2011,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:1},output:{price:.05999}},{input:{year:.2012,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2013,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2014,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.05999}},{input:{year:.2015,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2016,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2017,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2018,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2019,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.202,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2021,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:1,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2022,genre_Action:1,genre_Adventure:1,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.05999}},{input:{year:.2023,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2024,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:1,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.03999}}],bitcoinTrainingData=[{input:{year:.2015083333},output:{price:320435e-10}},{input:{year:.2015166667},output:{price:216867e-10}},{input:{year:.201525},output:{price:254283e-10}},{input:{year:.2015333333},output:{price:244223e-10}},{input:{year:.2015416667},output:{price:235939e-10}},{input:{year:.20155},output:{price:230233e-10}},{input:{year:.2015583333},output:{price:263345e-10}},{input:{year:.2015666667},output:{price:284686e-10}},{input:{year:.201575},output:{price:230256e-10}},{input:{year:.2015833333},output:{price:236004e-10}},{input:{year:.2015916667},output:{price:315005e-10}},{input:{year:.2016},output:{price:377414e-10}},{input:{year:.2016083333},output:{price:430721e-10}},{input:{year:.2016166667},output:{price:36935e-9}},{input:{year:.201625},output:{price:437917e-10}},{input:{year:.2016333333},output:{price:41676e-9}},{input:{year:.2016416667},output:{price:448484e-10}},{input:{year:.20165},output:{price:531107e-10}},{input:{year:.2016583333},output:{price:672515e-10}},{input:{year:.2016666667},output:{price:624602e-10}},{input:{year:.201675},output:{price:575546e-10}},{input:{year:.2016833333},output:{price:609929e-10}},{input:{year:.2016916667},output:{price:701337e-10}},{input:{year:.2017},output:{price:746046e-10}},{input:{year:.2017083333},output:{price:963658e-10}},{input:{year:.2017166667},output:{price:970941e-10}},{input:{year:.201725},output:{price:118004e-9}},{input:{year:.2017333333},output:{price:107171e-9}},{input:{year:.2017416667},output:{price:13483e-8}},{input:{year:.20175},output:{price:.00022883301}},{input:{year:.2017583333},output:{price:.00024926001}},{input:{year:.2017666667},output:{price:28713e-8}},{input:{year:.201775},output:{price:.00047017598}},{input:{year:.2017833333},output:{price:.00043410498}},{input:{year:.2017916667},output:{price:.00064409702}},{input:{year:.2018},output:{price:.00101985996}},{input:{year:.2018083333},output:{price:.00141122002}},{input:{year:.2018166667},output:{price:.00102372998}},{input:{year:.201825},output:{price:.0010385}},{input:{year:.2018333333},output:{price:.00070030601}},{input:{year:.2018416667},output:{price:.00092514697}},{input:{year:.20185},output:{price:.00075007002}},{input:{year:.2018583333},output:{price:.00064116802}},{input:{year:.2018666667},output:{price:776904e-9}},{input:{year:.201875},output:{price:.00070448101}},{input:{year:.2018833333},output:{price:.00066198501}},{input:{year:.2018916667},output:{price:.00063181401}},{input:{year:.2019},output:{price:.00040244644}},{input:{year:.2019083333},output:{price:.00037467134}},{input:{year:.2019166667},output:{price:.00034605471}},{input:{year:.201925},output:{price:.00038537571}},{input:{year:.2019333333},output:{price:.00041053623}},{input:{year:.2019416667},output:{price:.00053509146}},{input:{year:.20195},output:{price:.00085738398}},{input:{year:.2019583333},output:{price:.00107969307}},{input:{year:.2019666667},output:{price:.00100774424}},{input:{year:.201975},output:{price:.00096305928}},{input:{year:.2019833333},output:{price:.00082997207}},{input:{year:.2019916667},output:{price:.00091939922}},{input:{year:.202},output:{price:.00075716162}},{input:{year:.2020083333},output:{price:.00071948921}},{input:{year:.2020166667},output:{price:.00093463574}},{input:{year:.202025},output:{price:.00085997588}},{input:{year:.2020333333},output:{price:.00064373193}},{input:{year:.2020416667},output:{price:.00086727822}},{input:{year:.20205},output:{price:.00094636055}},{input:{year:.2020583333},output:{price:.00091459854}},{input:{year:.2020666667},output:{price:.00113225703}},{input:{year:.202075},output:{price:.00116793164}},{input:{year:.2020833333},output:{price:.00107952549}},{input:{year:.2020916667},output:{price:.00137809951}},{input:{year:.2021},output:{price:.00196337695}},{input:{year:.2021083333},output:{price:.00289940098}},{input:{year:.2021166667},output:{price:.00331145781}},{input:{year:.202125},output:{price:.00451595039}},{input:{year:.2021333333},output:{price:.00589265625}},{input:{year:.2021416667},output:{price:.00577146641}},{input:{year:.20215},output:{price:.0037293793}},{input:{year:.2021583333},output:{price:.00350359844}},{input:{year:.2021666667},output:{price:.00414608437}},{input:{year:.202175},output:{price:.00470997734}},{input:{year:.2021833333},output:{price:.00438167422}},{input:{year:.2021916667},output:{price:.00613204492}},{input:{year:.2022},output:{price:.00569079648}},{input:{year:.2022083333},output:{price:.00463117461}},{input:{year:.2022166667},output:{price:.00384817656}},{input:{year:.202225},output:{price:.00431945039}},{input:{year:.2022333333},output:{price:.00455541641}},{input:{year:.2022416667},output:{price:.00377132656}},{input:{year:.20225},output:{price:.00317925547}},{input:{year:.2022583333},output:{price:.00198204707}},{input:{year:.2022666667},output:{price:.00233367187}},{input:{year:.202275},output:{price:.0020050498}},{input:{year:.2022833333},output:{price:.00194311055}},{input:{year:.2022916667},output:{price:.00204948984}},{input:{year:.2023},output:{price:.0017168002}},{input:{year:.2023083333},output:{price:.00165479141}},{input:{year:.2023166667},output:{price:.00231378359}},{input:{year:.202325},output:{price:.00231509297}},{input:{year:.2023333333},output:{price:.0028473332}},{input:{year:.2023416667},output:{price:.00292271035}},{input:{year:.20235},output:{price:.00272184121}},{input:{year:.2023583333},output:{price:.00304718477}},{input:{year:.2023666667},output:{price:.0029230873}},{input:{year:.202375},output:{price:.00259340215}},{input:{year:.2023833333},output:{price:.00269673965}},{input:{year:.2023916667},output:{price:.00346572734}},{input:{year:.2024},output:{price:.00377180078}},{input:{year:.2024083333},output:{price:.00422802344}},{input:{year:.2024166667},output:{price:.00425697617}},{input:{year:.202425},output:{price:.00611680625}},{input:{year:.2024333333},output:{price:.00713334844}}],trainingData=Object.freeze(Object.defineProperty({__proto__:null,bitcoinTrainingData,gameTrainingData},Symbol.toStringTag,{value:"Module"}));var brain_js={exports:{}},crossValidate={},hasRequiredCrossValidate;function requireCrossValidate(){if(hasRequiredCrossValidate)return crossValidate;hasRequiredCrossValidate=1,Object.defineProperty(crossValidate,"__esModule",{value:!0});var r=function(){function o(l,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,d,c){return d&&o(l.prototype,d),c&&o(l,c),l}}();function i(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function o(l,d){i(this,o),this.Classifier=l,this.options=d,this.json=null}return r(o,[{key:"testPartition",value:function(d,c,f){var g=new this.Classifier(this.options),v=Date.now(),p=g.train(c,d),E=Date.now(),S=g.test(f),w=Date.now(),D=Object.assign({},S,{trainTime:E-v,testTime:w-E,iterations:p.iterations,error:p.error,total:S.total,learningRate:g.trainOpts.learningRate,hiddenLayers:g.hiddenLayers,network:g.toJSON()});return D}},{key:"shuffleArray",value:function(d){for(var c=d.length-1;c>0;c--){var f=Math.floor(Math.random()*(c+1)),g=d[c];d[c]=d[f],d[f]=g}return d}},{key:"train",value:function(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4;if(d.length<f)throw new Error("Training set size is too small for "+d.length+" k folds of "+f);var g=d.length/f;if(d.constructor===Array)this.shuffleArray(d);else{var v={};this.shuffleArray(Object.keys(d)).forEach(function(M){v[M]=d[M]}),d=v}for(var p={trainTime:0,testTime:0,iterations:0,error:0},E={total:0},S={total:0,truePos:0,trueNeg:0,falsePos:0,falseNeg:0},w=[],D=void 0,m=null,R=0;R<f;R++){var _=d.slice(0),b=_.splice(R*g,g),h=_,k=this.testPartition(c,h,b);m===null&&(m=k.hasOwnProperty("falseNeg")&&k.hasOwnProperty("falsePos")&&k.hasOwnProperty("trueNeg")&&k.hasOwnProperty("truePos"),m&&Object.assign(E,S));for(D in p)D in p&&(p[D]+=k[D]);for(D in E)D in E&&(E[D]+=k[D]);w.push(k)}for(D in p)D in p&&(p[D]/=f);return m&&(E.precision=E.truePos/(E.truePos+E.falsePos),E.recall=E.truePos/(E.truePos+E.falseNeg),E.accuracy=(E.trueNeg+E.truePos)/E.total),E.testSize=g,E.trainSize=d.length-g,this.json={avgs:p,stats:E,sets:w}}},{key:"toNeuralNetwork",value:function(){return this.fromJSON(this.json)}},{key:"toJSON",value:function(){return this.json}},{key:"fromJSON",value:function(d){var c=this.Classifier,f=d.sets.reduce(function(v,p){return v.error<p.error?v:p},{error:1/0}).network;if(c.fromJSON)return c.fromJSON(f);var g=new c;return g.fromJSON(f),g}}]),o}();return crossValidate.default=s,crossValidate}var likely={},hasRequiredLikely;function requireLikely(){if(hasRequiredLikely)return likely;hasRequiredLikely=1,Object.defineProperty(likely,"__esModule",{value:!0}),likely.default=r;function r(i,s){var o=s.run(i),l=null,d=-1;for(var c in o){var f=o[c];f>d&&(l=c,d=f)}return l}return likely}var lookup={},hasRequiredLookup;function requireLookup(){if(hasRequiredLookup)return lookup;hasRequiredLookup=1,Object.defineProperty(lookup,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},i=function(){function l(d,c){for(var f=0;f<c.length;f++){var g=c[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,f){return c&&l(d.prototype,c),f&&l(d,f),d}}();function s(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(){s(this,l)}return i(l,null,[{key:"toTable",value:function(c){var f=c.reduce(function(g,v){return Object.assign(g,v)},{});return l.toHash(f)}},{key:"toTable2D",value:function(c){for(var f={},g=0,v=0;v<c.length;v++)for(var p=c[v],E=0;E<p.length;E++){var S=p[E];for(var w in S)S.hasOwnProperty(w)&&!f.hasOwnProperty(w)&&(f[w]=g++)}return f}},{key:"toInputTable",value:function(c){for(var f={},g=0,v=0;v<c.length;v++)for(var p in c[v].input)f.hasOwnProperty(p)||(f[p]=g++);return f}},{key:"toInputTable2D",value:function(c){for(var f={},g=0,v=0;v<c.length;v++)for(var p=c[v].input,E=0;E<p.length;E++){var S=p[E];for(var w in S)f.hasOwnProperty(w)||(f[w]=g++)}return f}},{key:"toOutputTable",value:function(c){for(var f={},g=0,v=0;v<c.length;v++)for(var p in c[v].output)f.hasOwnProperty(p)||(f[p]=g++);return f}},{key:"toOutputTable2D",value:function(c){for(var f={},g=0,v=0;v<c.length;v++)for(var p=c[v].output,E=0;E<p.length;E++){var S=p[E];for(var w in S)f.hasOwnProperty(w)||(f[w]=g++)}return f}},{key:"toHash",value:function(c){var f={},g=0;for(var v in c)f[v]=g++;return f}},{key:"toArray",value:function(c,f,g){var v=new Float32Array(g);for(var p in c)v[c[p]]=f.hasOwnProperty(p)?f[p]:0;return v}},{key:"toArrayShort",value:function(c,f){var g=[];for(var v in c){if(!f.hasOwnProperty(v))break;g[c[v]]=f[v]}return Float32Array.from(g)}},{key:"toArrays",value:function(c,f,g){for(var v=[],p=0;p<f.length;p++)v.push(this.toArray(c,f[p],g));return v}},{key:"toObject",value:function(c,f){var g={};for(var v in c)g[v]=f[c[v]];return g}},{key:"toObjectPartial",value:function(c,f){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p={},E=0;for(var S in c)g>0&&E++<g||v>0&&E++>=v||(p[S]=f[c[S]-g]);return p}},{key:"lookupFromArray",value:function(c){for(var f={},g=0,v=c.length;v-- >0;)f[c[v]]=g++;return f}},{key:"dataShape",value:function(c){var f=[];c.input?(f.push("datum"),c=c.input):Array.isArray(c)&&(c[0].input?(f.push("array","datum"),c=c[0].input):(f.push("array"),c=c[0]));for(var g=void 0;c;){for(g in c)break;if(!c.hasOwnProperty(g))break;if(Array.isArray(c)||c.buffer instanceof ArrayBuffer)f.push("array"),c=c[g];else if((typeof c>"u"?"undefined":r(c))==="object")f.push("object"),c=c[g];else throw new Error("unhandled signature")}return f.push(typeof c>"u"?"undefined":r(c)),f}},{key:"addKeys",value:function(c,f){if(!Array.isArray(c)){f=f||{};var g=Object.keys(f).length;for(var v in c)c.hasOwnProperty(v)&&(f.hasOwnProperty(v)||(f[v]=g++));return f}}}]),l}();return lookup.default=o,lookup}var neuralNetwork={},browser$1={},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1;var r=browser$1&&browser$1.__assign||function(){return r=Object.assign||function(l){for(var d,c=1,f=arguments.length;c<f;c++){d=arguments[c];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(l[g]=d[g])}return l},r.apply(this,arguments)};Object.defineProperty(browser$1,"__esModule",{value:!0}),browser$1.thaw=browser$1.Block=browser$1.Thaw=void 0;var i=function(){function l(d,c){var f=this;c===void 0&&(c={});var g=r(r({},l.defaultSettings),c),v=g.each,p=g.done;this.i=0,this.isStopped=!1,this.items=d,this.options=c,this.tick=function(){if(!f.isStopped&&(f.timeout=setTimeout(f.tick,0),!l.thawing)){var E=f.items[f.i];if(f.i>=f.items.length){p!==null&&(l.thawing=!0,p(),l.thawing=!1),f.isStopped=!0,clearTimeout(f.timeout);return}v!==null?(l.thawing=!0,v(E,f.i),l.thawing=!1):E!==void 0&&E(),f.i++}},l.thaws.push(this),c.delay||this.tick()}return Object.defineProperty(l,"isThawing",{get:function(){return l.thawing},enumerable:!1,configurable:!0}),l.stopAll=function(){for(var d=0;d<l.thaws.length;d++)l.thaws[d].stop()},l.prototype.makeReady=function(){return this.isStopped?(this.isStopped=!1,!0):!1},l.prototype.add=function(d){return this.items.push(d),this.makeReady()&&this.tick(),this},l.prototype.insert=function(d){return this.items.splice(this.i,0,d),this.makeReady()&&this.tick(),this},l.prototype.addArray=function(d){return this.items=this.items.concat(d),this.makeReady()&&this.tick(),this},l.prototype.insertArray=function(d){var c=this.items.splice(0,this.i),f=this.items;return this.items=c.concat(d,f),this.makeReady()&&this.tick(),this},l.prototype.stop=function(){return this.isStopped=!0,clearTimeout(this.timeout),this.options.done&&this.options.done(),this},l.thawing=!1,l.thaws=[],l.defaultSettings={each:null,done:null},l}();browser$1.Thaw=i;function s(l,d){return new i(l,d)}browser$1.thaw=s;var o=function(){function l(d,c){c===void 0&&(c=200),this.index=0,this.thaws=[],this.count=c,this.options=d}return l.prototype.add=function(d){var c=this.next();return c.add(d),this},l.prototype.addArray=function(d){var c=this.next();return c.addArray(d),this},l.prototype.insert=function(d){var c=this.next();return c.insert(d),this},l.prototype.insertArray=function(d){var c=this.next();return c.insertArray(d),this},l.prototype.stop=function(){for(var d=0;d<this.thaws.length;d++)this.thaws[d].stop();return this},l.prototype.next=function(){var d,c=this.thaws;return c.length<this.count?(d=new i([],this.options),c.push(d)):d=c[this.index]||null,this.index++,this.index>=this.count&&(this.index=0),d},l}();return browser$1.Block=o,typeof window<"u"&&(window.Thaw=i,window.thaw=s,window.Thaw.Block=o),browser$1}var max={},toArray={},hasRequiredToArray;function requireToArray(){if(hasRequiredToArray)return toArray;hasRequiredToArray=1,Object.defineProperty(toArray,"__esModule",{value:!0}),toArray.default=r;function r(i){if(Array.isArray(i))return i;var s=Object.keys(i),o=new Float32Array(s.length);for(var l in s)o[l]=i[s[l]];return o}return toArray}var hasRequiredMax;function requireMax(){if(hasRequiredMax)return max;hasRequiredMax=1,Object.defineProperty(max,"__esModule",{value:!0}),max.default=o;var r=requireToArray(),i=s(r);function s(l){return l&&l.__esModule?l:{default:l}}function o(l){return Math.max.apply(Math,(0,i.default)(l))}return max}var mse={},hasRequiredMse;function requireMse(){if(hasRequiredMse)return mse;hasRequiredMse=1,Object.defineProperty(mse,"__esModule",{value:!0}),mse.default=r;function r(i){for(var s=0,o=0;o<i.length;o++)s+=i[o]*i[o];return s/i.length}return mse}var randos={},randomWeight={},hasRequiredRandomWeight;function requireRandomWeight(){if(hasRequiredRandomWeight)return randomWeight;hasRequiredRandomWeight=1,Object.defineProperty(randomWeight,"__esModule",{value:!0}),randomWeight.default=r;function r(){return Math.random()*.4-.2}return randomWeight}var hasRequiredRandos;function requireRandos(){if(hasRequiredRandos)return randos;hasRequiredRandos=1,Object.defineProperty(randos,"__esModule",{value:!0}),randos.default=o;var r=requireRandomWeight(),i=s(r);function s(l){return l&&l.__esModule?l:{default:l}}function o(l){for(var d=new Float32Array(l),c=0;c<l;c++)d[c]=(0,i.default)();return d}return randos}var range={},hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1,Object.defineProperty(range,"__esModule",{value:!0}),range.default=r;function r(i,s){for(var o=[];i<s;i++)o.push(i);return o}return range}var zeros={},hasRequiredZeros;function requireZeros(){if(hasRequiredZeros)return zeros;hasRequiredZeros=1,Object.defineProperty(zeros,"__esModule",{value:!0}),zeros.default=r;function r(i){return new Float32Array(i)}return zeros}var lookupTable={},hasRequiredLookupTable;function requireLookupTable(){if(hasRequiredLookupTable)return lookupTable;hasRequiredLookupTable=1,Object.defineProperty(lookupTable,"__esModule",{value:!0}),lookupTable.default=r;function r(i,s){if(this.length=0,s){this.prop=s;for(var o=this.table={},l=0;l<i.length;l++){var d=i[l],c=d[s];for(var f in c)o.hasOwnProperty(f)||(o[f]=this.length++)}}else if(Array.isArray(i[0]))for(var g=this.table={},v=0;v<i.length;v++)for(var p=i[v],E=0;E<p.length;E++){var S=p[E];for(var w in S)g.hasOwnProperty(w)||(g[w]=this.length++)}else for(var D=this.table={},m=0;m<i.length;m++){var R=i[m];for(var _ in R)D.hasOwnProperty(_)||(D[_]=this.length++)}}return lookupTable}var cast={},hasRequiredCast;function requireCast(){if(hasRequiredCast)return cast;hasRequiredCast=1,Object.defineProperty(cast,"__esModule",{value:!0}),cast.arraysToFloat32Arrays=r,cast.arrayToFloat32Arrays=i,cast.arrayToFloat32Array=s,cast.objectsToFloat32Arrays=o,cast.objectToFloat32Arrays=l,cast.objectToFloat32Array=d;function r(c){for(var f=[],g=0;g<c.length;g++)f.push(Float32Array.from(c[g]));return f}function i(c){for(var f=[],g=0;g<c.length;g++)f.push(Float32Array.from([c[g]]));return f}function s(c){return Float32Array.from(c)}function o(c,f,g){for(var v=[],p=0;p<c.length;p++){var E=c[p],S=new Float32Array(g);for(var w in E)E.hasOwnProperty(w)&&(S[f[w]]=E[w]);v.push(S)}return v}function l(c){var f=[];for(var g in c)f.push(Float32Array.from([c[g]]));return f}function d(c,f,g){var v=new Float32Array(g);for(var p in c)c.hasOwnProperty(p)&&(v[f[p]]=c[p]);return v}return cast}var hasRequiredNeuralNetwork;function requireNeuralNetwork(){if(hasRequiredNeuralNetwork)return neuralNetwork;hasRequiredNeuralNetwork=1,Object.defineProperty(neuralNetwork,"__esModule",{value:!0});var r=function(){function W(H,L){for(var A=0;A<L.length;A++){var N=L[A];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(H,N.key,N)}}return function(H,L,A){return L&&W(H.prototype,L),A&&W(H,A),H}}(),i=requireBrowser$1(),s=k(i),o=requireLookup(),l=k(o),d=requireMax(),c=k(d),f=requireMse(),g=k(f),v=requireRandos(),p=k(v),E=requireRange(),S=k(E),w=requireToArray(),D=k(w),m=requireZeros(),R=k(m),_=requireLookupTable(),b=k(_),h=requireCast();function k(W){return W&&W.__esModule?W:{default:W}}function M(W,H){if(!(W instanceof H))throw new TypeError("Cannot call a class as a function")}var z=function(){r(W,null,[{key:"trainDefaults",get:function(){return{iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.3,momentum:.1,callback:null,callbackPeriod:10,timeout:1/0,praxis:null,beta1:.9,beta2:.999,epsilon:1e-8}}},{key:"defaults",get:function(){return{leakyReluAlpha:.01,binaryThresh:.5,hiddenLayers:null,activation:"sigmoid"}}}]);function W(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M(this,W),Object.assign(this,this.constructor.defaults,H),this.trainOpts={},this.updateTrainingOptions(Object.assign({},this.constructor.trainDefaults,H)),this.sizes=null,this.outputLayer=null,this.biases=null,this.weights=null,this.outputs=null,this.deltas=null,this.changes=null,this.errors=null,this.errorCheckInterval=1,this.constructor.prototype.hasOwnProperty("runInput")||(this.runInput=null),this.constructor.prototype.hasOwnProperty("calculateDeltas")||(this.calculateDeltas=null),this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null}return r(W,[{key:"initialize",value:function(){if(!this.sizes)throw new Error("Sizes must be set before initializing");this.outputLayer=this.sizes.length-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[];for(var L=0;L<=this.outputLayer;L++){var A=this.sizes[L];if(this.deltas[L]=(0,R.default)(A),this.errors[L]=(0,R.default)(A),this.outputs[L]=(0,R.default)(A),L>0){this.biases[L]=(0,p.default)(A),this.weights[L]=new Array(A),this.changes[L]=new Array(A);for(var N=0;N<A;N++){var j=this.sizes[L-1];this.weights[L][N]=(0,p.default)(j),this.changes[L][N]=(0,R.default)(j)}}}this.setActivation(),this.trainOpts.praxis==="adam"&&this._setupAdam()}},{key:"setActivation",value:function(L){switch(this.activation=L||this.activation,this.activation){case"sigmoid":this.runInput=this.runInput||this._runInputSigmoid,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasSigmoid;break;case"relu":this.runInput=this.runInput||this._runInputRelu,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasRelu;break;case"leaky-relu":this.runInput=this.runInput||this._runInputLeakyRelu,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasLeakyRelu;break;case"tanh":this.runInput=this.runInput||this._runInputTanh,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasTanh;break;default:throw new Error("unknown activation "+this.activation+", The activation should be one of ['sigmoid', 'relu', 'leaky-relu', 'tanh']")}}},{key:"run",value:function(L){if(!this.isRunnable)return null;this.inputLookup&&(L=l.default.toArray(this.inputLookup,L,this.inputLookupLength));var A=this.runInput(L).slice(0);return this.outputLookup&&(A=l.default.toObject(this.outputLookup,A)),A}},{key:"_runInputSigmoid",value:function(L){this.outputs[0]=L;for(var A=null,N=1;N<=this.outputLayer;N++){for(var j=0;j<this.sizes[N];j++){for(var q=this.weights[N][j],K=this.biases[N][j],V=0;V<q.length;V++)K+=q[V]*L[V];this.outputs[N][j]=1/(1+Math.exp(-K))}A=L=this.outputs[N]}return A}},{key:"_runInputRelu",value:function(L){this.outputs[0]=L;for(var A=null,N=1;N<=this.outputLayer;N++){for(var j=0;j<this.sizes[N];j++){for(var q=this.weights[N][j],K=this.biases[N][j],V=0;V<q.length;V++)K+=q[V]*L[V];this.outputs[N][j]=K<0?0:K}A=L=this.outputs[N]}return A}},{key:"_runInputLeakyRelu",value:function(L){this.outputs[0]=L;for(var A=this.leakyReluAlpha,N=null,j=1;j<=this.outputLayer;j++){for(var q=0;q<this.sizes[j];q++){for(var K=this.weights[j][q],V=this.biases[j][q],G=0;G<K.length;G++)V+=K[G]*L[G];this.outputs[j][q]=V<0?0:A*V}N=L=this.outputs[j]}return N}},{key:"_runInputTanh",value:function(L){this.outputs[0]=L;for(var A=null,N=1;N<=this.outputLayer;N++){for(var j=0;j<this.sizes[N];j++){for(var q=this.weights[N][j],K=this.biases[N][j],V=0;V<q.length;V++)K+=q[V]*L[V];this.outputs[N][j]=Math.tanh(K)}A=L=this.outputs[N]}return A}},{key:"verifyIsInitialized",value:function(L){var A=this;this.sizes||(this.sizes=[],this.sizes.push(L[0].input.length),this.hiddenLayers?this.hiddenLayers.forEach(function(N){A.sizes.push(N)}):this.sizes.push(Math.max(3,Math.floor(L[0].input.length/2))),this.sizes.push(L[0].output.length),this.initialize())}},{key:"updateTrainingOptions",value:function(L){var A=this.constructor.trainDefaults;for(var N in A)A.hasOwnProperty(N)&&(this.trainOpts[N]=L.hasOwnProperty(N)?L[N]:A[N]);this.validateTrainingOptions(this.trainOpts),this.setLogMethod(L.log||this.trainOpts.log),this.activation=L.activation||this.activation}},{key:"validateTrainingOptions",value:function(L){var A={iterations:function(q){return typeof q=="number"&&q>0},errorThresh:function(q){return typeof q=="number"&&q>0&&q<1},log:function(q){return typeof q=="function"||typeof q=="boolean"},logPeriod:function(q){return typeof q=="number"&&q>0},learningRate:function(q){return typeof q=="number"&&q>0&&q<1},momentum:function(q){return typeof q=="number"&&q>0&&q<1},callback:function(q){return typeof q=="function"||q===null},callbackPeriod:function(q){return typeof q=="number"&&q>0},timeout:function(q){return typeof q=="number"&&q>0}};for(var N in A)if(A.hasOwnProperty(N)&&L.hasOwnProperty(N)&&!A[N](L[N]))throw new Error("["+N+", "+L[N]+"] is out of normal training range, your network will probably not train.")}},{key:"getTrainOptsJSON",value:function(){var L=this;return Object.keys(this.constructor.trainDefaults).reduce(function(A,N){return N==="timeout"&&L.trainOpts[N]===1/0||N==="callback"||(L.trainOpts[N]&&(A[N]=L.trainOpts[N]),N==="log"&&(A.log=typeof A.log=="function")),A},{})}},{key:"setLogMethod",value:function(L){typeof L=="function"?this.trainOpts.log=L:L?this.trainOpts.log=console.log:this.trainOpts.log=!1}},{key:"calculateTrainingError",value:function(L){for(var A=0,N=0;N<L.length;++N)A+=this.trainPattern(L[N],!0);return A/L.length}},{key:"trainPatterns",value:function(L){for(var A=0;A<L.length;++A)this.trainPattern(L[A])}},{key:"trainingTick",value:function(L,A,N){return A.iterations>=this.trainOpts.iterations||A.error<=this.trainOpts.errorThresh||Date.now()>=N?!1:(A.iterations++,this.trainOpts.log&&A.iterations%this.trainOpts.logPeriod===0?(A.error=this.calculateTrainingError(L),this.trainOpts.log("iterations: "+A.iterations+", training error: "+A.error)):A.iterations%this.errorCheckInterval===0?A.error=this.calculateTrainingError(L):this.trainPatterns(L),this.trainOpts.callback&&A.iterations%this.trainOpts.callbackPeriod===0&&this.trainOpts.callback({iterations:A.iterations,error:A.error}),!0)}},{key:"prepTraining",value:function(L,A){this.updateTrainingOptions(A),L=this.formatData(L);var N=Date.now()+this.trainOpts.timeout,j={error:1,iterations:0};return this.verifyIsInitialized(L),{data:L,status:j,endTime:N}}},{key:"train",value:function(L){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=void 0,j=void 0,q=this.prepTraining(L,A);for(L=q.data,N=q.status,j=q.endTime;this.trainingTick(L,N,j););return N}},{key:"trainAsync",value:function(L){var A=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=void 0,q=void 0,K=this.prepTraining(L,N);return L=K.data,j=K.status,q=K.endTime,new Promise(function(V,G){try{var te=new s.default(new Array(A.trainOpts.iterations),{delay:!0,each:function(){return A.trainingTick(L,j,q)||te.stop()},done:function(){return V(j)}});te.tick()}catch(ue){G({trainError:ue,status:j})}})}},{key:"trainPattern",value:function(L,A){return this.runInput(L.input),this.calculateDeltas(L.output),this.adjustWeights(),A?(0,g.default)(this.errors[this.outputLayer]):null}},{key:"_calculateDeltasSigmoid",value:function(L){for(var A=this.outputLayer;A>=0;A--)for(var N=0;N<this.sizes[A];N++){var j=this.outputs[A][N],q=0;if(A===this.outputLayer)q=L[N]-j;else for(var K=this.deltas[A+1],V=0;V<K.length;V++)q+=K[V]*this.weights[A+1][V][N];this.errors[A][N]=q,this.deltas[A][N]=q*j*(1-j)}}},{key:"_calculateDeltasRelu",value:function(L){for(var A=this.outputLayer;A>=0;A--)for(var N=0;N<this.sizes[A];N++){var j=this.outputs[A][N],q=0;if(A===this.outputLayer)q=L[N]-j;else for(var K=this.deltas[A+1],V=0;V<K.length;V++)q+=K[V]*this.weights[A+1][V][N];this.errors[A][N]=q,this.deltas[A][N]=j>0?q:0}}},{key:"_calculateDeltasLeakyRelu",value:function(L){for(var A=this.leakyReluAlpha,N=this.outputLayer;N>=0;N--)for(var j=0;j<this.sizes[N];j++){var q=this.outputs[N][j],K=0;if(N===this.outputLayer)K=L[j]-q;else for(var V=this.deltas[N+1],G=0;G<V.length;G++)K+=V[G]*this.weights[N+1][G][j];this.errors[N][j]=K,this.deltas[N][j]=q>0?K:A*K}}},{key:"_calculateDeltasTanh",value:function(L){for(var A=this.outputLayer;A>=0;A--)for(var N=0;N<this.sizes[A];N++){var j=this.outputs[A][N],q=0;if(A===this.outputLayer)q=L[N]-j;else for(var K=this.deltas[A+1],V=0;V<K.length;V++)q+=K[V]*this.weights[A+1][V][N];this.errors[A][N]=q,this.deltas[A][N]=(1-j*j)*q}}},{key:"adjustWeights",value:function(){for(var L=1;L<=this.outputLayer;L++)for(var A=this.outputs[L-1],N=0;N<this.sizes[L];N++){for(var j=this.deltas[L][N],q=0;q<A.length;q++){var K=this.changes[L][N][q];K=this.trainOpts.learningRate*j*A[q]+this.trainOpts.momentum*K,this.changes[L][N][q]=K,this.weights[L][N][q]+=K}this.biases[L][N]+=this.trainOpts.learningRate*j}}},{key:"_setupAdam",value:function(){this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0;for(var L=0;L<=this.outputLayer;L++){var A=this.sizes[L];if(L>0){this.biasChangesLow[L]=(0,R.default)(A),this.biasChangesHigh[L]=(0,R.default)(A),this.changesLow[L]=new Array(A),this.changesHigh[L]=new Array(A);for(var N=0;N<A;N++){var j=this.sizes[L-1];this.changesLow[L][N]=(0,R.default)(j),this.changesHigh[L][N]=(0,R.default)(j)}}}this.adjustWeights=this._adjustWeightsAdam}},{key:"_adjustWeightsAdam",value:function(){var L=this.trainOpts;this.iterations++;for(var A=1;A<=this.outputLayer;A++)for(var N=this.outputs[A-1],j=0;j<this.sizes[A];j++){for(var q=this.deltas[A][j],K=0;K<N.length;K++){var V=q*N[K],G=this.changesLow[A][j][K]*L.beta1+(1-L.beta1)*V,te=this.changesHigh[A][j][K]*L.beta2+(1-L.beta2)*V*V,ue=G/(1-Math.pow(L.beta1,this.iterations)),B=te/(1-Math.pow(L.beta2,this.iterations));this.changesLow[A][j][K]=G,this.changesHigh[A][j][K]=te,this.weights[A][j][K]+=this.trainOpts.learningRate*ue/(Math.sqrt(B)+L.epsilon)}var ee=this.deltas[A][j],oe=this.biasChangesLow[A][j]*L.beta1+(1-L.beta1)*ee,ae=this.biasChangesHigh[A][j]*L.beta2+(1-L.beta2)*ee*ee,ce=this.biasChangesLow[A][j]/(1-Math.pow(L.beta1,this.iterations)),xe=this.biasChangesHigh[A][j]/(1-Math.pow(L.beta2,this.iterations));this.biasChangesLow[A][j]=oe,this.biasChangesHigh[A][j]=ae,this.biases[A][j]+=L.learningRate*ce/(Math.sqrt(xe)+L.epsilon)}}},{key:"formatData",value:function(L){if(Array.isArray(L)||(L=[L]),!Array.isArray(L[0].input))if(this.inputLookup)this.inputLookupLength=Object.keys(this.inputLookup).length;else{var A=new b.default(L,"input");this.inputLookup=A.table,this.inputLookupLength=A.length}if(!Array.isArray(L[0].output))if(this.outputLookup)this.outputLookupLength=Object.keys(this.outputLookup).length;else{var N=new b.default(L,"output");this.outputLookup=N.table,this.outputLookupLength=N.length}if(typeof this._formatInput>"u"&&(this._formatInput=Z(L[0].input,this.inputLookup),this._formatOutput=Z(L[0].output,this.outputLookup)),this._formatInput&&this._formatOutput){for(var j=[],q=0;q<L.length;q++)j.push({input:this._formatInput(L[q].input),output:this._formatOutput(L[q].output)});return j}else if(this._formatInput){for(var K=[],V=0;V<L.length;V++)K.push({input:this._formatInput(L[V].input),output:L[V].output});return K}else if(this._formatOutput){for(var G=[],te=0;te<L.length;te++)G.push({input:L[te].input,output:this._formatOutput(L[te].output)});return G}return L}},{key:"addFormat",value:function(L){this.inputLookup=l.default.addKeys(L.input,this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=l.default.addKeys(L.output,this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length)}},{key:"test",value:function(L){var A=this;L=this.formatData(L);var N=L[0].output.length===1,j=[],q=0;if(N){for(var K=0,V=0,G=0,te=0,ue=function(ae){var ce=A.runInput(L[ae].input),xe=L[ae].output,X=ce[0]>A.binaryThresh?1:0,Y=xe[0];if(X!==Y){var Q=L[ae];j.push({input:Q.input,output:Q.output,actual:X,expected:Y})}X===0&&Y===0?te++:X===1&&Y===1?G++:X===0&&Y===1?V++:X===1&&Y===0&&K++,q+=(0,g.default)(ce.map(function(J,de){return xe[de]-J}))},B=0;B<L.length;B++)ue(B);return{error:q/L.length,misclasses:j,total:L.length,trueNeg:te,truePos:G,falseNeg:V,falsePos:K,precision:G>0?G/(G+K):0,recall:G>0?G/(G+V):0,accuracy:(te+G)/L.length}}for(var ee=function(ae){var ce=A.runInput(L[ae].input),xe=L[ae].output,X=ce.indexOf((0,c.default)(ce)),Y=xe.indexOf((0,c.default)(xe));if(X!==Y){var Q=L[ae];j.push({input:Q.input,output:Q.output,actual:X,expected:Y})}q+=(0,g.default)(ce.map(function(J,de){return xe[de]-J}))},B=0;B<L.length;B++)ee(B);return{error:q/L.length,misclasses:j,total:L.length}}},{key:"toJSON",value:function(){for(var L=[],A=0;A<=this.outputLayer;A++){L[A]={};var N=void 0;A===0&&this.inputLookup?N=Object.keys(this.inputLookup):this.outputLookup&&A===this.outputLayer?N=Object.keys(this.outputLookup):N=(0,S.default)(0,this.sizes[A]);for(var j=0;j<N.length;j++){var q=N[j];if(L[A][q]={},A>0){L[A][q].bias=this.biases[A][j],L[A][q].weights={};for(var K in L[A-1]){var V=K;A===1&&this.inputLookup&&(V=this.inputLookup[K]),L[A][q].weights[K]=this.weights[A][j][V]}}}}return{sizes:this.sizes.slice(0),layers:L,outputLookup:this.outputLookup!==null,inputLookup:this.inputLookup!==null,activation:this.activation,trainOpts:this.getTrainOptsJSON()}}},{key:"fromJSON",value:function(L){Object.assign(this,this.constructor.defaults,L),this.sizes=L.sizes,this.initialize();for(var A=0;A<=this.outputLayer;A++){var N=L.layers[A];if(A===0&&(!N[0]||L.inputLookup)?(this.inputLookup=l.default.toHash(N),this.inputLookupLength=Object.keys(this.inputLookup).length):A===this.outputLayer&&(!N[0]||L.outputLookup)&&(this.outputLookup=l.default.toHash(N)),A>0){var j=Object.keys(N);this.sizes[A]=j.length;for(var q in j){var K=j[q];this.biases[A][q]=N[K].bias,this.weights[A][q]=(0,D.default)(N[K].weights)}}}return L.hasOwnProperty("trainOpts")&&this.updateTrainingOptions(L.trainOpts),this}},{key:"toFunction",value:function(){var L=this.activation,A=this.leakyReluAlpha,N=!1;function j(te,ue,B){if(ue===0)return typeof B=="string"?"input['"+B+"']":"input["+B+"]";var ee=te[ue],oe=ee[B],ae=["(",oe.bias];for(var ce in oe.weights)oe.weights[ce]<0?ae.push(oe.weights[ce]+"*"+j(te,ue-1,ce)):ae.push("+"+oe.weights[ce]+"*"+j(te,ue-1,ce));switch(ae.push(")"),L){case"sigmoid":return"1/(1+1/Math.exp("+ae.join("")+"))";case"relu":return N=!0,"((v="+ae.join("")+")<0?0:v)";case"leaky-relu":return N=!0,"((v="+ae.join("")+")<0?0:"+A+"*v)";case"tanh":return"Math.tanh("+ae.join("")+")";default:throw new Error("unknown activation type "+L)}}var q=this.toJSON().layers,K=[],V=void 0;for(var G in q[q.length-1])K.push(j(q,q.length-1,G));return this.outputLookup?V="{"+Object.keys(this.outputLookup).map(function(te,ue){return"'"+te+"':"+K[ue]})+"}":V="["+K.join(",")+"]",new Function("input",(N?"var v;":"")+"return "+V+";")}},{key:"isRunnable",get:function(){var L=this;if(!this.runInput)return console.error("Activation function has not been initialized, did you run train()?"),!1;var A=["sizes","outputLayer","biases","weights","outputs","deltas","changes","errors"].filter(function(N){return L[N]===null});return A.length>0?(console.error("Some settings have not been initialized correctly, did you run train()? Found issues with: "+A.join(", ")),!1):!0}}]),W}();neuralNetwork.default=z;function Z(W,H){if(W.buffer instanceof ArrayBuffer)return null;if(Array.isArray(W))return h.arrayToFloat32Array;var L=Object.keys(H).length;return function(A){var N=new Float32Array(L);for(var j in H)N[H[j]]=A[j]||0;return N}}return neuralNetwork}var neuralNetworkGpu={},dist={exports:{}},utilsCore,hasRequiredUtilsCore;function requireUtilsCore(){if(hasRequiredUtilsCore)return utilsCore;hasRequiredUtilsCore=1;var r=function(){function v(p,E){for(var S=0;S<E.length;S++){var w=E[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,E,S){return E&&v(p.prototype,E),S&&v(p,S),p}}();function i(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}var s=function(){function v(){i(this,v)}return r(v,null,[{key:"isCanvas",value:function(E){return E!==null&&(E.nodeName&&E.getContext&&E.nodeName.toUpperCase()==="CANVAS"||typeof OffscreenCanvas<"u"&&E instanceof OffscreenCanvas)}},{key:"isCanvasSupported",value:function(){return o}},{key:"initCanvas",value:function(){if(!o)return null;var E=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(0,0);return E.width=2,E.height=2,E}},{key:"isWebGl",value:function(E){return E&&typeof E.getExtension=="function"}},{key:"isWebGl2",value:function(E){return E&&typeof WebGL2RenderingContext<"u"&&E instanceof WebGL2RenderingContext}},{key:"isWebGlSupported",value:function(){return c}},{key:"isWebGl2Supported",value:function(){return f}},{key:"isWebGlDrawBuffersSupported",value:function(){return g}},{key:"initWebGlDefaultOptions",value:function(){return{alpha:!1,depth:!1,antialias:!1}}},{key:"initWebGl",value:function(E){if((typeof o<"u"||E===null)&&!o)return null;if(!v.isCanvas(E))throw new Error("Invalid canvas object - "+E);var S=null,w=v.initWebGlDefaultOptions();try{S=E.getContext("experimental-webgl",w)}catch{}return S===null&&(S=E.getContext("webgl2",w)||E.getContext("webgl",w)),S&&(S.OES_texture_float=S.getExtension("OES_texture_float"),S.OES_texture_float_linear=S.getExtension("OES_texture_float_linear"),S.OES_element_index_uint=S.getExtension("OES_element_index_uint")),S}},{key:"initWebGl2",value:function(E){if((typeof o<"u"||E===null)&&!o)return null;if(!v.isCanvas(E))throw new Error("Invalid canvas object - "+E);return E.getContext("webgl2",v.initWebGlDefaultOptions())}},{key:"checkOutput",value:function(E){if(!E||!Array.isArray(E))throw new Error("kernel.output not an array");for(var S=0;S<E.length;S++)if(isNaN(E[S])||E[S]<1)throw new Error("kernel.output["+S+"] incorrectly defined as `"+E[S]+"`, needs to be numeric, and greater than 0")}}]),v}(),o=typeof document<"u"?s.isCanvas(document.createElement("canvas")):typeof OffscreenCanvas<"u",l=s.initWebGl(s.initCanvas()),d=s.initWebGl2(s.initCanvas()),c=s.isWebGl(l),f=s.isWebGl2(d),g=c&&!!l.getExtension("WEBGL_draw_buffers");return c?(s.OES_texture_float=l.OES_texture_float,s.OES_texture_float_linear=l.OES_texture_float_linear,s.OES_element_index_uint=l.OES_element_index_uint):(s.OES_texture_float=!1,s.OES_texture_float_linear=!1,s.OES_element_index_uint=!1),utilsCore=s,utilsCore}var input,hasRequiredInput;function requireInput(){if(hasRequiredInput)return input;hasRequiredInput=1;function r(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}return input=function i(s,o){if(r(this,i),this.value=s,Array.isArray(o)){this.size=[];for(var l=0;l<o.length;l++)this.size[l]=o[l];for(;this.size.length<3;)this.size.push(1)}else o.z?this.size=[o.x,o.y,o.z]:o.y?this.size=[o.x,o.y,1]:this.size=[o.x,1,1]},input}var texture,hasRequiredTexture;function requireTexture(){if(hasRequiredTexture)return texture;hasRequiredTexture=1;var r=function(){function s(o,l){for(var d=0;d<l.length;d++){var c=l[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,d){return l&&s(o.prototype,l),d&&s(o,d),o}}();function i(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}return texture=function(){function s(o,l,d,c,f){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"NumberTexture";i(this,s),this.texture=o,this.size=l,this.dimensions=d,this.output=c,this.webGl=f,this.kernel=null,this.type=g}return r(s,[{key:"toArray",value:function(l){if(!l)throw new Error("You need to pass the GPU object for toArray to work.");return this.kernel?this.kernel(this):(this.kernel=l.createKernel(function(d){return d[this.thread.z][this.thread.y][this.thread.x]}).setOutput(this.output),this.kernel(this))}},{key:"delete",value:function(){return this.webGl.deleteTexture(this.texture)}}]),s}(),texture}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},i=function(){function _(b,h){for(var k=0;k<h.length;k++){var M=h[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,M.key,M)}}return function(b,h,k){return h&&_(b.prototype,h),k&&_(b,k),b}}();function s(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function o(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function l(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var d=requireUtilsCore(),c=requireInput(),f=requireTexture(),g=/function ([^(]*)/,v=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,p=/([^\s,]+)/g,E=function(){var _=new ArrayBuffer(4),b=new Uint32Array(_),h=new Uint8Array(_);if(b[0]=3735928559,h[0]===239)return"LE";if(h[0]===222)return"BE";throw new Error("unknown endianness")}(),S=null,w=null,D=function(){try{return new Function("let i = 1; const j = 1;")(),!0}catch{return!1}}(),m=null,R=function(_){l(b,_);function b(){return s(this,b),o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,null,[{key:"systemEndianness",value:function(){return E}},{key:"isFunction",value:function(k){return typeof k=="function"}},{key:"isFunctionString",value:function(k){return k!==null?k.toString().slice(0,8).toLowerCase()==="function":!1}},{key:"getFunctionNameFromString",value:function(k){return g.exec(k)[1]}},{key:"getFunctionBodyFromString",value:function(k){return k.substring(k.indexOf("{")+1,k.lastIndexOf("}"))}},{key:"getParamNamesFromString",value:function(k){var M=k.toString().replace(v,""),z=M.slice(M.indexOf("(")+1,M.indexOf(")")).match(p);return z===null&&(z=[]),z}},{key:"clone",value:function(k){if(k===null||(typeof k>"u"?"undefined":r(k))!=="object"||k.hasOwnProperty("isActiveClone"))return k;var M=k.constructor();for(var z in k)Object.prototype.hasOwnProperty.call(k,z)&&(k.isActiveClone=null,M[z]=b.clone(k[z]),delete k.isActiveClone);return M}},{key:"newPromise",value:function(k){var M=Promise||small_promise;if(M===null)throw TypeError("Browser is missing Promise implementation. Consider adding small_promise.js polyfill");return new M(k)}},{key:"functionBinder",value:function(k,M){return k.bind?k.bind(M):function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return k.apply(M,z)}}},{key:"isArray",value:function(k){return!isNaN(k.length)}},{key:"getArgumentType",value:function(k){return b.isArray(k)?k[0].nodeName==="IMG"?"HTMLImageArray":"Array":typeof k=="number"?Number.isInteger(k)?"Integer":"Float":k instanceof f?k.type:k instanceof c?"Input":k.nodeName==="IMG"?"HTMLImage":"Unknown"}},{key:"isFloatReadPixelsSupported",value:function(){if(S!==null)return S;var k=requireDist(),M=new k({mode:"webgl-validator"}),z=M.createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return S=z[0]===1,M.destroy(),S}},{key:"isFloatReadPixelsSupportedWebGL2",value:function(){if(w!==null)return w;var k=requireDist(),M=new k({mode:"webgl2-validator"}),z=M.createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return w=z[0]===1,M.destroy(),w}},{key:"hasIntegerDivisionAccuracyBug",value:function(){if(m!==null)return m;var k=requireDist(),M=new k({mode:"webgl-validator"}),z=M.createKernel(function(Z,W){return Z[this.thread.x]/W[this.thread.x]},{output:[1]})([6,6030401],[3,3991]);return m=z[0]!==2||z[1]!==1511,M.destroy(),m}},{key:"isMixedIdentifiersSupported",value:function(){return D}},{key:"dimToTexSize",value:function(k,M,z){for(var Z=M[0],W=M[0],H=M[1],L=1;L<M.length;L++)Z*=M[L];if(k.floatTextures&&(!z||k.floatOutput)&&(W=Z=Math.ceil(Z/4)),H>1&&W*H===Z)return[W,H];for(var A=Math.sqrt(Z),N=Math.ceil(A),j=Math.floor(A);N*j>Z;)N--,j=Math.ceil(Z/N);return W=j,H=Math.ceil(Z/W),[W,H]}},{key:"getDimensions",value:function(k,M){var z=void 0;if(b.isArray(k)){for(var Z=[],W=k;b.isArray(W);)Z.push(W.length),W=W[0];z=Z.reverse()}else if(k instanceof f)z=k.output;else if(k instanceof c)z=k.size;else throw"Unknown dimensions of "+k;if(M)for(z=b.clone(z);z.length<3;)z.push(1);return new Int32Array(z)}},{key:"pad",value:function(k,M){function z(L){return Array.apply(null,new Array(L)).map(Number.prototype.valueOf,0)}for(var Z=k.length+M*2,W=k.map(function(L){return[].concat(z(M),L,z(M))}),H=0;H<M;H++)W=[].concat([z(Z)],W,[z(Z)]);return W}},{key:"flatten2dArrayTo",value:function(k,M){for(var z=0,Z=0;Z<k.length;Z++)M.set(k[Z],z),z+=k[Z].length}},{key:"flatten3dArrayTo",value:function(k,M){for(var z=0,Z=0;Z<k.length;Z++)for(var W=0;W<k[Z].length;W++)M.set(k[Z][W],z),z+=k[Z][W].length}},{key:"flattenTo",value:function(k,M){b.isArray(k[0])?b.isArray(k[0][0])?b.flatten3dArrayTo(k,M):b.flatten2dArrayTo(k,M):M.set(k)}},{key:"splitArray",value:function(k,M){for(var z=[],Z=0;Z<k.length;Z+=M)z.push(new k.constructor(k.buffer,Z*4+k.byteOffset,M));return z}},{key:"getAstString",value:function(k,M){var z=Array.isArray(k)?k:k.split(/\r?\n/g),Z=M.loc.start,W=M.loc.end,H=[];H.push(z[Z.line-1].slice(Z.column));for(var L=Z.line;L<W.line-1;L++)H.push(z[L]);return H.push(z[W.line-1].slice(0,W.column)),H.join(`
`)}},{key:"allPropertiesOf",value:function(k){var M=[];do M.push.apply(M,Object.getOwnPropertyNames(k));while(k=Object.getPrototypeOf(k));return M}}]),b}(d);return Object.assign(R,d),utils=R,utils}var kernelRunShortcut,hasRequiredKernelRunShortcut;function requireKernelRunShortcut(){if(hasRequiredKernelRunShortcut)return kernelRunShortcut;hasRequiredKernelRunShortcut=1;var r=requireUtils();return kernelRunShortcut=function(s){var o=function(){return s.run.apply(s,arguments)};return r.allPropertiesOf(s).forEach(function(l){l[0]==="_"&&l[1]==="_"||(typeof s[l]=="function"?l.substring(0,3)==="add"||l.substring(0,3)==="set"?o[l]=function(){return s[l].apply(s,arguments),o}:o[l]=s[l].bind(s):(o.__defineGetter__(l,function(){return s[l]}),o.__defineSetter__(l,function(d){s[l]=d})))}),o.kernel=s,o},kernelRunShortcut}var runnerBase,hasRequiredRunnerBase;function requireRunnerBase(){if(hasRequiredRunnerBase)return runnerBase;hasRequiredRunnerBase=1;var r=function(){function l(d,c){for(var f=0;f<c.length;f++){var g=c[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,f){return c&&l(d.prototype,c),f&&l(d,f),d}}();function i(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var s=requireUtils(),o=requireKernelRunShortcut();return runnerBase=function(){function l(d,c){i(this,l),c=c||{},this.kernel=c.kernel,this.canvas=c.canvas,this.webGl=c.webGl,this.fn=null,this.functionBuilder=d,this.fnString=null,this.endianness=s.systemEndianness()}return r(l,[{key:"textureToArray",value:function(c){var f=this.createKernel(function(g){return g[this.thread.z][this.thread.y][this.thread.x]});return f(c)}},{key:"deleteTexture",value:function(c){this.webGl.deleteTexture(c.texture)}},{key:"buildPromiseKernel",value:function(){throw new Error("not yet implemented")}},{key:"getMode",value:function(){throw new Error('"mode" not implemented on BaseRunner')}},{key:"buildKernel",value:function(c,f){f=Object.assign({},f||{});var g=c.toString();return f.functionBuilder||(f.functionBuilder=this.functionBuilder),f.canvas||(f.canvas=this.canvas),f.webGl||(f.webGl=this.webgl),o(new this.Kernel(g,f))}}]),l}(),runnerBase}var kernelBase,hasRequiredKernelBase;function requireKernelBase(){if(hasRequiredKernelBase)return kernelBase;hasRequiredKernelBase=1;var r=function(){function l(d,c){for(var f=0;f<c.length;f++){var g=c[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,f){return c&&l(d.prototype,c),f&&l(d,f),d}}();function i(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var s=requireUtils(),o=requireInput();return kernelBase=function(){function l(d,c){i(this,l),this.paramNames=s.getParamNamesFromString(d),this.fnString=d,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.wraparound=null,this.hardcodeConstants=null,this.outputToTexture=null,this.outputImmutable=null,this.texSize=null,this._canvas=null,this._webGl=null,this.threadDim=null,this.floatTextures=null,this.floatOutput=null,this.floatOutputForce=null,this.addFunction=null,this.functions=null,this.nativeFunctions=null,this.subKernels=null,this.subKernelProperties=null,this.subKernelNames=null,this.subKernelOutputVariableNames=null,this.functionBuilder=null,this.paramTypes=null,this.paramSizes=null,this.constantTypes=null,this.fixIntegerDivisionAccuracy=null;for(var f in c)!c.hasOwnProperty(f)||!this.hasOwnProperty(f)||(this[f]=c[f]);c.hasOwnProperty("canvas")&&(this._canvas=c.canvas),c.hasOwnProperty("webGl")&&(this._webGl=c.webGl),c.hasOwnProperty("output")&&this.setOutput(c.output),this._canvas||(this._canvas=s.initCanvas())}return r(l,[{key:"build",value:function(){throw new Error('"build" not defined on Base')}},{key:"setupParams",value:function(c){this.paramTypes=[],this.paramSizes=[];for(var f=0;f<c.length;f++){var g=c[f];this.paramTypes.push(s.getArgumentType(g)),this.paramSizes.push(g.constructor===o?g.size:null)}}},{key:"setupConstants",value:function(){if(this.constantTypes={},this.constants)for(var c in this.constants)this.constantTypes[c]=s.getArgumentType(this.constants[c])}},{key:"setFunctions",value:function(c){return this.functions=c,this}},{key:"setOutput",value:function(c){return c.hasOwnProperty("x")?c.hasOwnProperty("y")?c.hasOwnProperty("z")?this.output=[c.x,c.y,c.z]:this.output=[c.x,c.y]:this.output=[c.x]:this.output=c,this}},{key:"setDebug",value:function(c){return this.debug=c,this}},{key:"setGraphical",value:function(c){return this.graphical=c,this}},{key:"setLoopMaxIterations",value:function(c){return this.loopMaxIterations=c,this}},{key:"setFixIntegerDivisionAccuracy",value:function(c){return this.fixIntegerDivisionAccuracy=c,this}},{key:"setConstants",value:function(c){return this.constants=c,this}},{key:"setWraparound",value:function(c){return console.warn("Wraparound mode is not supported and undocumented."),this.wraparound=c,this}},{key:"setHardcodeConstants",value:function(c){return this.hardcodeConstants=c,this}},{key:"setOutputToTexture",value:function(c){return this.outputToTexture=c,this}},{key:"setOutputImmutable",value:function(c){return this.outputImmutable=c,this}},{key:"setFloatTextures",value:function(c){return this.floatTextures=c,this}},{key:"setFloatOutput",value:function(c){return this.floatOutput=c,this}},{key:"setFloatOutputForce",value:function(c){return this.floatOutputForce=c,this}},{key:"setCanvas",value:function(c){return this._canvas=c,this}},{key:"setWebGl",value:function(c){return this._webGl=c,this}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"validateOptions",value:function(){throw new Error("validateOptions not defined")}},{key:"exec",value:function(){return this.execute.apply(this,arguments)}},{key:"execute",value:function(){var c=this,f=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return s.newPromise(function(g,v){try{g(c.run.apply(c,f))}catch(p){v(p)}})}},{key:"addSubKernel",value:function(c){return this.subKernels===null&&(this.subKernels=[],this.subKernelNames=[]),this.subKernels.push(c),this.subKernelNames.push(s.getFunctionNameFromString(c)),this}},{key:"addSubKernelProperty",value:function(c,f){if(this.subKernelProperties===null&&(this.subKernelProperties={},this.subKernelNames=[]),this.subKernelProperties.hasOwnProperty(c))throw new Error("cannot add sub kernel "+c+", already defined");return this.subKernelProperties[c]=f,this.subKernelNames.push(s.getFunctionNameFromString(f)),this}},{key:"addNativeFunction",value:function(c,f){this.functionBuilder.addNativeFunction(c,f)}},{key:"destroy",value:function(){}}]),l}(),kernelBase}var shaderFrag$1,hasRequiredShaderFrag$1;function requireShaderFrag$1(){return hasRequiredShaderFrag$1||(hasRequiredShaderFrag$1=1,shaderFrag$1=`__HEADER__;
precision highp float;
precision highp int;
precision highp sampler2D;

const float LOOP_MAX = __LOOP_MAX__;

__CONSTANTS__;

varying vec2 vTexCoord;

vec4 round(vec4 x) {
  return floor(x + 0.5);
}

float round(float x) {
  return floor(x + 0.5);
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 rgba) {
  __DECODE32_ENDIANNESS__;
  rgba *= 255.0;
  vec2 gte128;
  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  rgba.b = rgba.b - 128.0 * gte128.x;
  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

vec4 encode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  rgba.rg = integerMod(rgba.rg, 256.0);
  rgba.b = integerMod(rgba.b, 128.0);
  rgba.a = exponent*0.5 + 63.5;
  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  rgba = floor(rgba);
  rgba *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return rgba;
}
// Dragons end here

float decode(vec4 rgba, int x, int bitRatio) {
  if (bitRatio == 1) {
    return decode32(rgba);
  }
  __DECODE32_ENDIANNESS__;
  int channel = integerMod(x, bitRatio);
  if (bitRatio == 4) {
    if (channel == 0) return rgba.r * 255.0;
    if (channel == 1) return rgba.g * 255.0;
    if (channel == 2) return rgba.b * 255.0;
    if (channel == 3) return rgba.a * 255.0;
  }
  else {
    if (channel == 0) return rgba.r * 255.0 + rgba.g * 65280.0;
    if (channel == 1) return rgba.b * 255.0 + rgba.a * 65280.0;
  }
}

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio,  int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  __GET_RESULT__;
  
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture2D(tex, st / vec2(texSize));
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int y, int x) {
  return get(tex, texSize, texDim, bitRatio, int(0), y, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int y, int x) {
  return getImage2D(tex, texSize, texDim, int(0), y, x);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int x) {
  return get(tex, texSize, texDim, bitRatio, int(0), int(0), x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int x) {
  return getImage2D(tex, texSize, texDim, int(0), int(0), x);
}


vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

__MAIN_PARAMS__;
__MAIN_CONSTANTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`),shaderFrag$1}var shaderVert$1,hasRequiredShaderVert$1;function requireShaderVert$1(){return hasRequiredShaderVert$1||(hasRequiredShaderVert$1=1,shaderVert$1=`precision highp float;
precision highp int;
precision highp sampler2D;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`),shaderVert$1}var kernelString$1,hasRequiredKernelString$1;function requireKernelString$1(){if(hasRequiredKernelString$1)return kernelString$1;hasRequiredKernelString$1=1;var r=requireUtils(),i=requireKernelRunShortcut();requireInput(),requireTexture();function s(l){return/^function /.test(l)&&(l=l.substring(9)),l.replace(/[_]typeof/g,"typeof")}function o(l){return l.replace(/[_]typeof/g,"typeof")}return kernelString$1=function(l,d){return`() => {
    `+i.toString()+`;
    const utils = {
      allPropertiesOf: `+o(r.allPropertiesOf.toString())+`,
      clone: `+o(r.clone.toString())+`,
      splitArray: `+o(r.splitArray.toString())+`,
      getArgumentType: `+o(r.getArgumentType.toString())+`,
      getDimensions: `+o(r.getDimensions.toString())+`,
      dimToTexSize: `+o(r.dimToTexSize.toString())+`,
      flattenTo: `+o(r.flattenTo.toString())+`,
      flatten2dArrayTo: `+o(r.flatten2dArrayTo.toString())+`,
      flatten3dArrayTo: `+o(r.flatten3dArrayTo.toString())+`,
      systemEndianness: '`+o(r.systemEndianness())+`',
      initWebGl: `+o(r.initWebGl.toString())+`,
      isArray: `+o(r.isArray.toString())+`,
      checkOutput: `+o(r.checkOutput.toString())+`
    };
    const Utils = utils;
    const canvases = [];
    const maxTexSizes = {};
    let Texture = function() {};
    let Input = function() {}; 
    class `+(d||"Kernel")+` {
      constructor() {
        this.maxTexSize = null;
        this.argumentsLength = 0;
        this.constantsLength = 0;
        this._canvas = null;
        this._webGl = null;
        this.program = null;
        this.outputToTexture = `+(l.outputToTexture?"true":"false")+`;
        this.paramNames = `+JSON.stringify(l.paramNames)+`;
        this.paramTypes = `+JSON.stringify(l.paramTypes)+`;
        this.texSize = `+JSON.stringify(l.texSize)+`;
        this.output = `+JSON.stringify(l.output)+";\n        this.compiledFragShaderString = `"+l.compiledFragShaderString+"`;\n		    this.compiledVertShaderString = `"+l.compiledVertShaderString+`\`;
		    this.programUniformLocationCache = {};
		    this.textureCache = {};
		    this.subKernelOutputTextures = null;
		    this.subKernelOutputVariableNames = null;
		    this.uniform1fCache = {};
		    this.uniform1iCache = {};
		    this.uniform2fCache = {};
		    this.uniform2fvCache = {};
		    this.uniform2ivCache = {};
		    this.uniform3fvCache = {};
		    this.uniform3ivCache = {};
      }
      _getFragShaderString() { return this.compiledFragShaderString; }
      _getVertShaderString() { return this.compiledVertShaderString; }
      validateOptions() {}
      setupParams() {}
      setupConstants() {}
      setCanvas(canvas) { this._canvas = canvas; return this; }
      setWebGl(webGl) { this._webGl = webGl; return this; }
      setTexture(Type) { Texture = Type; }
      setInput(Type) { Input = Type; }
      `+s(l.getUniformLocation.toString())+`
      `+s(l.build.toString())+`
		  `+s(l.run.toString())+`
		  `+s(l._addArgument.toString())+`
		  `+s(l._formatArrayTransfer.toString())+`
		  `+s(l.getArgumentTexture.toString())+`
		  `+s(l.getTextureCache.toString())+`
		  `+s(l.getOutputTexture.toString())+`
		  `+s(l.renderOutput.toString())+`
		  `+s(l.updateMaxTexSize.toString())+`
		  `+s(l._setupOutputTexture.toString())+`
		  `+s(l.detachTextureCache.toString())+`
		  `+s(l.setUniform1f.toString())+`
		  `+s(l.setUniform1i.toString())+`
		  `+s(l.setUniform2f.toString())+`
		  `+s(l.setUniform2fv.toString())+`
		  `+s(l.setUniform2iv.toString())+`
		  `+s(l.setUniform3fv.toString())+`
		  `+s(l.setUniform3iv.toString())+`
    };
    return kernelRunShortcut(new Kernel());
  };`},kernelString$1}var kernel$2,hasRequiredKernel$2;function requireKernel$2(){if(hasRequiredKernel$2)return kernel$2;hasRequiredKernel$2=1;var r=function w(D,m,R){D===null&&(D=Function.prototype);var _=Object.getOwnPropertyDescriptor(D,m);if(_===void 0){var b=Object.getPrototypeOf(D);return b===null?void 0:w(b,m,R)}else{if("value"in _)return _.value;var h=_.get;return h===void 0?void 0:h.call(R)}},i=function(){function w(D,m){for(var R=0;R<m.length;R++){var _=m[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(D,_.key,_)}}return function(D,m,R){return m&&w(D.prototype,m),R&&w(D,R),D}}();function s(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")}function o(w,D){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:w}function l(w,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);w.prototype=Object.create(D&&D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(w,D):w.__proto__=D)}var d=requireKernelBase(),c=requireUtils(),f=requireTexture(),g=requireShaderFrag$1(),v=requireShaderVert$1(),p=requireKernelString$1(),E=[],S={};return kernel$2=function(w){l(D,w),i(D,null,[{key:"fragShaderString",get:function(){return g}},{key:"vertShaderString",get:function(){return v}}]);function D(m,R){s(this,D);var _=o(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,m,R));return _.textureCache={},_.threadDim={},_.programUniformLocationCache={},_.framebuffer=null,_.buffer=null,_.program=null,_.outputToTexture=R.outputToTexture,_.endianness=c.systemEndianness(),_.subKernelOutputTextures=null,_.subKernelOutputVariableNames=null,_.argumentsLength=0,_.constantsLength=0,_.compiledFragShaderString=null,_.compiledVertShaderString=null,_.fragShader=null,_.vertShader=null,_.drawBuffersMap=null,_.outputTexture=null,_.maxTexSize=null,_.uniform1fCache={},_.uniform1iCache={},_.uniform2fCache={},_.uniform2fvCache={},_.uniform2ivCache={},_.uniform3fvCache={},_.uniform3ivCache={},_._webGl||(_._webGl=_.initWebGl()),_}return i(D,[{key:"initWebGl",value:function(){return c.initWebGl(this.getCanvas())}},{key:"validateOptions",value:function(){var R=c.isFloatReadPixelsSupported();if(this.floatTextures===!0&&!c.OES_texture_float)throw new Error("Float textures are not supported on this browser");if(this.floatOutput===!0&&this.floatOutputForce!==!0&&!R)throw new Error("Float texture outputs are not supported on this browser");this.floatTextures===void 0&&c.OES_texture_float&&(this.floatTextures=!0,this.floatOutput=R);var _=c.hasIntegerDivisionAccuracyBug();if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=_:this.fixIntegerDivisionAccuracy&&!_&&(this.fixIntegerDivisionAccuracy=!1),c.checkOutput(this.output),!this.output||this.output.length===0){if(arguments.length!==1)throw new Error("Auto output only supported for kernels with only one input");var b=c.getArgumentType(arguments[0]);if(b==="Array")this.output=c.getDimensions(b);else if(b==="NumberTexture"||b==="ArrayTexture(4)")this.output=arguments[0].output;else throw new Error("Auto output not supported for input type: "+b)}if(this.texSize=c.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=c.clone(this.output)}else this.floatOutput===void 0&&c.OES_texture_float&&(this.floatOutput=!0)}},{key:"updateMaxTexSize",value:function(){var R=this.texSize,_=this._canvas;if(this.maxTexSize===null){var b=E.indexOf(_);b===-1&&(b=E.length,E.push(_),S[b]=[R[0],R[1]]),this.maxTexSize=S[b]}this.maxTexSize[0]<R[0]&&(this.maxTexSize[0]=R[0]),this.maxTexSize[1]<R[1]&&(this.maxTexSize[1]=R[1])}},{key:"build",value:function(){this.validateOptions(),this.setupConstants(),this.setupParams(arguments),this.updateMaxTexSize();var R=this.texSize,_=this._webGl,b=this._canvas;_.enable(_.SCISSOR_TEST),_.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),b.width=this.maxTexSize[0],b.height=this.maxTexSize[1];for(var h=this.threadDim=c.clone(this.output);h.length<3;)h.push(1);this.functionBuilder&&this._addKernels();var k=this._getVertShaderString(arguments),M=_.createShader(_.VERTEX_SHADER);_.shaderSource(M,k),_.compileShader(M),this.vertShader=M;var z=this._getFragShaderString(arguments),Z=_.createShader(_.FRAGMENT_SHADER);if(_.shaderSource(Z,z),_.compileShader(Z),this.fragShader=Z,!_.getShaderParameter(M,_.COMPILE_STATUS))throw console.log(k),console.error("An error occurred compiling the shaders: "+_.getShaderInfoLog(M)),new Error("Error compiling vertex shader");if(!_.getShaderParameter(Z,_.COMPILE_STATUS))throw console.log(z),console.error("An error occurred compiling the shaders: "+_.getShaderInfoLog(Z)),new Error("Error compiling fragment shader");this.debug&&(console.log("Options:"),console.dir(this),console.log("GLSL Shader Output:"),console.log(z));var W=this.program=_.createProgram();_.attachShader(W,M),_.attachShader(W,Z),_.linkProgram(W),this.framebuffer=_.createFramebuffer(),this.framebuffer.width=R[0],this.framebuffer.height=R[1];var H=new Float32Array([-1,-1,1,-1,-1,1,1,1]),L=new Float32Array([0,0,1,0,0,1,1,1]),A=H.byteLength,N=this.buffer;N?_.bindBuffer(_.ARRAY_BUFFER,N):(N=this.buffer=_.createBuffer(),_.bindBuffer(_.ARRAY_BUFFER,N),_.bufferData(_.ARRAY_BUFFER,H.byteLength+L.byteLength,_.STATIC_DRAW)),_.bufferSubData(_.ARRAY_BUFFER,0,H),_.bufferSubData(_.ARRAY_BUFFER,A,L);var j=_.getAttribLocation(this.program,"aPos");_.enableVertexAttribArray(j),_.vertexAttribPointer(j,2,_.FLOAT,_.FALSE,0,0);var q=_.getAttribLocation(this.program,"aTexCoord");_.enableVertexAttribArray(q),_.vertexAttribPointer(q,2,_.FLOAT,_.FALSE,0,A),_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer);for(var K in this.constants){var V=this.constants[K],G=c.getArgumentType(V);G==="Float"||G==="Integer"||(_.useProgram(this.program),this._addConstant(this.constants[K],G,K),this.constantsLength++)}this.outputImmutable||(this._setupOutputTexture(),this.subKernelOutputVariableNames!==null&&this.subKernelOutputVariableNames.length>0&&this._setupSubOutputTextures(this.subKernelOutputVariableNames.length))}},{key:"run",value:function(){this.program===null&&this.build.apply(this,arguments);var R=this.paramNames,_=this.paramTypes,b=this.texSize,h=this._webGl;h.useProgram(this.program),h.scissor(0,0,b[0],b[1]),this.hardcodeConstants||(this.setUniform3iv("uOutputDim",this.threadDim),this.setUniform2iv("uTexSize",b)),this.setUniform2f("ratio",b[0]/this.maxTexSize[0],b[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var k=0;k<R.length;k++)this._addArgument(arguments[k],_[k],R[k]);if(this.graphical){if(this.outputToTexture)return h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer),(!this.outputTexture||this.outputImmutable)&&this._setupOutputTexture(),h.drawArrays(h.TRIANGLE_STRIP,0,4),new f(this.outputTexture,b,this.threadDim,this.output,this._webGl,"ArrayTexture(4)");h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,null),h.drawArrays(h.TRIANGLE_STRIP,0,4);return}h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer),this.outputImmutable&&this._setupOutputTexture();var M=this.outputTexture;if(this.subKernelOutputVariableNames!==null&&(this.outputImmutable&&(this.subKernelOutputTextures=[],this._setupSubOutputTextures(this.subKernelOutputVariableNames.length)),this.drawBuffers.drawBuffersWEBGL(this.drawBuffersMap)),h.drawArrays(h.TRIANGLE_STRIP,0,4),this.subKernelOutputTextures!==null){if(this.subKernels!==null){var z=[];z.result=this.renderOutput(M);for(var Z=0;Z<this.subKernels.length;Z++)z.push(new f(this.subKernelOutputTextures[Z],b,this.threadDim,this.output,this._webGl));return z}else if(this.subKernelProperties!==null){var W={result:this.renderOutput(M)},H=0;for(var L in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(L)&&(W[L]=new f(this.subKernelOutputTextures[H],b,this.threadDim,this.output,this._webGl),H++);return W}}return this.renderOutput(M)}},{key:"renderOutput",value:function(R){var _=this.texSize,b=this._webGl,h=this.threadDim,k=this.output;if(this.outputToTexture)return new f(R,_,this.threadDim,k,this._webGl);var M=void 0;if(this.floatOutput){var z=_[0],Z=Math.ceil(_[1]/4);M=new Float32Array(z*Z*4),b.readPixels(0,0,z,Z,b.RGBA,b.FLOAT,M)}else{var W=new Uint8Array(_[0]*_[1]*4);b.readPixels(0,0,_[0],_[1],b.RGBA,b.UNSIGNED_BYTE,W),M=new Float32Array(W.buffer)}if(M=M.subarray(0,h[0]*h[1]*h[2]),k.length===1)return M;if(k.length===2)return c.splitArray(M,k[0]);if(k.length===3){var H=c.splitArray(M,k[0]*k[1]);return H.map(function(L){return c.splitArray(L,k[0])})}}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"_setupOutputTexture",value:function(){var R=this._webGl,_=this.texSize,b=this.outputTexture=this._webGl.createTexture();R.activeTexture(R.TEXTURE0+this.constantsLength+this.paramNames.length),R.bindTexture(R.TEXTURE_2D,b),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.NEAREST),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.NEAREST),this.floatOutput?R.texImage2D(R.TEXTURE_2D,0,R.RGBA,_[0],_[1],0,R.RGBA,R.FLOAT,null):R.texImage2D(R.TEXTURE_2D,0,R.RGBA,_[0],_[1],0,R.RGBA,R.UNSIGNED_BYTE,null),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,b,0)}},{key:"_setupSubOutputTextures",value:function(R){for(var _=this._webGl,b=this.texSize,h=this.drawBuffersMap=[_.COLOR_ATTACHMENT0],k=this.subKernelOutputTextures=[],M=0;M<R;M++){var z=this._webGl.createTexture();k.push(z),h.push(_.COLOR_ATTACHMENT0+M+1),_.activeTexture(_.TEXTURE0+this.constantsLength+this.paramNames.length+M),_.bindTexture(_.TEXTURE_2D,z),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),this.floatOutput?_.texImage2D(_.TEXTURE_2D,0,_.RGBA,b[0],b[1],0,_.RGBA,_.FLOAT,null):_.texImage2D(_.TEXTURE_2D,0,_.RGBA,b[0],b[1],0,_.RGBA,_.UNSIGNED_BYTE,null),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0+M+1,_.TEXTURE_2D,z,0)}}},{key:"getArgumentTexture",value:function(R){return this.getTextureCache("ARGUMENT_"+R)}},{key:"getTextureCache",value:function(R){return this.textureCache.hasOwnProperty(R)?this.textureCache[R]:this.textureCache[R]=this._webGl.createTexture()}},{key:"detachTextureCache",value:function(R){delete this.textureCache[R]}},{key:"setUniform1f",value:function(R,_){if(this.uniform1fCache.hasOwnProperty(R)){var b=this.uniform1fCache[R];if(_===b)return}this.uniform1fCache[R]=_;var h=this.getUniformLocation(R);this._webGl.uniform1f(h,_)}},{key:"setUniform1i",value:function(R,_){if(this.uniform1iCache.hasOwnProperty(R)){var b=this.uniform1iCache[R];if(_===b)return}this.uniform1iCache[R]=_;var h=this.getUniformLocation(R);this._webGl.uniform1i(h,_)}},{key:"setUniform2f",value:function(R,_,b){if(this.uniform2fCache.hasOwnProperty(R)){var h=this.uniform2fCache[R];if(_===h[0]&&b===h[1])return}this.uniform2fCache[R]=[_,b];var k=this.getUniformLocation(R);this._webGl.uniform2f(k,_,b)}},{key:"setUniform2fv",value:function(R,_){if(this.uniform2fvCache.hasOwnProperty(R)){var b=this.uniform2fvCache[R];if(_[0]===b[0]&&_[1]===b[1])return}this.uniform2fvCache[R]=_;var h=this.getUniformLocation(R);this._webGl.uniform2fv(h,_)}},{key:"setUniform2iv",value:function(R,_){if(this.uniform2ivCache.hasOwnProperty(R)){var b=this.uniform2ivCache[R];if(_[0]===b[0]&&_[1]===b[1])return}this.uniform2ivCache[R]=_;var h=this.getUniformLocation(R);this._webGl.uniform2iv(h,_)}},{key:"setUniform3fv",value:function(R,_){if(this.uniform3fvCache.hasOwnProperty(R)){var b=this.uniform3fvCache[R];if(_[0]===b[0]&&_[1]===b[1]&&_[2]===b[2])return}this.uniform3fvCache[R]=_;var h=this.getUniformLocation(R);this._webGl.uniform3fv(h,_)}},{key:"setUniform3iv",value:function(R,_){if(this.uniform3ivCache.hasOwnProperty(R)){var b=this.uniform3ivCache[R];if(_[0]===b[0]&&_[1]===b[1]&&_[2]===b[2])return}this.uniform3ivCache[R]=_;var h=this.getUniformLocation(R);this._webGl.uniform3iv(h,_)}},{key:"getUniformLocation",value:function(R){return this.programUniformLocationCache.hasOwnProperty(R)?this.programUniformLocationCache[R]:this.programUniformLocationCache[R]=this._webGl.getUniformLocation(this.program,R)}},{key:"_getFragShaderArtifactMap",value:function(R){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),GET_WRAPAROUND:this._getGetWraparoundString(),GET_TEXTURE_CHANNEL:this._getGetTextureChannelString(),GET_TEXTURE_INDEX:this._getGetTextureIndexString(),GET_RESULT:this._getGetResultString(),MAIN_PARAMS:this._getMainParamsString(R),MAIN_CONSTANTS:this._getMainConstantsString(),KERNEL:this._getKernelString(),MAIN_RESULT:this._getMainResultString()}}},{key:"_addArgument",value:function(R,_,b){var h=this._webGl,k=this.getArgumentTexture(b);switch(R instanceof f&&(_=R.type),_){case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"Array2D":case"Array3D":{var M=c.getDimensions(R,!0),z=c.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},M);h.activeTexture(h.TEXTURE0+this.constantsLength+this.argumentsLength),h.bindTexture(h.TEXTURE_2D,k),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);var Z=z[0]*z[1],W=this._formatArrayTransfer(R,Z),H=W.valuesFlat,L=W.bitRatio,A=void 0;this.floatTextures?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,z[0],z[1],0,h.RGBA,h.FLOAT,H):(A=new Uint8Array(H.buffer),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,z[0]/L,z[1],0,h.RGBA,h.UNSIGNED_BYTE,A)),this.hardcodeConstants||(this.setUniform3iv("user_"+b+"Dim",M),this.setUniform2iv("user_"+b+"Size",z)),this.setUniform1i("user_"+b+"BitRatio",L),this.setUniform1i("user_"+b,this.argumentsLength);break}case"Integer":case"Float":case"Number":{this.setUniform1f("user_"+b,R);break}case"Input":{var N=R,j=N.size,q=c.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},j);h.activeTexture(h.TEXTURE0+this.constantsLength+this.argumentsLength),h.bindTexture(h.TEXTURE_2D,k),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);var K=q[0]*q[1],V=this._formatArrayTransfer(R.value,K),G=V.valuesFlat,te=V.bitRatio;if(this.floatTextures)h.texImage2D(h.TEXTURE_2D,0,h.RGBA,q[0],q[1],0,h.RGBA,h.FLOAT,inputArray);else{var ue=new Uint8Array(G.buffer);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,q[0]/te,q[1],0,h.RGBA,h.UNSIGNED_BYTE,ue)}this.hardcodeConstants||(this.setUniform3iv("user_"+b+"Dim",j),this.setUniform2iv("user_"+b+"Size",q)),this.setUniform1i("user_"+b+"BitRatio",te),this.setUniform1i("user_"+b,this.argumentsLength);break}case"HTMLImage":{var B=R,ee=[B.width,B.height,1],oe=[B.width,B.height];h.activeTexture(h.TEXTURE0+this.constantsLength+this.argumentsLength),h.bindTexture(h.TEXTURE_2D,k),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!0);var ae=0,ce=h.RGBA,xe=h.RGBA,X=h.UNSIGNED_BYTE;h.texImage2D(h.TEXTURE_2D,ae,ce,xe,X,B),this.setUniform3iv("user_"+b+"Dim",ee),this.setUniform2iv("user_"+b+"Size",oe),this.setUniform1i("user_"+b,this.argumentsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var Y=R,Q=Y.dimensions,J=Y.size;h.activeTexture(h.TEXTURE0+this.constantsLength+this.argumentsLength),h.bindTexture(h.TEXTURE_2D,Y.texture),this.setUniform3iv("user_"+b+"Dim",Q),this.setUniform2iv("user_"+b+"Size",J),this.setUniform1i("user_"+b+"BitRatio",1),this.setUniform1i("user_"+b,this.argumentsLength);break}default:throw new Error("Input type not supported (WebGL): "+R)}this.argumentsLength++}},{key:"_addConstant",value:function(R,_,b){var h=this._webGl,k=this.getArgumentTexture(b);switch(R instanceof f&&(_=R.type),_){case"Array":{var M=c.getDimensions(R,!0),z=c.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},M);h.activeTexture(h.TEXTURE0+this.constantsLength),h.bindTexture(h.TEXTURE_2D,k),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);var Z=z[0]*z[1],W=this._formatArrayTransfer(R,Z),H=W.valuesFlat,L=W.bitRatio,A=void 0;this.floatTextures?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,z[0],z[1],0,h.RGBA,h.FLOAT,H):(A=new Uint8Array(H.buffer),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,z[0]/L,z[1],0,h.RGBA,h.UNSIGNED_BYTE,A)),this.hardcodeConstants||(this.setUniform3iv("constants_"+b+"Dim",M),this.setUniform2iv("constants_"+b+"Size",z)),this.setUniform1i("constants_"+b+"BitRatio",L),this.setUniform1i("constants_"+b,this.constantsLength);break}case"Input":{var N=R,j=N.size,q=c.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},j);h.activeTexture(h.TEXTURE0+this.constantsLength),h.bindTexture(h.TEXTURE_2D,k),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);var K=q[0]*q[1],V=this._formatArrayTransfer(R.value,K),G=V.valuesFlat,te=V.bitRatio;if(this.floatTextures)h.texImage2D(h.TEXTURE_2D,0,h.RGBA,q[0],q[1],0,h.RGBA,h.FLOAT,inputArray);else{var ue=new Uint8Array(G.buffer);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,q[0]/te,q[1],0,h.RGBA,h.UNSIGNED_BYTE,ue)}this.hardcodeConstants||(this.setUniform3iv("constants_"+b+"Dim",j),this.setUniform2iv("constants_"+b+"Size",q)),this.setUniform1i("constants_"+b+"BitRatio",te),this.setUniform1i("constants_"+b,this.constantsLength);break}case"HTMLImage":{var B=R,ee=[B.width,B.height,1],oe=[B.width,B.height];h.activeTexture(h.TEXTURE0+this.constantsLength),h.bindTexture(h.TEXTURE_2D,k),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!0);var ae=0,ce=h.RGBA,xe=h.RGBA,X=h.UNSIGNED_BYTE;h.texImage2D(h.TEXTURE_2D,ae,ce,xe,X,B),this.setUniform3iv("constants_"+b+"Dim",ee),this.setUniform2iv("constants_"+b+"Size",oe),this.setUniform1i("constants_"+b,this.constantsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var Y=R,Q=Y.dimensions,J=Y.size;h.activeTexture(h.TEXTURE0+this.constantsLength),h.bindTexture(h.TEXTURE_2D,Y.texture),this.setUniform3iv("constants_"+b+"Dim",Q),this.setUniform2iv("constants_"+b+"Size",J),this.setUniform1i("constants_"+b+"BitRatio",1),this.setUniform1i("constants_"+b,this.constantsLength);break}case"Integer":case"Float":default:throw new Error("Input type not supported (WebGL): "+R)}}},{key:"_formatArrayTransfer",value:function(R,_){var b=1,h=R;if(c.isArray(R[0])||this.floatTextures)h=new Float32Array(_),c.flattenTo(R,h);else switch(R.constructor){case Uint8Array:case Int8Array:b=4;break;case Uint16Array:case Int16Array:b=2;case Float32Array:case Int32Array:break;default:h=new Float32Array(_),c.flattenTo(R,h)}return{bitRatio:b,valuesFlat:h}}},{key:"_getHeaderString",value:function(){return this.subKernels!==null||this.subKernelProperties!==null?`#extension GL_EXT_draw_buffers : require
`:""}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+`.0;
`:` 1000.0;
`}},{key:"_getConstantsString",value:function(){var R=[],_=this.threadDim,b=this.texSize;return this.hardcodeConstants?R.push("ivec3 uOutputDim = ivec3("+_[0]+","+_[1]+", "+_[2]+")","ivec2 uTexSize = ivec2("+b[0]+", "+b[1]+")"):R.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"),this._linesToString(R)}},{key:"_getTextureCoordinate",value:function(){var R=this.subKernelOutputVariableNames;return R===null||R.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}},{key:"_getDecode32EndiannessString",value:function(){return this.endianness==="LE"?"":`  rgba.rgba = rgba.abgr;
`}},{key:"_getEncode32EndiannessString",value:function(){return this.endianness==="LE"?"":`  rgba.rgba = rgba.abgr;
`}},{key:"_getDivideWithIntegerCheckString",value:function(){return this.fixIntegerDivisionAccuracy?`
			  float div_with_int_check(float x, float y) {
			  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
			    return float(int(x)/int(y));
			  }
			  return x / y;
			}
			`:""}},{key:"_getGetWraparoundString",value:function(){return this.wraparound?`  xyz = mod(xyz, texDim);
`:""}},{key:"_getGetTextureChannelString",value:function(){return this.floatTextures?this._linesToString(["  int channel = integerMod(index, 4)","  index = index / 4"]):""}},{key:"_getGetTextureIndexString",value:function(){return this.floatTextures?`  index = index / 4;
`:""}},{key:"_getGetResultString",value:function(){return this.floatTextures?this._linesToString(["  if (channel == 0) return texel.r","  if (channel == 1) return texel.g","  if (channel == 2) return texel.b","  if (channel == 3) return texel.a"]):"  return decode(texel, x, bitRatio);"}},{key:"_getMainParamsString",value:function(R){for(var _=[],b=this.paramTypes,h=this.paramNames,k=0;k<h.length;k++){var M=R[k],z=h[k],Z=b[k];if(this.hardcodeConstants)if(Z==="Array"||Z==="NumberTexture"||Z==="ArrayTexture(4)"){var W=c.getDimensions(M,!0),H=c.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},W);_.push("uniform sampler2D user_"+z,"ivec2 user_"+z+"Size = ivec2("+H[0]+", "+H[1]+")","ivec3 user_"+z+"Dim = ivec3("+W[0]+", "+W[1]+", "+W[2]+")","uniform int user_"+z+"BitRatio")}else Z==="Integer"?_.push("float user_"+z+" = "+M+".0"):Z==="Float"&&_.push("float user_"+z+" = "+M);else if(Z==="Array"||Z==="NumberTexture"||Z==="ArrayTexture(4)"||Z==="Input"||Z==="HTMLImage")_.push("uniform sampler2D user_"+z,"uniform ivec2 user_"+z+"Size","uniform ivec3 user_"+z+"Dim"),Z!=="HTMLImage"&&_.push("uniform int user_"+z+"BitRatio");else if(Z==="Integer"||Z==="Float")_.push("uniform float user_"+z);else throw new Error("Param type "+Z+" not supported in WebGL, only WebGL2")}return this._linesToString(_)}},{key:"_getMainConstantsString",value:function(){var R=[];if(this.constants){for(var _ in this.constants)if(this.constants.hasOwnProperty(_)){var b=this.constants[_],h=c.getArgumentType(b);switch(h){case"Integer":R.push("const float constants_"+_+" = "+parseInt(b)+".0");break;case"Float":R.push("const float constants_"+_+" = "+parseFloat(b));break;case"Array":case"Input":case"HTMLImage":case"NumberTexture":case"ArrayTexture(4)":R.push("uniform sampler2D constants_"+_,"uniform ivec2 constants_"+_+"Size","uniform ivec3 constants_"+_+"Dim","uniform int constants_"+_+"BitRatio");break;default:throw new Error("Unsupported constant "+_+" type "+h)}}}return this._linesToString(R)}},{key:"_getKernelString",value:function(){var R=[],_=this.subKernelOutputVariableNames;if(_!==null){R.push("float kernelResult = 0.0");for(var b=0;b<_.length;b++)R.push("float "+_[b]+" = 0.0")}else R.push("float kernelResult = 0.0");return this._linesToString(R)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var R=this.subKernelOutputVariableNames,_=[];if(this.floatOutput&&_.push("  index *= 4"),this.graphical)_.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor");else if(this.floatOutput)for(var b=["r","g","b","a"],h=0;h<b.length;++h){if(_.push("  threadId = indexTo3D(index, uOutputDim)"),_.push("  kernel()"),R){_.push("  gl_FragData[0]."+b[h]+" = kernelResult");for(var k=0;k<R.length;++k)_.push("  gl_FragData["+(k+1)+"]."+b[h]+" = "+R[k])}else _.push("  gl_FragColor."+b[h]+" = kernelResult");h<b.length-1&&_.push("  index += 1")}else if(R!==null){_.push("  threadId = indexTo3D(index, uOutputDim)"),_.push("  kernel()"),_.push("  gl_FragData[0] = encode32(kernelResult)");for(var M=0;M<R.length;M++)_.push("  gl_FragData["+(M+1)+"] = encode32("+R[M]+")")}else _.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = encode32(kernelResult)");return this._linesToString(_)}},{key:"_linesToString",value:function(R){return R.length>0?R.join(`;
`)+`;
`:`
`}},{key:"_replaceArtifacts",value:function(R,_){return R.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z])*)__;\n/g,function(b,h){if(_.hasOwnProperty(h))return _[h];throw"unhandled artifact "+h})}},{key:"_addKernels",value:function(){var R=this,_=this.functionBuilder,b=this._webGl;if(_.addFunctions(this.functions,{constants:this.constants,output:this.output}),_.addNativeFunctions(this.nativeFunctions),_.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,constantTypes:this.constantTypes,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernels!==null){var h=this.drawBuffers=b.getExtension("WEBGL_draw_buffers");if(!h)throw new Error("could not instantiate draw buffers extension");this.subKernelOutputVariableNames=[],this.subKernels.forEach(function(M){return R._addSubKernel(M)})}else if(this.subKernelProperties!==null){var k=this.drawBuffers=b.getExtension("WEBGL_draw_buffers");if(!k)throw new Error("could not instantiate draw buffers extension");this.subKernelOutputVariableNames=[],Object.keys(this.subKernelProperties).forEach(function(M){return R._addSubKernel(R.subKernelProperties[M])})}}},{key:"_addSubKernel",value:function(R){this.functionBuilder.addSubKernel(R,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernelOutputVariableNames.push(R.name+"Result")}},{key:"_getFragShaderString",value:function(R){return this.compiledFragShaderString!==null?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(this.constructor.fragShaderString,this._getFragShaderArtifactMap(R))}},{key:"_getVertShaderString",value:function(R){return this.compiledVertShaderString!==null?this.compiledVertShaderString:this.compiledVertShaderString=this.constructor.vertShaderString}},{key:"toString",value:function(){return p(this)}},{key:"addFunction",value:function(R){this.functionBuilder.addFunction(null,R)}},{key:"destroy",value:function(R){r(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"destroy",this).call(this),this.outputTexture&&this._webGl.deleteTexture(this.outputTexture),this.buffer&&this._webGl.deleteBuffer(this.buffer),this.framebuffer&&this._webGl.deleteFramebuffer(this.framebuffer),this.vertShader&&this._webGl.deleteShader(this.vertShader),this.fragShader&&this._webGl.deleteShader(this.fragShader),this.program&&this._webGl.deleteProgram(this.program);for(var _=Object.keys(this.textureCache),b=0;b<_.length;b++){var h=_[b];this._webGl.deleteTexture(this.textureCache[h])}if(this.subKernelOutputTextures)for(var k=0;k<this.subKernelOutputTextures.length;k++)this._webGl.deleteTexture(this.subKernelOutputTextures[k]);if(R){var M=E.indexOf(this._canvas);M>=0&&(E[M]=null,S[M]=null)}delete this._webGl}}]),D}(d),kernel$2}var functionBuilderBase,hasRequiredFunctionBuilderBase;function requireFunctionBuilderBase(){if(hasRequiredFunctionBuilderBase)return functionBuilderBase;hasRequiredFunctionBuilderBase=1;var r=function(){function s(o,l){for(var d=0;d<l.length;d++){var c=l[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,d){return l&&s(o.prototype,l),d&&s(o,d),o}}();function i(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}return functionBuilderBase=function(){function s(o){i(this,s),this.nodeMap={},this.nativeFunctions={},this.gpu=o,this.rootKernel=null,this.Node=null}return r(s,[{key:"addNativeFunction",value:function(l,d){this.nativeFunctions[l]=d}},{key:"addFunction",value:function(l,d,c){this.addFunctionNode(new this.Node(l,d,c).setBuilder(this))}},{key:"addFunctions",value:function(l,d){if(l)if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFunction(null,l[c],d);else for(var f in l)this.addFunction(f,l[f],d)}},{key:"addNativeFunctions",value:function(l){for(var d in l)l.hasOwnProperty(d)&&this.addNativeFunction(d,l[d])}},{key:"addFunctionNode",value:function(l){this.nodeMap[l.functionName]=l,l.isRootKernel&&(this.rootKernel=l)}},{key:"traceFunctionCalls",value:function(l,d,c){l=l||"kernel",d=d||[];var f=this.nodeMap[l];if(f){var g=d.indexOf(l);if(g===-1){d.push(l),c&&(f.parent=c),f.getFunctionString();for(var v=0;v<f.calledFunctions.length;++v)this.traceFunctionCalls(f.calledFunctions[v],d,f)}else{var p=d.splice(g,1)[0];d.push(p)}}return this.nativeFunctions[l]&&(d.indexOf(l)>=0||d.push(l)),d}},{key:"addKernel",value:function(l,d){var c=new this.Node("kernel",l,d);return c.setBuilder(this),c.isRootKernel=!0,this.addFunctionNode(c),c}},{key:"addSubKernel",value:function(l,d){var c=new this.Node(null,l,d);return c.setBuilder(this),c.isSubKernel=!0,this.addFunctionNode(c),c}},{key:"getPrototypeString",value:function(l){return this.getPrototypes(l).join(`
`)}},{key:"getPrototypes",value:function(l){return this.rootKernel.generate(),l?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(l,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.nodeMap))}},{key:"getStringFromFunctionNames",value:function(l){for(var d=[],c=0;c<l.length;++c){var f=this.nodeMap[l[c]];f&&d.push(this.nodeMap[l[c]].getFunctionString())}return d.join(`
`)}},{key:"getPrototypesFromFunctionNames",value:function(l,d){for(var c=[],f=0;f<l.length;++f){var g=l[f],v=this.nodeMap[g];v?c.push(v.getFunctionPrototypeString(d)):this.nativeFunctions[g]&&c.push(this.nativeFunctions[g])}return c}},{key:"getPrototypeStringFromFunctionNames",value:function(l,d){return this.getPrototypesFromFunctionNames(l,d).toString()}},{key:"getString",value:function(l,d){return d===void 0&&(d={}),l?this.getStringFromFunctionNames(this.traceFunctionCalls(l,[],d).reverse(),d):this.getStringFromFunctionNames(Object.keys(this.nodeMap),d)}}]),s}(),functionBuilderBase}var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStartChars="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierChars="---------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,190,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,26,230,43,117,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,68,12,0,67,12,65,1,31,6129,15,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function isInAstralSet(r,i){for(var s=65536,o=0;o<i.length;o+=2){if(s+=i[o],s>r)return!1;if(s+=i[o+1],s>=r)return!0}}function isIdentifierStart(r,i){return r<65?r===36:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&nonASCIIidentifierStart.test(String.fromCharCode(r)):i===!1?!1:isInAstralSet(r,astralIdentifierStartCodes)}function isIdentifierChar(r,i){return r<48?r===36:r<58?!0:r<65?!1:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&nonASCIIidentifier.test(String.fromCharCode(r)):i===!1?!1:isInAstralSet(r,astralIdentifierStartCodes)||isInAstralSet(r,astralIdentifierCodes)}var TokenType=function(i,s){s===void 0&&(s={}),this.label=i,this.keyword=s.keyword,this.beforeExpr=!!s.beforeExpr,this.startsExpr=!!s.startsExpr,this.isLoop=!!s.isLoop,this.isAssign=!!s.isAssign,this.prefix=!!s.prefix,this.postfix=!!s.postfix,this.binop=s.binop||null,this.updateContext=null};function binop(r,i){return new TokenType(r,{beforeExpr:!0,binop:i})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords$1={};function kw(r,i){return i===void 0&&(i={}),i.keyword=r,keywords$1[r]=new TokenType(r,i)}var types={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import"),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(r,i){return r===10||r===13||!i&&(r===8232||r===8233)}var nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString;function has(r,i){return hasOwnProperty.call(r,i)}var isArray=Array.isArray||function(r){return toString.call(r)==="[object Array]"},Position=function(i,s){this.line=i,this.column=s};Position.prototype.offset=function(i){return new Position(this.line,this.column+i)};var SourceLocation=function(i,s,o){this.start=s,this.end=o,i.sourceFile!==null&&(this.source=i.sourceFile)};function getLineInfo(r,i){for(var s=1,o=0;;){lineBreakG.lastIndex=o;var l=lineBreakG.exec(r);if(l&&l.index<i)++s,o=l.index+l[0].length;else return new Position(s,i-o)}}var defaultOptions={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};function getOptions(r){var i={};for(var s in defaultOptions)i[s]=r&&has(r,s)?r[s]:defaultOptions[s];if(i.ecmaVersion>=2015&&(i.ecmaVersion-=2009),i.allowReserved==null&&(i.allowReserved=i.ecmaVersion<5),isArray(i.onToken)){var o=i.onToken;i.onToken=function(l){return o.push(l)}}return isArray(i.onComment)&&(i.onComment=pushComment(i,i.onComment)),i}function pushComment(r,i){return function(s,o,l,d,c,f){var g={type:s?"Block":"Line",value:o,start:l,end:d};r.locations&&(g.loc=new SourceLocation(this,c,f)),r.ranges&&(g.range=[l,d]),i.push(g)}}var plugins={};function keywordRegexp(r){return new RegExp("^(?:"+r.replace(/ /g,"|")+")$")}var Parser=function(i,s,o){this.options=i=getOptions(i),this.sourceFile=i.sourceFile,this.keywords=keywordRegexp(keywords[i.ecmaVersion>=6?6:5]);var l="";if(!i.allowReserved){for(var d=i.ecmaVersion;!(l=reservedWords[d]);d--);i.sourceType==="module"&&(l+=" await")}this.reservedWords=keywordRegexp(l);var c=(l?l+" ":"")+reservedWords.strict;this.reservedWordsStrict=keywordRegexp(c),this.reservedWordsStrictBind=keywordRegexp(c+" "+reservedWords.strictBind),this.input=String(s),this.containsEsc=!1,this.loadPlugins(i.plugins),o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=i.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],this.pos===0&&i.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};Parser.prototype.isKeyword=function(i){return this.keywords.test(i)};Parser.prototype.isReservedWord=function(i){return this.reservedWords.test(i)};Parser.prototype.extend=function(i,s){this[i]=s(this[i])};Parser.prototype.loadPlugins=function(i){var s=this;for(var o in i){var l=plugins[o];if(!l)throw new Error("Plugin '"+o+"' not found");l(s,i[o])}};Parser.prototype.parse=function(){var i=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(i)};var pp=Parser.prototype,literal=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;pp.strictDirective=function(r){for(var i=this;;){skipWhiteSpace.lastIndex=r,r+=skipWhiteSpace.exec(i.input)[0].length;var s=literal.exec(i.input.slice(r));if(!s)return!1;if((s[1]||s[2])==="use strict")return!0;r+=s[0].length}};pp.eat=function(r){return this.type===r?(this.next(),!0):!1};pp.isContextual=function(r){return this.type===types.name&&this.value===r&&!this.containsEsc};pp.eatContextual=function(r){return this.isContextual(r)?(this.next(),!0):!1};pp.expectContextual=function(r){this.eatContextual(r)||this.unexpected()};pp.canInsertSemicolon=function(){return this.type===types.eof||this.type===types.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp.semicolon=function(){!this.eat(types.semi)&&!this.insertSemicolon()&&this.unexpected()};pp.afterTrailingComma=function(r,i){if(this.type===r)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),i||this.next(),!0};pp.expect=function(r){this.eat(r)||this.unexpected()};pp.unexpected=function(r){this.raise(r??this.start,"Unexpected token")};function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}pp.checkPatternErrors=function(r,i){if(r){r.trailingComma>-1&&this.raiseRecoverable(r.trailingComma,"Comma is not permitted after the rest element");var s=i?r.parenthesizedAssign:r.parenthesizedBind;s>-1&&this.raiseRecoverable(s,"Parenthesized pattern")}};pp.checkExpressionErrors=function(r,i){if(!r)return!1;var s=r.shorthandAssign,o=r.doubleProto;if(!i)return s>=0||o>=0;s>=0&&this.raise(s,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};pp.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp.isSimpleAssignTarget=function(r){return r.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(r.expression):r.type==="Identifier"||r.type==="MemberExpression"};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(r){var i=this,s={};for(r.body||(r.body=[]);this.type!==types.eof;){var o=i.parseStatement(!0,!0,s);r.body.push(o)}return this.adaptDirectivePrologue(r.body),this.next(),this.options.ecmaVersion>=6&&(r.sourceType=this.options.sourceType),this.finishNode(r,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var r=skipWhiteSpace.exec(this.input),i=this.pos+r[0].length,s=this.input.charCodeAt(i);if(s===91||s===123)return!0;if(isIdentifierStart(s,!0)){for(var o=i+1;isIdentifierChar(this.input.charCodeAt(o),!0);)++o;var l=this.input.slice(i,o);if(!keywordRelationalOperator.test(l))return!0}return!1};pp$1.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var r=skipWhiteSpace.exec(this.input),i=this.pos+r[0].length;return!lineBreak.test(this.input.slice(this.pos,i))&&this.input.slice(i,i+8)==="function"&&(i+8===this.input.length||!isIdentifierChar(this.input.charAt(i+8)))};pp$1.parseStatement=function(r,i,s){var o=this.type,l=this.startNode(),d;switch(this.isLet()&&(o=types._var,d="let"),o){case types._break:case types._continue:return this.parseBreakContinueStatement(l,o.keyword);case types._debugger:return this.parseDebuggerStatement(l);case types._do:return this.parseDoStatement(l);case types._for:return this.parseForStatement(l);case types._function:return!r&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(l,!1);case types._class:return r||this.unexpected(),this.parseClass(l,!0);case types._if:return this.parseIfStatement(l);case types._return:return this.parseReturnStatement(l);case types._switch:return this.parseSwitchStatement(l);case types._throw:return this.parseThrowStatement(l);case types._try:return this.parseTryStatement(l);case types._const:case types._var:return d=d||this.value,!r&&d!=="var"&&this.unexpected(),this.parseVarStatement(l,d);case types._while:return this.parseWhileStatement(l);case types._with:return this.parseWithStatement(l);case types.braceL:return this.parseBlock();case types.semi:return this.parseEmptyStatement(l);case types._export:case types._import:return this.options.allowImportExportEverywhere||(i||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===types._import?this.parseImport(l):this.parseExport(l,s);default:if(this.isAsyncFunction())return r||this.unexpected(),this.next(),this.parseFunctionStatement(l,!0);var c=this.value,f=this.parseExpression();return o===types.name&&f.type==="Identifier"&&this.eat(types.colon)?this.parseLabeledStatement(l,c,f):this.parseExpressionStatement(l,f)}};pp$1.parseBreakContinueStatement=function(r,i){var s=this,o=i==="break";this.next(),this.eat(types.semi)||this.insertSemicolon()?r.label=null:this.type!==types.name?this.unexpected():(r.label=this.parseIdent(),this.semicolon());for(var l=0;l<this.labels.length;++l){var d=s.labels[l];if((r.label==null||d.name===r.label.name)&&(d.kind!=null&&(o||d.kind==="loop")||r.label&&o))break}return l===this.labels.length&&this.raise(r.start,"Unsyntactic "+i),this.finishNode(r,o?"BreakStatement":"ContinueStatement")};pp$1.parseDebuggerStatement=function(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")};pp$1.parseDoStatement=function(r){return this.next(),this.labels.push(loopLabel),r.body=this.parseStatement(!1),this.labels.pop(),this.expect(types._while),r.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types.semi):this.semicolon(),this.finishNode(r,"DoWhileStatement")};pp$1.parseForStatement=function(r){this.next();var i=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterLexicalScope(),this.expect(types.parenL),this.type===types.semi)return i>-1&&this.unexpected(i),this.parseFor(r,null);var s=this.isLet();if(this.type===types._var||this.type===types._const||s){var o=this.startNode(),l=s?"let":this.value;return this.next(),this.parseVar(o,!0,l),this.finishNode(o,"VariableDeclaration"),(this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1&&!(l!=="var"&&o.declarations[0].init)?(this.options.ecmaVersion>=9&&(this.type===types._in?i>-1&&this.unexpected(i):r.await=i>-1),this.parseForIn(r,o)):(i>-1&&this.unexpected(i),this.parseFor(r,o))}var d=new DestructuringErrors,c=this.parseExpression(!0,d);return this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===types._in?i>-1&&this.unexpected(i):r.await=i>-1),this.toAssignable(c,!1,d),this.checkLVal(c),this.parseForIn(r,c)):(this.checkExpressionErrors(d,!0),i>-1&&this.unexpected(i),this.parseFor(r,c))};pp$1.parseFunctionStatement=function(r,i){return this.next(),this.parseFunction(r,!0,!1,i)};pp$1.parseIfStatement=function(r){return this.next(),r.test=this.parseParenExpression(),r.consequent=this.parseStatement(!this.strict&&this.type===types._function),r.alternate=this.eat(types._else)?this.parseStatement(!this.strict&&this.type===types._function):null,this.finishNode(r,"IfStatement")};pp$1.parseReturnStatement=function(r){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types.semi)||this.insertSemicolon()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")};pp$1.parseSwitchStatement=function(r){var i=this;this.next(),r.discriminant=this.parseParenExpression(),r.cases=[],this.expect(types.braceL),this.labels.push(switchLabel),this.enterLexicalScope();for(var s,o=!1;this.type!==types.braceR;)if(i.type===types._case||i.type===types._default){var l=i.type===types._case;s&&i.finishNode(s,"SwitchCase"),r.cases.push(s=i.startNode()),s.consequent=[],i.next(),l?s.test=i.parseExpression():(o&&i.raiseRecoverable(i.lastTokStart,"Multiple default clauses"),o=!0,s.test=null),i.expect(types.colon)}else s||i.unexpected(),s.consequent.push(i.parseStatement(!0));return this.exitLexicalScope(),s&&this.finishNode(s,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(r,"SwitchStatement")};pp$1.parseThrowStatement=function(r){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.type===types._catch){var i=this.startNode();this.next(),this.eat(types.parenL)?(i.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(i.param,"let"),this.expect(types.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),i.param=null,this.enterLexicalScope()),i.body=this.parseBlock(!1),this.exitLexicalScope(),r.handler=this.finishNode(i,"CatchClause")}return r.finalizer=this.eat(types._finally)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(r.start,"Missing catch or finally clause"),this.finishNode(r,"TryStatement")};pp$1.parseVarStatement=function(r,i){return this.next(),this.parseVar(r,!1,i),this.semicolon(),this.finishNode(r,"VariableDeclaration")};pp$1.parseWhileStatement=function(r){return this.next(),r.test=this.parseParenExpression(),this.labels.push(loopLabel),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,"WhileStatement")};pp$1.parseWithStatement=function(r){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),r.object=this.parseParenExpression(),r.body=this.parseStatement(!1),this.finishNode(r,"WithStatement")};pp$1.parseEmptyStatement=function(r){return this.next(),this.finishNode(r,"EmptyStatement")};pp$1.parseLabeledStatement=function(r,i,s){for(var o=this,l=0,d=o.labels;l<d.length;l+=1){var c=d[l];c.name===i&&o.raise(s.start,"Label '"+i+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===types._switch?"switch":null,g=this.labels.length-1;g>=0;g--){var v=o.labels[g];if(v.statementStart===r.start)v.statementStart=o.start,v.kind=f;else break}return this.labels.push({name:i,kind:f,statementStart:this.start}),r.body=this.parseStatement(!0),(r.body.type==="ClassDeclaration"||r.body.type==="VariableDeclaration"&&r.body.kind!=="var"||r.body.type==="FunctionDeclaration"&&(this.strict||r.body.generator||r.body.async))&&this.raiseRecoverable(r.body.start,"Invalid labeled declaration"),this.labels.pop(),r.label=s,this.finishNode(r,"LabeledStatement")};pp$1.parseExpressionStatement=function(r,i){return r.expression=i,this.semicolon(),this.finishNode(r,"ExpressionStatement")};pp$1.parseBlock=function(r){var i=this;r===void 0&&(r=!0);var s=this.startNode();for(s.body=[],this.expect(types.braceL),r&&this.enterLexicalScope();!this.eat(types.braceR);){var o=i.parseStatement(!0);s.body.push(o)}return r&&this.exitLexicalScope(),this.finishNode(s,"BlockStatement")};pp$1.parseFor=function(r,i){return r.init=i,this.expect(types.semi),r.test=this.type===types.semi?null:this.parseExpression(),this.expect(types.semi),r.update=this.type===types.parenR?null:this.parseExpression(),this.expect(types.parenR),this.exitLexicalScope(),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,"ForStatement")};pp$1.parseForIn=function(r,i){var s=this.type===types._in?"ForInStatement":"ForOfStatement";return this.next(),s==="ForInStatement"&&(i.type==="AssignmentPattern"||i.type==="VariableDeclaration"&&i.declarations[0].init!=null&&(this.strict||i.declarations[0].id.type!=="Identifier"))&&this.raise(i.start,"Invalid assignment in for-in loop head"),r.left=i,r.right=s==="ForInStatement"?this.parseExpression():this.parseMaybeAssign(),this.expect(types.parenR),this.exitLexicalScope(),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,s)};pp$1.parseVar=function(r,i,s){var o=this;for(r.declarations=[],r.kind=s;;){var l=o.startNode();if(o.parseVarId(l,s),o.eat(types.eq)?l.init=o.parseMaybeAssign(i):s==="const"&&!(o.type===types._in||o.options.ecmaVersion>=6&&o.isContextual("of"))?o.unexpected():l.id.type!=="Identifier"&&!(i&&(o.type===types._in||o.isContextual("of")))?o.raise(o.lastTokEnd,"Complex binding patterns require an initialization value"):l.init=null,r.declarations.push(o.finishNode(l,"VariableDeclarator")),!o.eat(types.comma))break}return r};pp$1.parseVarId=function(r,i){r.id=this.parseBindingAtom(i),this.checkLVal(r.id,i,!1)};pp$1.parseFunction=function(r,i,s,o){this.initFunction(r),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(r.generator=this.eat(types.star)),this.options.ecmaVersion>=8&&(r.async=!!o),i&&(r.id=i==="nullableID"&&this.type!==types.name?null:this.parseIdent(),r.id&&this.checkLVal(r.id,this.inModule&&!this.inFunction?"let":"var"));var l=this.inGenerator,d=this.inAsync,c=this.yieldPos,f=this.awaitPos,g=this.inFunction;return this.inGenerator=r.generator,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),i||(r.id=this.type===types.name?this.parseIdent():null),this.parseFunctionParams(r),this.parseFunctionBody(r,s),this.inGenerator=l,this.inAsync=d,this.yieldPos=c,this.awaitPos=f,this.inFunction=g,this.finishNode(r,i?"FunctionDeclaration":"FunctionExpression")};pp$1.parseFunctionParams=function(r){this.expect(types.parenL),r.params=this.parseBindingList(types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$1.parseClass=function(r,i){var s=this;this.next(),this.parseClassId(r,i),this.parseClassSuper(r);var o=this.startNode(),l=!1;for(o.body=[],this.expect(types.braceL);!this.eat(types.braceR);){var d=s.parseClassMember(o);d&&d.type==="MethodDefinition"&&d.kind==="constructor"&&(l&&s.raise(d.start,"Duplicate constructor in the same class"),l=!0)}return r.body=this.finishNode(o,"ClassBody"),this.finishNode(r,i?"ClassDeclaration":"ClassExpression")};pp$1.parseClassMember=function(r){var i=this;if(this.eat(types.semi))return null;var s=this.startNode(),o=function(f,g){g===void 0&&(g=!1);var v=i.start,p=i.startLoc;return i.eatContextual(f)?i.type!==types.parenL&&(!g||!i.canInsertSemicolon())?!0:(s.key&&i.unexpected(),s.computed=!1,s.key=i.startNodeAt(v,p),s.key.name=f,i.finishNode(s.key,"Identifier"),!1):!1};s.kind="method",s.static=o("static");var l=this.eat(types.star),d=!1;l||(this.options.ecmaVersion>=8&&o("async",!0)?(d=!0,l=this.options.ecmaVersion>=9&&this.eat(types.star)):o("get")?s.kind="get":o("set")&&(s.kind="set")),s.key||this.parsePropertyName(s);var c=s.key;return!s.computed&&!s.static&&(c.type==="Identifier"&&c.name==="constructor"||c.type==="Literal"&&c.value==="constructor")?(s.kind!=="method"&&this.raise(c.start,"Constructor can't have get/set modifier"),l&&this.raise(c.start,"Constructor can't be a generator"),d&&this.raise(c.start,"Constructor can't be an async method"),s.kind="constructor"):s.static&&c.type==="Identifier"&&c.name==="prototype"&&this.raise(c.start,"Classes may not have a static property named prototype"),this.parseClassMethod(r,s,l,d),s.kind==="get"&&s.value.params.length!==0&&this.raiseRecoverable(s.value.start,"getter should have no params"),s.kind==="set"&&s.value.params.length!==1&&this.raiseRecoverable(s.value.start,"setter should have exactly one param"),s.kind==="set"&&s.value.params[0].type==="RestElement"&&this.raiseRecoverable(s.value.params[0].start,"Setter cannot use rest params"),s};pp$1.parseClassMethod=function(r,i,s,o){i.value=this.parseMethod(s,o),r.body.push(this.finishNode(i,"MethodDefinition"))};pp$1.parseClassId=function(r,i){r.id=this.type===types.name?this.parseIdent():i===!0?this.unexpected():null};pp$1.parseClassSuper=function(r){r.superClass=this.eat(types._extends)?this.parseExprSubscripts():null};pp$1.parseExport=function(r,i){var s=this;if(this.next(),this.eat(types.star))return this.expectContextual("from"),this.type!==types.string&&this.unexpected(),r.source=this.parseExprAtom(),this.semicolon(),this.finishNode(r,"ExportAllDeclaration");if(this.eat(types._default)){this.checkExport(i,"default",this.lastTokStart);var o;if(this.type===types._function||(o=this.isAsyncFunction())){var l=this.startNode();this.next(),o&&this.next(),r.declaration=this.parseFunction(l,"nullableID",!1,o)}else if(this.type===types._class){var d=this.startNode();r.declaration=this.parseClass(d,"nullableID")}else r.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(r,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())r.declaration=this.parseStatement(!0),r.declaration.type==="VariableDeclaration"?this.checkVariableExport(i,r.declaration.declarations):this.checkExport(i,r.declaration.id.name,r.declaration.id.start),r.specifiers=[],r.source=null;else{if(r.declaration=null,r.specifiers=this.parseExportSpecifiers(i),this.eatContextual("from"))this.type!==types.string&&this.unexpected(),r.source=this.parseExprAtom();else{for(var c=0,f=r.specifiers;c<f.length;c+=1){var g=f[c];s.checkUnreserved(g.local)}r.source=null}this.semicolon()}return this.finishNode(r,"ExportNamedDeclaration")};pp$1.checkExport=function(r,i,s){r&&(has(r,i)&&this.raiseRecoverable(s,"Duplicate export '"+i+"'"),r[i]=!0)};pp$1.checkPatternExport=function(r,i){var s=this,o=i.type;if(o==="Identifier")this.checkExport(r,i.name,i.start);else if(o==="ObjectPattern")for(var l=0,d=i.properties;l<d.length;l+=1){var c=d[l];s.checkPatternExport(r,c)}else if(o==="ArrayPattern")for(var f=0,g=i.elements;f<g.length;f+=1){var v=g[f];v&&s.checkPatternExport(r,v)}else o==="Property"?this.checkPatternExport(r,i.value):o==="AssignmentPattern"?this.checkPatternExport(r,i.left):o==="RestElement"?this.checkPatternExport(r,i.argument):o==="ParenthesizedExpression"&&this.checkPatternExport(r,i.expression)};pp$1.checkVariableExport=function(r,i){var s=this;if(r)for(var o=0,l=i;o<l.length;o+=1){var d=l[o];s.checkPatternExport(r,d.id)}};pp$1.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$1.parseExportSpecifiers=function(r){var i=this,s=[],o=!0;for(this.expect(types.braceL);!this.eat(types.braceR);){if(o)o=!1;else if(i.expect(types.comma),i.afterTrailingComma(types.braceR))break;var l=i.startNode();l.local=i.parseIdent(!0),l.exported=i.eatContextual("as")?i.parseIdent(!0):l.local,i.checkExport(r,l.exported.name,l.exported.start),s.push(i.finishNode(l,"ExportSpecifier"))}return s};pp$1.parseImport=function(r){return this.next(),this.type===types.string?(r.specifiers=empty,r.source=this.parseExprAtom()):(r.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),r.source=this.type===types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(r,"ImportDeclaration")};pp$1.parseImportSpecifiers=function(){var r=this,i=[],s=!0;if(this.type===types.name){var o=this.startNode();if(o.local=this.parseIdent(),this.checkLVal(o.local,"let"),i.push(this.finishNode(o,"ImportDefaultSpecifier")),!this.eat(types.comma))return i}if(this.type===types.star){var l=this.startNode();return this.next(),this.expectContextual("as"),l.local=this.parseIdent(),this.checkLVal(l.local,"let"),i.push(this.finishNode(l,"ImportNamespaceSpecifier")),i}for(this.expect(types.braceL);!this.eat(types.braceR);){if(s)s=!1;else if(r.expect(types.comma),r.afterTrailingComma(types.braceR))break;var d=r.startNode();d.imported=r.parseIdent(!0),r.eatContextual("as")?d.local=r.parseIdent():(r.checkUnreserved(d.imported),d.local=d.imported),r.checkLVal(d.local,"let"),i.push(r.finishNode(d,"ImportSpecifier"))}return i};pp$1.adaptDirectivePrologue=function(r){for(var i=0;i<r.length&&this.isDirectiveCandidate(r[i]);++i)r[i].directive=r[i].expression.raw.slice(1,-1)};pp$1.isDirectiveCandidate=function(r){return r.type==="ExpressionStatement"&&r.expression.type==="Literal"&&typeof r.expression.value=="string"&&(this.input[r.start]==='"'||this.input[r.start]==="'")};var pp$2=Parser.prototype;pp$2.toAssignable=function(r,i,s){var o=this;if(this.options.ecmaVersion>=6&&r)switch(r.type){case"Identifier":this.inAsync&&r.name==="await"&&this.raise(r.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern",s&&this.checkPatternErrors(s,!0);for(var l=0,d=r.properties;l<d.length;l+=1){var c=d[l];o.toAssignable(c,i),c.type==="RestElement"&&(c.argument.type==="ArrayPattern"||c.argument.type==="ObjectPattern")&&o.raise(c.argument.start,"Unexpected token")}break;case"Property":r.kind!=="init"&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,i);break;case"ArrayExpression":r.type="ArrayPattern",s&&this.checkPatternErrors(s,!0),this.toAssignableList(r.elements,i);break;case"SpreadElement":r.type="RestElement",this.toAssignable(r.argument,i),r.argument.type==="AssignmentPattern"&&this.raise(r.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":r.operator!=="="&&this.raise(r.left.end,"Only '=' operator can be used for specifying default value."),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,i);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(r.expression,i);break;case"MemberExpression":if(!i)break;default:this.raise(r.start,"Assigning to rvalue")}else s&&this.checkPatternErrors(s,!0);return r};pp$2.toAssignableList=function(r,i){for(var s=this,o=r.length,l=0;l<o;l++){var d=r[l];d&&s.toAssignable(d,i)}if(o){var c=r[o-1];this.options.ecmaVersion===6&&i&&c&&c.type==="RestElement"&&c.argument.type!=="Identifier"&&this.unexpected(c.argument.start)}return r};pp$2.parseSpread=function(r){var i=this.startNode();return this.next(),i.argument=this.parseMaybeAssign(!1,r),this.finishNode(i,"SpreadElement")};pp$2.parseRestBinding=function(){var r=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types.name&&this.unexpected(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")};pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types.bracketL:var r=this.startNode();return this.next(),r.elements=this.parseBindingList(types.bracketR,!0,!0),this.finishNode(r,"ArrayPattern");case types.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$2.parseBindingList=function(r,i,s){for(var o=this,l=[],d=!0;!this.eat(r);)if(d?d=!1:o.expect(types.comma),i&&o.type===types.comma)l.push(null);else{if(s&&o.afterTrailingComma(r))break;if(o.type===types.ellipsis){var c=o.parseRestBinding();o.parseBindingListItem(c),l.push(c),o.type===types.comma&&o.raise(o.start,"Comma is not permitted after the rest element"),o.expect(r);break}else{var f=o.parseMaybeDefault(o.start,o.startLoc);o.parseBindingListItem(f),l.push(f)}}return l};pp$2.parseBindingListItem=function(r){return r};pp$2.parseMaybeDefault=function(r,i,s){if(s=s||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types.eq))return s;var o=this.startNodeAt(r,i);return o.left=s,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};pp$2.checkLVal=function(r,i,s){var o=this;switch(r.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(r.name)&&this.raiseRecoverable(r.start,(i?"Binding ":"Assigning to ")+r.name+" in strict mode"),s&&(has(s,r.name)&&this.raiseRecoverable(r.start,"Argument name clash"),s[r.name]=!0),i&&i!=="none"&&((i==="var"&&!this.canDeclareVarName(r.name)||i!=="var"&&!this.canDeclareLexicalName(r.name))&&this.raiseRecoverable(r.start,"Identifier '"+r.name+"' has already been declared"),i==="var"?this.declareVarName(r.name):this.declareLexicalName(r.name));break;case"MemberExpression":i&&this.raiseRecoverable(r.start,"Binding member expression");break;case"ObjectPattern":for(var l=0,d=r.properties;l<d.length;l+=1){var c=d[l];o.checkLVal(c,i,s)}break;case"Property":this.checkLVal(r.value,i,s);break;case"ArrayPattern":for(var f=0,g=r.elements;f<g.length;f+=1){var v=g[f];v&&o.checkLVal(v,i,s)}break;case"AssignmentPattern":this.checkLVal(r.left,i,s);break;case"RestElement":this.checkLVal(r.argument,i,s);break;case"ParenthesizedExpression":this.checkLVal(r.expression,i,s);break;default:this.raise(r.start,(i?"Binding":"Assigning to")+" rvalue")}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(r,i,s){if(!(this.options.ecmaVersion>=9&&r.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(r.computed||r.method||r.shorthand))){var o=r.key,l;switch(o.type){case"Identifier":l=o.name;break;case"Literal":l=String(o.value);break;default:return}var d=r.kind;if(this.options.ecmaVersion>=6){l==="__proto__"&&d==="init"&&(i.proto&&(s&&s.doubleProto<0?s.doubleProto=o.start:this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),i.proto=!0);return}l="$"+l;var c=i[l];if(c){var f;d==="init"?f=this.strict&&c.init||c.get||c.set:f=c.init||c[d],f&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=i[l]={init:!1,get:!1,set:!1};c[d]=!0}};pp$3.parseExpression=function(r,i){var s=this,o=this.start,l=this.startLoc,d=this.parseMaybeAssign(r,i);if(this.type===types.comma){var c=this.startNodeAt(o,l);for(c.expressions=[d];this.eat(types.comma);)c.expressions.push(s.parseMaybeAssign(r,i));return this.finishNode(c,"SequenceExpression")}return d};pp$3.parseMaybeAssign=function(r,i,s){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var o=!1,l=-1,d=-1;i?(l=i.parenthesizedAssign,d=i.trailingComma,i.parenthesizedAssign=i.trailingComma=-1):(i=new DestructuringErrors,o=!0);var c=this.start,f=this.startLoc;(this.type===types.parenL||this.type===types.name)&&(this.potentialArrowAt=this.start);var g=this.parseMaybeConditional(r,i);if(s&&(g=s.call(this,g,c,f)),this.type.isAssign){var v=this.startNodeAt(c,f);return v.operator=this.value,v.left=this.type===types.eq?this.toAssignable(g,!1,i):g,o||DestructuringErrors.call(i),i.shorthandAssign=-1,this.checkLVal(g),this.next(),v.right=this.parseMaybeAssign(r),this.finishNode(v,"AssignmentExpression")}else o&&this.checkExpressionErrors(i,!0);return l>-1&&(i.parenthesizedAssign=l),d>-1&&(i.trailingComma=d),g};pp$3.parseMaybeConditional=function(r,i){var s=this.start,o=this.startLoc,l=this.parseExprOps(r,i);if(this.checkExpressionErrors(i))return l;if(this.eat(types.question)){var d=this.startNodeAt(s,o);return d.test=l,d.consequent=this.parseMaybeAssign(),this.expect(types.colon),d.alternate=this.parseMaybeAssign(r),this.finishNode(d,"ConditionalExpression")}return l};pp$3.parseExprOps=function(r,i){var s=this.start,o=this.startLoc,l=this.parseMaybeUnary(i,!1);return this.checkExpressionErrors(i)||l.start===s&&l.type==="ArrowFunctionExpression"?l:this.parseExprOp(l,s,o,-1,r)};pp$3.parseExprOp=function(r,i,s,o,l){var d=this.type.binop;if(d!=null&&(!l||this.type!==types._in)&&d>o){var c=this.type===types.logicalOR||this.type===types.logicalAND,f=this.value;this.next();var g=this.start,v=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1),g,v,d,l),E=this.buildBinary(i,s,r,p,f,c);return this.parseExprOp(E,i,s,o,l)}return r};pp$3.buildBinary=function(r,i,s,o,l,d){var c=this.startNodeAt(r,i);return c.left=s,c.operator=l,c.right=o,this.finishNode(c,d?"LogicalExpression":"BinaryExpression")};pp$3.parseMaybeUnary=function(r,i){var s=this,o=this.start,l=this.startLoc,d;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))d=this.parseAwait(),i=!0;else if(this.type.prefix){var c=this.startNode(),f=this.type===types.incDec;c.operator=this.value,c.prefix=!0,this.next(),c.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(r,!0),f?this.checkLVal(c.argument):this.strict&&c.operator==="delete"&&c.argument.type==="Identifier"?this.raiseRecoverable(c.start,"Deleting local variable in strict mode"):i=!0,d=this.finishNode(c,f?"UpdateExpression":"UnaryExpression")}else{if(d=this.parseExprSubscripts(r),this.checkExpressionErrors(r))return d;for(;this.type.postfix&&!this.canInsertSemicolon();){var g=s.startNodeAt(o,l);g.operator=s.value,g.prefix=!1,g.argument=d,s.checkLVal(d),s.next(),d=s.finishNode(g,"UpdateExpression")}}return!i&&this.eat(types.starstar)?this.buildBinary(o,l,d,this.parseMaybeUnary(null,!1),"**",!1):d};pp$3.parseExprSubscripts=function(r){var i=this.start,s=this.startLoc,o=this.parseExprAtom(r),l=o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")";if(this.checkExpressionErrors(r)||l)return o;var d=this.parseSubscripts(o,i,s);return r&&d.type==="MemberExpression"&&(r.parenthesizedAssign>=d.start&&(r.parenthesizedAssign=-1),r.parenthesizedBind>=d.start&&(r.parenthesizedBind=-1)),d};pp$3.parseSubscripts=function(r,i,s,o){for(var l=this,d=this.options.ecmaVersion>=8&&r.type==="Identifier"&&r.name==="async"&&this.lastTokEnd===r.end&&!this.canInsertSemicolon()&&this.input.slice(r.start,r.end)==="async",c=void 0;;)if((c=l.eat(types.bracketL))||l.eat(types.dot)){var f=l.startNodeAt(i,s);f.object=r,f.property=c?l.parseExpression():l.parseIdent(!0),f.computed=!!c,c&&l.expect(types.bracketR),r=l.finishNode(f,"MemberExpression")}else if(!o&&l.eat(types.parenL)){var g=new DestructuringErrors,v=l.yieldPos,p=l.awaitPos;l.yieldPos=0,l.awaitPos=0;var E=l.parseExprList(types.parenR,l.options.ecmaVersion>=8,!1,g);if(d&&!l.canInsertSemicolon()&&l.eat(types.arrow))return l.checkPatternErrors(g,!1),l.checkYieldAwaitInDefaultParams(),l.yieldPos=v,l.awaitPos=p,l.parseArrowExpression(l.startNodeAt(i,s),E,!0);l.checkExpressionErrors(g,!0),l.yieldPos=v||l.yieldPos,l.awaitPos=p||l.awaitPos;var S=l.startNodeAt(i,s);S.callee=r,S.arguments=E,r=l.finishNode(S,"CallExpression")}else if(l.type===types.backQuote){var w=l.startNodeAt(i,s);w.tag=r,w.quasi=l.parseTemplate({isTagged:!0}),r=l.finishNode(w,"TaggedTemplateExpression")}else return r};pp$3.parseExprAtom=function(r){var i,s=this.potentialArrowAt===this.start;switch(this.type){case types._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),i=this.startNode(),this.next(),this.type!==types.dot&&this.type!==types.bracketL&&this.type!==types.parenL&&this.unexpected(),this.finishNode(i,"Super");case types._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case types.name:var o=this.start,l=this.startLoc,d=this.containsEsc,c=this.parseIdent(this.type!==types.name);if(this.options.ecmaVersion>=8&&!d&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(types._function))return this.parseFunction(this.startNodeAt(o,l),!1,!1,!0);if(s&&!this.canInsertSemicolon()){if(this.eat(types.arrow))return this.parseArrowExpression(this.startNodeAt(o,l),[c],!1);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===types.name&&!d)return c=this.parseIdent(),(this.canInsertSemicolon()||!this.eat(types.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,l),[c],!0)}return c;case types.regexp:var f=this.value;return i=this.parseLiteral(f.value),i.regex={pattern:f.pattern,flags:f.flags},i;case types.num:case types.string:return this.parseLiteral(this.value);case types._null:case types._true:case types._false:return i=this.startNode(),i.value=this.type===types._null?null:this.type===types._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case types.parenL:var g=this.start,v=this.parseParenAndDistinguishExpression(s);return r&&(r.parenthesizedAssign<0&&!this.isSimpleAssignTarget(v)&&(r.parenthesizedAssign=g),r.parenthesizedBind<0&&(r.parenthesizedBind=g)),v;case types.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(types.bracketR,!0,!0,r),this.finishNode(i,"ArrayExpression");case types.braceL:return this.parseObj(!1,r);case types._function:return i=this.startNode(),this.next(),this.parseFunction(i,!1);case types._class:return this.parseClass(this.startNode(),!1);case types._new:return this.parseNew();case types.backQuote:return this.parseTemplate();default:this.unexpected()}};pp$3.parseLiteral=function(r){var i=this.startNode();return i.value=r,i.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(i,"Literal")};pp$3.parseParenExpression=function(){this.expect(types.parenL);var r=this.parseExpression();return this.expect(types.parenR),r};pp$3.parseParenAndDistinguishExpression=function(r){var i=this,s=this.start,o=this.startLoc,l,d=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,f=this.startLoc,g=[],v=!0,p=!1,E=new DestructuringErrors,S=this.yieldPos,w=this.awaitPos,D;for(this.yieldPos=0,this.awaitPos=0;this.type!==types.parenR;)if(v?v=!1:i.expect(types.comma),d&&i.afterTrailingComma(types.parenR,!0)){p=!0;break}else if(i.type===types.ellipsis){D=i.start,g.push(i.parseParenItem(i.parseRestBinding())),i.type===types.comma&&i.raise(i.start,"Comma is not permitted after the rest element");break}else g.push(i.parseMaybeAssign(!1,E,i.parseParenItem));var m=this.start,R=this.startLoc;if(this.expect(types.parenR),r&&!this.canInsertSemicolon()&&this.eat(types.arrow))return this.checkPatternErrors(E,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=S,this.awaitPos=w,this.parseParenArrowList(s,o,g);(!g.length||p)&&this.unexpected(this.lastTokStart),D&&this.unexpected(D),this.checkExpressionErrors(E,!0),this.yieldPos=S||this.yieldPos,this.awaitPos=w||this.awaitPos,g.length>1?(l=this.startNodeAt(c,f),l.expressions=g,this.finishNodeAt(l,"SequenceExpression",m,R)):l=g[0]}else l=this.parseParenExpression();if(this.options.preserveParens){var _=this.startNodeAt(s,o);return _.expression=l,this.finishNode(_,"ParenthesizedExpression")}else return l};pp$3.parseParenItem=function(r){return r};pp$3.parseParenArrowList=function(r,i,s){return this.parseArrowExpression(this.startNodeAt(r,i),s)};var empty$1=[];pp$3.parseNew=function(){var r=this.startNode(),i=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types.dot)){r.meta=i;var s=this.containsEsc;return r.property=this.parseIdent(!0),(r.property.name!=="target"||s)&&this.raiseRecoverable(r.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(r.start,"new.target can only be used in functions"),this.finishNode(r,"MetaProperty")}var o=this.start,l=this.startLoc;return r.callee=this.parseSubscripts(this.parseExprAtom(),o,l,!0),this.eat(types.parenL)?r.arguments=this.parseExprList(types.parenR,this.options.ecmaVersion>=8,!1):r.arguments=empty$1,this.finishNode(r,"NewExpression")};pp$3.parseTemplateElement=function(r){var i=r.isTagged,s=this.startNode();return this.type===types.invalidTemplate?(i||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),s.value={raw:this.value,cooked:null}):s.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),s.tail=this.type===types.backQuote,this.finishNode(s,"TemplateElement")};pp$3.parseTemplate=function(r){var i=this;r===void 0&&(r={});var s=r.isTagged;s===void 0&&(s=!1);var o=this.startNode();this.next(),o.expressions=[];var l=this.parseTemplateElement({isTagged:s});for(o.quasis=[l];!l.tail;)i.type===types.eof&&i.raise(i.pos,"Unterminated template literal"),i.expect(types.dollarBraceL),o.expressions.push(i.parseExpression()),i.expect(types.braceR),o.quasis.push(l=i.parseTemplateElement({isTagged:s}));return this.next(),this.finishNode(o,"TemplateLiteral")};pp$3.isAsyncProp=function(r){return!r.computed&&r.key.type==="Identifier"&&r.key.name==="async"&&(this.type===types.name||this.type===types.num||this.type===types.string||this.type===types.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$3.parseObj=function(r,i){var s=this,o=this.startNode(),l=!0,d={};for(o.properties=[],this.next();!this.eat(types.braceR);){if(l)l=!1;else if(s.expect(types.comma),s.afterTrailingComma(types.braceR))break;var c=s.parseProperty(r,i);r||s.checkPropClash(c,d,i),o.properties.push(c)}return this.finishNode(o,r?"ObjectPattern":"ObjectExpression")};pp$3.parseProperty=function(r,i){var s=this.startNode(),o,l,d,c;if(this.options.ecmaVersion>=9&&this.eat(types.ellipsis))return r?(s.argument=this.parseIdent(!1),this.type===types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===types.parenL&&i&&(i.parenthesizedAssign<0&&(i.parenthesizedAssign=this.start),i.parenthesizedBind<0&&(i.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,i),this.type===types.comma&&i&&i.trailingComma<0&&(i.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(r||i)&&(d=this.start,c=this.startLoc),r||(o=this.eat(types.star)));var f=this.containsEsc;return this.parsePropertyName(s),!r&&!f&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(s)?(l=!0,o=this.options.ecmaVersion>=9&&this.eat(types.star),this.parsePropertyName(s,i)):l=!1,this.parsePropertyValue(s,r,o,l,d,c,i,f),this.finishNode(s,"Property")};pp$3.parsePropertyValue=function(r,i,s,o,l,d,c,f){if((s||o)&&this.type===types.colon&&this.unexpected(),this.eat(types.colon))r.value=i?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),r.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types.parenL)i&&this.unexpected(),r.kind="init",r.method=!0,r.value=this.parseMethod(s,o);else if(!i&&!f&&this.options.ecmaVersion>=5&&!r.computed&&r.key.type==="Identifier"&&(r.key.name==="get"||r.key.name==="set")&&this.type!==types.comma&&this.type!==types.braceR){(s||o)&&this.unexpected(),r.kind=r.key.name,this.parsePropertyName(r),r.value=this.parseMethod(!1);var g=r.kind==="get"?0:1;if(r.value.params.length!==g){var v=r.value.start;r.kind==="get"?this.raiseRecoverable(v,"getter should have no params"):this.raiseRecoverable(v,"setter should have exactly one param")}else r.kind==="set"&&r.value.params[0].type==="RestElement"&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!r.computed&&r.key.type==="Identifier"?(this.checkUnreserved(r.key),r.kind="init",i?r.value=this.parseMaybeDefault(l,d,r.key):this.type===types.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),r.value=this.parseMaybeDefault(l,d,r.key)):r.value=r.key,r.shorthand=!0):this.unexpected()};pp$3.parsePropertyName=function(r){if(this.options.ecmaVersion>=6){if(this.eat(types.bracketL))return r.computed=!0,r.key=this.parseMaybeAssign(),this.expect(types.bracketR),r.key;r.computed=!1}return r.key=this.type===types.num||this.type===types.string?this.parseExprAtom():this.parseIdent(!0)};pp$3.initFunction=function(r){r.id=null,this.options.ecmaVersion>=6&&(r.generator=!1,r.expression=!1),this.options.ecmaVersion>=8&&(r.async=!1)};pp$3.parseMethod=function(r,i){var s=this.startNode(),o=this.inGenerator,l=this.inAsync,d=this.yieldPos,c=this.awaitPos,f=this.inFunction;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=r),this.options.ecmaVersion>=8&&(s.async=!!i),this.inGenerator=s.generator,this.inAsync=s.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(types.parenL),s.params=this.parseBindingList(types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1),this.inGenerator=o,this.inAsync=l,this.yieldPos=d,this.awaitPos=c,this.inFunction=f,this.finishNode(s,"FunctionExpression")};pp$3.parseArrowExpression=function(r,i,s){var o=this.inGenerator,l=this.inAsync,d=this.yieldPos,c=this.awaitPos,f=this.inFunction;return this.enterFunctionScope(),this.initFunction(r),this.options.ecmaVersion>=8&&(r.async=!!s),this.inGenerator=!1,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,r.params=this.toAssignableList(i,!0),this.parseFunctionBody(r,!0),this.inGenerator=o,this.inAsync=l,this.yieldPos=d,this.awaitPos=c,this.inFunction=f,this.finishNode(r,"ArrowFunctionExpression")};pp$3.parseFunctionBody=function(r,i){var s=i&&this.type!==types.braceL,o=this.strict,l=!1;if(s)r.body=this.parseMaybeAssign(),r.expression=!0,this.checkParams(r,!1);else{var d=this.options.ecmaVersion>=7&&!this.isSimpleParamList(r.params);(!o||d)&&(l=this.strictDirective(this.end),l&&d&&this.raiseRecoverable(r.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(r,!o&&!l&&!i&&this.isSimpleParamList(r.params)),r.body=this.parseBlock(!1),r.expression=!1,this.adaptDirectivePrologue(r.body.body),this.labels=c}this.exitFunctionScope(),this.strict&&r.id&&this.checkLVal(r.id,"none"),this.strict=o};pp$3.isSimpleParamList=function(r){for(var i=0,s=r;i<s.length;i+=1){var o=s[i];if(o.type!=="Identifier")return!1}return!0};pp$3.checkParams=function(r,i){for(var s=this,o={},l=0,d=r.params;l<d.length;l+=1){var c=d[l];s.checkLVal(c,"var",i?null:o)}};pp$3.parseExprList=function(r,i,s,o){for(var l=this,d=[],c=!0;!this.eat(r);){if(c)c=!1;else if(l.expect(types.comma),i&&l.afterTrailingComma(r))break;var f=void 0;s&&l.type===types.comma?f=null:l.type===types.ellipsis?(f=l.parseSpread(o),o&&l.type===types.comma&&o.trailingComma<0&&(o.trailingComma=l.start)):f=l.parseMaybeAssign(!1,o),d.push(f)}return d};pp$3.checkUnreserved=function(r){var i=r.start,s=r.end,o=r.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(i,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(i,"Can not use 'await' as identifier inside an async function"),this.isKeyword(o)&&this.raise(i,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(i,s).indexOf("\\")!==-1)){var l=this.strict?this.reservedWordsStrict:this.reservedWords;l.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(i,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(i,"The keyword '"+o+"' is reserved"))}};pp$3.parseIdent=function(r,i){var s=this.startNode();return r&&this.options.allowReserved==="never"&&(r=!1),this.type===types.name?s.name=this.value:this.type.keyword?(s.name=this.type.keyword,(s.name==="class"||s.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(),this.finishNode(s,"Identifier"),r||this.checkUnreserved(s),s};pp$3.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===types.semi||this.canInsertSemicolon()||this.type!==types.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(types.star),r.argument=this.parseMaybeAssign()),this.finishNode(r,"YieldExpression")};pp$3.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0),this.finishNode(r,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(r,i){var s=getLineInfo(this.input,r);i+=" ("+s.line+":"+s.column+")";var o=new SyntaxError(i);throw o.pos=r,o.loc=s,o.raisedAt=this.pos,o};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$5=Parser.prototype,assign=Object.assign||function(r){for(var i=[],s=arguments.length-1;s-- >0;)i[s]=arguments[s+1];for(var o=0,l=i;o<l.length;o+=1){var d=l[o];for(var c in d)has(d,c)&&(r[c]=d[c])}return r};pp$5.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})};pp$5.exitFunctionScope=function(){this.scopeStack.pop()};pp$5.enterLexicalScope=function(){var r=this.scopeStack[this.scopeStack.length-1],i={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(i),assign(i.parentLexical,r.lexical,r.parentLexical)};pp$5.exitLexicalScope=function(){var r=this.scopeStack.pop(),i=this.scopeStack[this.scopeStack.length-1];assign(i.childVar,r.var,r.childVar)};pp$5.canDeclareVarName=function(r){var i=this.scopeStack[this.scopeStack.length-1];return!has(i.lexical,r)&&!has(i.parentLexical,r)};pp$5.canDeclareLexicalName=function(r){var i=this.scopeStack[this.scopeStack.length-1];return!has(i.lexical,r)&&!has(i.var,r)&&!has(i.childVar,r)};pp$5.declareVarName=function(r){this.scopeStack[this.scopeStack.length-1].var[r]=!0};pp$5.declareLexicalName=function(r){this.scopeStack[this.scopeStack.length-1].lexical[r]=!0};var Node=function(i,s,o){this.type="",this.start=s,this.end=0,i.options.locations&&(this.loc=new SourceLocation(i,o)),i.options.directSourceFile&&(this.sourceFile=i.options.directSourceFile),i.options.ranges&&(this.range=[s,0])},pp$6=Parser.prototype;pp$6.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$6.startNodeAt=function(r,i){return new Node(this,r,i)};function finishNodeAt(r,i,s,o){return r.type=i,r.end=s,this.options.locations&&(r.loc.end=o),this.options.ranges&&(r.range[1]=s),r}pp$6.finishNode=function(r,i){return finishNodeAt.call(this,r,i,this.lastTokEnd,this.lastTokEndLoc)};pp$6.finishNodeAt=function(r,i,s,o){return finishNodeAt.call(this,r,i,s,o)};var TokContext=function(i,s,o,l,d){this.token=i,this.isExpr=!!s,this.preserveSpace=!!o,this.override=l,this.generator=!!d},types$1={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(r){return r.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$7=Parser.prototype;pp$7.initialContext=function(){return[types$1.b_stat]};pp$7.braceIsBlock=function(r){var i=this.curContext();return i===types$1.f_expr||i===types$1.f_stat?!0:r===types.colon&&(i===types$1.b_stat||i===types$1.b_expr)?!i.isExpr:r===types._return||r===types.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):r===types._else||r===types.semi||r===types.eof||r===types.parenR||r===types.arrow?!0:r===types.braceL?i===types$1.b_stat:r===types._var||r===types.name?!1:!this.exprAllowed};pp$7.inGeneratorContext=function(){for(var r=this,i=this.context.length-1;i>=1;i--){var s=r.context[i];if(s.token==="function")return s.generator}return!1};pp$7.updateContext=function(r){var i,s=this.type;s.keyword&&r===types.dot?this.exprAllowed=!1:(i=s.updateContext)?i.call(this,r):this.exprAllowed=s.beforeExpr};types.parenR.updateContext=types.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var r=this.context.pop();r===types$1.b_stat&&this.curContext().token==="function"&&(r=this.context.pop()),this.exprAllowed=!r.isExpr};types.braceL.updateContext=function(r){this.context.push(this.braceIsBlock(r)?types$1.b_stat:types$1.b_expr),this.exprAllowed=!0};types.dollarBraceL.updateContext=function(){this.context.push(types$1.b_tmpl),this.exprAllowed=!0};types.parenL.updateContext=function(r){var i=r===types._if||r===types._for||r===types._with||r===types._while;this.context.push(i?types$1.p_stat:types$1.p_expr),this.exprAllowed=!0};types.incDec.updateContext=function(){};types._function.updateContext=types._class.updateContext=function(r){r.beforeExpr&&r!==types.semi&&r!==types._else&&!((r===types.colon||r===types.braceL)&&this.curContext()===types$1.b_stat)?this.context.push(types$1.f_expr):this.context.push(types$1.f_stat),this.exprAllowed=!1};types.backQuote.updateContext=function(){this.curContext()===types$1.q_tmpl?this.context.pop():this.context.push(types$1.q_tmpl),this.exprAllowed=!1};types.star.updateContext=function(r){if(r===types._function){var i=this.context.length-1;this.context[i]===types$1.f_expr?this.context[i]=types$1.f_expr_gen:this.context[i]=types$1.f_gen}this.exprAllowed=!0};types.name.updateContext=function(r){var i=!1;this.options.ecmaVersion>=6&&r!==types.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(i=!0),this.exprAllowed=i};var data={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(data.$LONE,data.General_Category);data.gc=data.General_Category;data.sc=data.Script_Extensions=data.scx=data.Script;var pp$9=Parser.prototype,RegExpValidationState=function(i){this.parser=i,this.validFlags="gim"+(i.options.ecmaVersion>=6?"uy":"")+(i.options.ecmaVersion>=9?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function(i,s,o){var l=o.indexOf("u")!==-1;this.start=i|0,this.source=s+"",this.flags=o,this.switchU=l&&this.parser.options.ecmaVersion>=6,this.switchN=l&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function(i){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+i)};RegExpValidationState.prototype.at=function(i){var s=this.source,o=s.length;if(i>=o)return-1;var l=s.charCodeAt(i);if(!this.switchU||l<=55295||l>=57344||i+1>=o)return l;var d=s.charCodeAt(i+1);return d>=56320&&d<=57343?(l<<10)+d-56613888:l};RegExpValidationState.prototype.nextIndex=function(i){var s=this.source,o=s.length;if(i>=o)return o;var l=s.charCodeAt(i),d;return!this.switchU||l<=55295||l>=57344||i+1>=o||(d=s.charCodeAt(i+1))<56320||d>57343?i+1:i+2};RegExpValidationState.prototype.current=function(){return this.at(this.pos)};RegExpValidationState.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))};RegExpValidationState.prototype.advance=function(){this.pos=this.nextIndex(this.pos)};RegExpValidationState.prototype.eat=function(i){return this.current()===i?(this.advance(),!0):!1};function codePointToString$1(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}pp$9.validateRegExpFlags=function(r){for(var i=this,s=r.validFlags,o=r.flags,l=0;l<o.length;l++){var d=o.charAt(l);s.indexOf(d)===-1&&i.raise(r.start,"Invalid regular expression flag"),o.indexOf(d,l+1)>-1&&i.raise(r.start,"Duplicate regular expression flag")}};pp$9.validateRegExpPattern=function(r){this.regexp_pattern(r),!r.switchN&&this.options.ecmaVersion>=9&&r.groupNames.length>0&&(r.switchN=!0,this.regexp_pattern(r))};pp$9.regexp_pattern=function(r){r.pos=0,r.lastIntValue=0,r.lastStringValue="",r.lastAssertionIsQuantifiable=!1,r.numCapturingParens=0,r.maxBackReference=0,r.groupNames.length=0,r.backReferenceNames.length=0,this.regexp_disjunction(r),r.pos!==r.source.length&&(r.eat(41)&&r.raise("Unmatched ')'"),(r.eat(93)||r.eat(125))&&r.raise("Lone quantifier brackets")),r.maxBackReference>r.numCapturingParens&&r.raise("Invalid escape");for(var i=0,s=r.backReferenceNames;i<s.length;i+=1){var o=s[i];r.groupNames.indexOf(o)===-1&&r.raise("Invalid named capture referenced")}};pp$9.regexp_disjunction=function(r){var i=this;for(this.regexp_alternative(r);r.eat(124);)i.regexp_alternative(r);this.regexp_eatQuantifier(r,!0)&&r.raise("Nothing to repeat"),r.eat(123)&&r.raise("Lone quantifier brackets")};pp$9.regexp_alternative=function(r){for(;r.pos<r.source.length&&this.regexp_eatTerm(r););};pp$9.regexp_eatTerm=function(r){return this.regexp_eatAssertion(r)?(r.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(r)&&r.switchU&&r.raise("Invalid quantifier"),!0):(r.switchU?this.regexp_eatAtom(r):this.regexp_eatExtendedAtom(r))?(this.regexp_eatQuantifier(r),!0):!1};pp$9.regexp_eatAssertion=function(r){var i=r.pos;if(r.lastAssertionIsQuantifiable=!1,r.eat(94)||r.eat(36))return!0;if(r.eat(92)){if(r.eat(66)||r.eat(98))return!0;r.pos=i}if(r.eat(40)&&r.eat(63)){var s=!1;if(this.options.ecmaVersion>=9&&(s=r.eat(60)),r.eat(61)||r.eat(33))return this.regexp_disjunction(r),r.eat(41)||r.raise("Unterminated group"),r.lastAssertionIsQuantifiable=!s,!0}return r.pos=i,!1};pp$9.regexp_eatQuantifier=function(r,i){return i===void 0&&(i=!1),this.regexp_eatQuantifierPrefix(r,i)?(r.eat(63),!0):!1};pp$9.regexp_eatQuantifierPrefix=function(r,i){return r.eat(42)||r.eat(43)||r.eat(63)||this.regexp_eatBracedQuantifier(r,i)};pp$9.regexp_eatBracedQuantifier=function(r,i){var s=r.pos;if(r.eat(123)){var o=0,l=-1;if(this.regexp_eatDecimalDigits(r)&&(o=r.lastIntValue,r.eat(44)&&this.regexp_eatDecimalDigits(r)&&(l=r.lastIntValue),r.eat(125)))return l!==-1&&l<o&&!i&&r.raise("numbers out of order in {} quantifier"),!0;r.switchU&&!i&&r.raise("Incomplete quantifier"),r.pos=s}return!1};pp$9.regexp_eatAtom=function(r){return this.regexp_eatPatternCharacters(r)||r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)};pp$9.regexp_eatReverseSolidusAtomEscape=function(r){var i=r.pos;if(r.eat(92)){if(this.regexp_eatAtomEscape(r))return!0;r.pos=i}return!1};pp$9.regexp_eatUncapturingGroup=function(r){var i=r.pos;if(r.eat(40)){if(r.eat(63)&&r.eat(58)){if(this.regexp_disjunction(r),r.eat(41))return!0;r.raise("Unterminated group")}r.pos=i}return!1};pp$9.regexp_eatCapturingGroup=function(r){if(r.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(r):r.current()===63&&r.raise("Invalid group"),this.regexp_disjunction(r),r.eat(41))return r.numCapturingParens+=1,!0;r.raise("Unterminated group")}return!1};pp$9.regexp_eatExtendedAtom=function(r){return r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)||this.regexp_eatInvalidBracedQuantifier(r)||this.regexp_eatExtendedPatternCharacter(r)};pp$9.regexp_eatInvalidBracedQuantifier=function(r){return this.regexp_eatBracedQuantifier(r,!0)&&r.raise("Nothing to repeat"),!1};pp$9.regexp_eatSyntaxCharacter=function(r){var i=r.current();return isSyntaxCharacter(i)?(r.lastIntValue=i,r.advance(),!0):!1};function isSyntaxCharacter(r){return r===36||r>=40&&r<=43||r===46||r===63||r>=91&&r<=94||r>=123&&r<=125}pp$9.regexp_eatPatternCharacters=function(r){for(var i=r.pos,s=0;(s=r.current())!==-1&&!isSyntaxCharacter(s);)r.advance();return r.pos!==i};pp$9.regexp_eatExtendedPatternCharacter=function(r){var i=r.current();return i!==-1&&i!==36&&!(i>=40&&i<=43)&&i!==46&&i!==63&&i!==91&&i!==94&&i!==124?(r.advance(),!0):!1};pp$9.regexp_groupSpecifier=function(r){if(r.eat(63)){if(this.regexp_eatGroupName(r)){r.groupNames.indexOf(r.lastStringValue)!==-1&&r.raise("Duplicate capture group name"),r.groupNames.push(r.lastStringValue);return}r.raise("Invalid group")}};pp$9.regexp_eatGroupName=function(r){if(r.lastStringValue="",r.eat(60)){if(this.regexp_eatRegExpIdentifierName(r)&&r.eat(62))return!0;r.raise("Invalid capture group name")}return!1};pp$9.regexp_eatRegExpIdentifierName=function(r){if(r.lastStringValue="",this.regexp_eatRegExpIdentifierStart(r)){for(r.lastStringValue+=codePointToString$1(r.lastIntValue);this.regexp_eatRegExpIdentifierPart(r);)r.lastStringValue+=codePointToString$1(r.lastIntValue);return!0}return!1};pp$9.regexp_eatRegExpIdentifierStart=function(r){var i=r.pos,s=r.current();return r.advance(),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r)&&(s=r.lastIntValue),isRegExpIdentifierStart(s)?(r.lastIntValue=s,!0):(r.pos=i,!1)};function isRegExpIdentifierStart(r){return isIdentifierStart(r,!0)||r===36||r===95}pp$9.regexp_eatRegExpIdentifierPart=function(r){var i=r.pos,s=r.current();return r.advance(),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r)&&(s=r.lastIntValue),isRegExpIdentifierPart(s)?(r.lastIntValue=s,!0):(r.pos=i,!1)};function isRegExpIdentifierPart(r){return isIdentifierChar(r,!0)||r===36||r===95||r===8204||r===8205}pp$9.regexp_eatAtomEscape=function(r){return this.regexp_eatBackReference(r)||this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)||r.switchN&&this.regexp_eatKGroupName(r)?!0:(r.switchU&&(r.current()===99&&r.raise("Invalid unicode escape"),r.raise("Invalid escape")),!1)};pp$9.regexp_eatBackReference=function(r){var i=r.pos;if(this.regexp_eatDecimalEscape(r)){var s=r.lastIntValue;if(r.switchU)return s>r.maxBackReference&&(r.maxBackReference=s),!0;if(s<=r.numCapturingParens)return!0;r.pos=i}return!1};pp$9.regexp_eatKGroupName=function(r){if(r.eat(107)){if(this.regexp_eatGroupName(r))return r.backReferenceNames.push(r.lastStringValue),!0;r.raise("Invalid named reference")}return!1};pp$9.regexp_eatCharacterEscape=function(r){return this.regexp_eatControlEscape(r)||this.regexp_eatCControlLetter(r)||this.regexp_eatZero(r)||this.regexp_eatHexEscapeSequence(r)||this.regexp_eatRegExpUnicodeEscapeSequence(r)||!r.switchU&&this.regexp_eatLegacyOctalEscapeSequence(r)||this.regexp_eatIdentityEscape(r)};pp$9.regexp_eatCControlLetter=function(r){var i=r.pos;if(r.eat(99)){if(this.regexp_eatControlLetter(r))return!0;r.pos=i}return!1};pp$9.regexp_eatZero=function(r){return r.current()===48&&!isDecimalDigit(r.lookahead())?(r.lastIntValue=0,r.advance(),!0):!1};pp$9.regexp_eatControlEscape=function(r){var i=r.current();return i===116?(r.lastIntValue=9,r.advance(),!0):i===110?(r.lastIntValue=10,r.advance(),!0):i===118?(r.lastIntValue=11,r.advance(),!0):i===102?(r.lastIntValue=12,r.advance(),!0):i===114?(r.lastIntValue=13,r.advance(),!0):!1};pp$9.regexp_eatControlLetter=function(r){var i=r.current();return isControlLetter(i)?(r.lastIntValue=i%32,r.advance(),!0):!1};function isControlLetter(r){return r>=65&&r<=90||r>=97&&r<=122}pp$9.regexp_eatRegExpUnicodeEscapeSequence=function(r){var i=r.pos;if(r.eat(117)){if(this.regexp_eatFixedHexDigits(r,4)){var s=r.lastIntValue;if(r.switchU&&s>=55296&&s<=56319){var o=r.pos;if(r.eat(92)&&r.eat(117)&&this.regexp_eatFixedHexDigits(r,4)){var l=r.lastIntValue;if(l>=56320&&l<=57343)return r.lastIntValue=(s-55296)*1024+(l-56320)+65536,!0}r.pos=o,r.lastIntValue=s}return!0}if(r.switchU&&r.eat(123)&&this.regexp_eatHexDigits(r)&&r.eat(125)&&isValidUnicode(r.lastIntValue))return!0;r.switchU&&r.raise("Invalid unicode escape"),r.pos=i}return!1};function isValidUnicode(r){return r>=0&&r<=1114111}pp$9.regexp_eatIdentityEscape=function(r){if(r.switchU)return this.regexp_eatSyntaxCharacter(r)?!0:r.eat(47)?(r.lastIntValue=47,!0):!1;var i=r.current();return i!==99&&(!r.switchN||i!==107)?(r.lastIntValue=i,r.advance(),!0):!1};pp$9.regexp_eatDecimalEscape=function(r){r.lastIntValue=0;var i=r.current();if(i>=49&&i<=57){do r.lastIntValue=10*r.lastIntValue+(i-48),r.advance();while((i=r.current())>=48&&i<=57);return!0}return!1};pp$9.regexp_eatCharacterClassEscape=function(r){var i=r.current();if(isCharacterClassEscape(i))return r.lastIntValue=-1,r.advance(),!0;if(r.switchU&&this.options.ecmaVersion>=9&&(i===80||i===112)){if(r.lastIntValue=-1,r.advance(),r.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(r)&&r.eat(125))return!0;r.raise("Invalid property name")}return!1};function isCharacterClassEscape(r){return r===100||r===68||r===115||r===83||r===119||r===87}pp$9.regexp_eatUnicodePropertyValueExpression=function(r){var i=r.pos;if(this.regexp_eatUnicodePropertyName(r)&&r.eat(61)){var s=r.lastStringValue;if(this.regexp_eatUnicodePropertyValue(r)){var o=r.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(r,s,o),!0}}if(r.pos=i,this.regexp_eatLoneUnicodePropertyNameOrValue(r)){var l=r.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(r,l),!0}return!1};pp$9.regexp_validateUnicodePropertyNameAndValue=function(r,i,s){(!data.hasOwnProperty(i)||data[i].indexOf(s)===-1)&&r.raise("Invalid property name")};pp$9.regexp_validateUnicodePropertyNameOrValue=function(r,i){data.$LONE.indexOf(i)===-1&&r.raise("Invalid property name")};pp$9.regexp_eatUnicodePropertyName=function(r){var i=0;for(r.lastStringValue="";isUnicodePropertyNameCharacter(i=r.current());)r.lastStringValue+=codePointToString$1(i),r.advance();return r.lastStringValue!==""};function isUnicodePropertyNameCharacter(r){return isControlLetter(r)||r===95}pp$9.regexp_eatUnicodePropertyValue=function(r){var i=0;for(r.lastStringValue="";isUnicodePropertyValueCharacter(i=r.current());)r.lastStringValue+=codePointToString$1(i),r.advance();return r.lastStringValue!==""};function isUnicodePropertyValueCharacter(r){return isUnicodePropertyNameCharacter(r)||isDecimalDigit(r)}pp$9.regexp_eatLoneUnicodePropertyNameOrValue=function(r){return this.regexp_eatUnicodePropertyValue(r)};pp$9.regexp_eatCharacterClass=function(r){if(r.eat(91)){if(r.eat(94),this.regexp_classRanges(r),r.eat(93))return!0;r.raise("Unterminated character class")}return!1};pp$9.regexp_classRanges=function(r){for(var i=this;this.regexp_eatClassAtom(r);){var s=r.lastIntValue;if(r.eat(45)&&i.regexp_eatClassAtom(r)){var o=r.lastIntValue;r.switchU&&(s===-1||o===-1)&&r.raise("Invalid character class"),s!==-1&&o!==-1&&s>o&&r.raise("Range out of order in character class")}}};pp$9.regexp_eatClassAtom=function(r){var i=r.pos;if(r.eat(92)){if(this.regexp_eatClassEscape(r))return!0;if(r.switchU){var s=r.current();(s===99||isOctalDigit(s))&&r.raise("Invalid class escape"),r.raise("Invalid escape")}r.pos=i}var o=r.current();return o!==93?(r.lastIntValue=o,r.advance(),!0):!1};pp$9.regexp_eatClassEscape=function(r){var i=r.pos;if(r.eat(98))return r.lastIntValue=8,!0;if(r.switchU&&r.eat(45))return r.lastIntValue=45,!0;if(!r.switchU&&r.eat(99)){if(this.regexp_eatClassControlLetter(r))return!0;r.pos=i}return this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)};pp$9.regexp_eatClassControlLetter=function(r){var i=r.current();return isDecimalDigit(i)||i===95?(r.lastIntValue=i%32,r.advance(),!0):!1};pp$9.regexp_eatHexEscapeSequence=function(r){var i=r.pos;if(r.eat(120)){if(this.regexp_eatFixedHexDigits(r,2))return!0;r.switchU&&r.raise("Invalid escape"),r.pos=i}return!1};pp$9.regexp_eatDecimalDigits=function(r){var i=r.pos,s=0;for(r.lastIntValue=0;isDecimalDigit(s=r.current());)r.lastIntValue=10*r.lastIntValue+(s-48),r.advance();return r.pos!==i};function isDecimalDigit(r){return r>=48&&r<=57}pp$9.regexp_eatHexDigits=function(r){var i=r.pos,s=0;for(r.lastIntValue=0;isHexDigit(s=r.current());)r.lastIntValue=16*r.lastIntValue+hexToInt(s),r.advance();return r.pos!==i};function isHexDigit(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}function hexToInt(r){return r>=65&&r<=70?10+(r-65):r>=97&&r<=102?10+(r-97):r-48}pp$9.regexp_eatLegacyOctalEscapeSequence=function(r){if(this.regexp_eatOctalDigit(r)){var i=r.lastIntValue;if(this.regexp_eatOctalDigit(r)){var s=r.lastIntValue;i<=3&&this.regexp_eatOctalDigit(r)?r.lastIntValue=i*64+s*8+r.lastIntValue:r.lastIntValue=i*8+s}else r.lastIntValue=i;return!0}return!1};pp$9.regexp_eatOctalDigit=function(r){var i=r.current();return isOctalDigit(i)?(r.lastIntValue=i-48,r.advance(),!0):(r.lastIntValue=0,!1)};function isOctalDigit(r){return r>=48&&r<=55}pp$9.regexp_eatFixedHexDigits=function(r,i){var s=r.pos;r.lastIntValue=0;for(var o=0;o<i;++o){var l=r.current();if(!isHexDigit(l))return r.pos=s,!1;r.lastIntValue=16*r.lastIntValue+hexToInt(l),r.advance()}return!0};var Token=function(i){this.type=i.type,this.value=i.value,this.start=i.start,this.end=i.end,i.options.locations&&(this.loc=new SourceLocation(i,i.startLoc,i.endLoc)),i.options.ranges&&(this.range=[i.start,i.end])},pp$8=Parser.prototype;pp$8.next=function(){this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp$8.getToken=function(){return this.next(),new Token(this)};typeof Symbol<"u"&&(pp$8[Symbol.iterator]=function(){var r=this;return{next:function(){var i=r.getToken();return{done:i.type===types.eof,value:i}}}});pp$8.curContext=function(){return this.context[this.context.length-1]};pp$8.nextToken=function(){var r=this.curContext();if((!r||!r.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types.eof);if(r.override)return r.override(this);this.readToken(this.fullCharCodeAtPos())};pp$8.readToken=function(r){return isIdentifierStart(r,this.options.ecmaVersion>=6)||r===92?this.readWord():this.getTokenFromCode(r)};pp$8.fullCharCodeAtPos=function(){var r=this.input.charCodeAt(this.pos);if(r<=55295||r>=57344)return r;var i=this.input.charCodeAt(this.pos+1);return(r<<10)+i-56613888};pp$8.skipBlockComment=function(){var r=this,i=this.options.onComment&&this.curPosition(),s=this.pos,o=this.input.indexOf("*/",this.pos+=2);if(o===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=o+2,this.options.locations){lineBreakG.lastIndex=s;for(var l;(l=lineBreakG.exec(this.input))&&l.index<this.pos;)++r.curLine,r.lineStart=l.index+l[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(s+2,o),s,this.pos,i,this.curPosition())};pp$8.skipLineComment=function(r){for(var i=this,s=this.pos,o=this.options.onComment&&this.curPosition(),l=this.input.charCodeAt(this.pos+=r);this.pos<this.input.length&&!isNewLine(l);)l=i.input.charCodeAt(++i.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(s+r,this.pos),s,this.pos,o,this.curPosition())};pp$8.skipSpace=function(){var r=this;e:for(;this.pos<this.input.length;){var i=r.input.charCodeAt(r.pos);switch(i){case 32:case 160:++r.pos;break;case 13:r.input.charCodeAt(r.pos+1)===10&&++r.pos;case 10:case 8232:case 8233:++r.pos,r.options.locations&&(++r.curLine,r.lineStart=r.pos);break;case 47:switch(r.input.charCodeAt(r.pos+1)){case 42:r.skipBlockComment();break;case 47:r.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&nonASCIIwhitespace.test(String.fromCharCode(i)))++r.pos;else break e}}};pp$8.finishToken=function(r,i){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var s=this.type;this.type=r,this.value=i,this.updateContext(s)};pp$8.readToken_dot=function(){var r=this.input.charCodeAt(this.pos+1);if(r>=48&&r<=57)return this.readNumber(!0);var i=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&r===46&&i===46?(this.pos+=3,this.finishToken(types.ellipsis)):(++this.pos,this.finishToken(types.dot))};pp$8.readToken_slash=function(){var r=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):r===61?this.finishOp(types.assign,2):this.finishOp(types.slash,1)};pp$8.readToken_mult_modulo_exp=function(r){var i=this.input.charCodeAt(this.pos+1),s=1,o=r===42?types.star:types.modulo;return this.options.ecmaVersion>=7&&r===42&&i===42&&(++s,o=types.starstar,i=this.input.charCodeAt(this.pos+2)),i===61?this.finishOp(types.assign,s+1):this.finishOp(o,s)};pp$8.readToken_pipe_amp=function(r){var i=this.input.charCodeAt(this.pos+1);return i===r?this.finishOp(r===124?types.logicalOR:types.logicalAND,2):i===61?this.finishOp(types.assign,2):this.finishOp(r===124?types.bitwiseOR:types.bitwiseAND,1)};pp$8.readToken_caret=function(){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(types.assign,2):this.finishOp(types.bitwiseXOR,1)};pp$8.readToken_plus_min=function(r){var i=this.input.charCodeAt(this.pos+1);return i===r?i===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types.incDec,2):i===61?this.finishOp(types.assign,2):this.finishOp(types.plusMin,1)};pp$8.readToken_lt_gt=function(r){var i=this.input.charCodeAt(this.pos+1),s=1;return i===r?(s=r===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+s)===61?this.finishOp(types.assign,s+1):this.finishOp(types.bitShift,s)):i===33&&r===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(i===61&&(s=2),this.finishOp(types.relational,s))};pp$8.readToken_eq_excl=function(r){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(types.equality,this.input.charCodeAt(this.pos+2)===61?3:2):r===61&&i===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types.arrow)):this.finishOp(r===61?types.eq:types.prefix,1)};pp$8.getTokenFromCode=function(r){switch(r){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types.parenL);case 41:return++this.pos,this.finishToken(types.parenR);case 59:return++this.pos,this.finishToken(types.semi);case 44:return++this.pos,this.finishToken(types.comma);case 91:return++this.pos,this.finishToken(types.bracketL);case 93:return++this.pos,this.finishToken(types.bracketR);case 123:return++this.pos,this.finishToken(types.braceL);case 125:return++this.pos,this.finishToken(types.braceR);case 58:return++this.pos,this.finishToken(types.colon);case 63:return++this.pos,this.finishToken(types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types.backQuote);case 48:var i=this.input.charCodeAt(this.pos+1);if(i===120||i===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(i===111||i===79)return this.readRadixNumber(8);if(i===98||i===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(r);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(r);case 124:case 38:return this.readToken_pipe_amp(r);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(r);case 60:case 62:return this.readToken_lt_gt(r);case 61:case 33:return this.readToken_eq_excl(r);case 126:return this.finishOp(types.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(r)+"'")};pp$8.finishOp=function(r,i){var s=this.input.slice(this.pos,this.pos+i);return this.pos+=i,this.finishToken(r,s)};pp$8.readRegexp=function(){for(var r=this,i,s,o=this.pos;;){r.pos>=r.input.length&&r.raise(o,"Unterminated regular expression");var l=r.input.charAt(r.pos);if(lineBreak.test(l)&&r.raise(o,"Unterminated regular expression"),i)i=!1;else{if(l==="[")s=!0;else if(l==="]"&&s)s=!1;else if(l==="/"&&!s)break;i=l==="\\"}++r.pos}var d=this.input.slice(o,this.pos);++this.pos;var c=this.pos,f=this.readWord1();this.containsEsc&&this.unexpected(c);var g=this.regexpState||(this.regexpState=new RegExpValidationState(this));g.reset(o,d,f),this.validateRegExpFlags(g),this.validateRegExpPattern(g);var v=null;try{v=new RegExp(d,f)}catch{}return this.finishToken(types.regexp,{pattern:d,flags:f,value:v})};pp$8.readInt=function(r,i){for(var s=this,o=this.pos,l=0,d=0,c=i??1/0;d<c;++d){var f=s.input.charCodeAt(s.pos),g=void 0;if(f>=97?g=f-97+10:f>=65?g=f-65+10:f>=48&&f<=57?g=f-48:g=1/0,g>=r)break;++s.pos,l=l*r+g}return this.pos===o||i!=null&&this.pos-o!==i?null:l};pp$8.readRadixNumber=function(r){this.pos+=2;var i=this.readInt(r);return i==null&&this.raise(this.start+2,"Expected number in radix "+r),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types.num,i)};pp$8.readNumber=function(r){var i=this.pos;!r&&this.readInt(10)===null&&this.raise(i,"Invalid number");var s=this.pos-i>=2&&this.input.charCodeAt(i)===48;s&&this.strict&&this.raise(i,"Invalid number"),s&&/[89]/.test(this.input.slice(i,this.pos))&&(s=!1);var o=this.input.charCodeAt(this.pos);o===46&&!s&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!s&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(i,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var l=this.input.slice(i,this.pos),d=s?parseInt(l,8):parseFloat(l);return this.finishToken(types.num,d)};pp$8.readCodePoint=function(){var r=this.input.charCodeAt(this.pos),i;if(r===123){this.options.ecmaVersion<6&&this.unexpected();var s=++this.pos;i=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,i>1114111&&this.invalidStringToken(s,"Code point out of bounds")}else i=this.readHexChar(4);return i};function codePointToString(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}pp$8.readString=function(r){for(var i=this,s="",o=++this.pos;;){i.pos>=i.input.length&&i.raise(i.start,"Unterminated string constant");var l=i.input.charCodeAt(i.pos);if(l===r)break;l===92?(s+=i.input.slice(o,i.pos),s+=i.readEscapedChar(!1),o=i.pos):(isNewLine(l,i.options.ecmaVersion>=10)&&i.raise(i.start,"Unterminated string constant"),++i.pos)}return s+=this.input.slice(o,this.pos++),this.finishToken(types.string,s)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp$8.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(r){if(r===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw r}this.inTemplateElement=!1};pp$8.invalidStringToken=function(r,i){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(r,i)};pp$8.readTmplToken=function(){for(var r=this,i="",s=this.pos;;){r.pos>=r.input.length&&r.raise(r.start,"Unterminated template");var o=r.input.charCodeAt(r.pos);if(o===96||o===36&&r.input.charCodeAt(r.pos+1)===123)return r.pos===r.start&&(r.type===types.template||r.type===types.invalidTemplate)?o===36?(r.pos+=2,r.finishToken(types.dollarBraceL)):(++r.pos,r.finishToken(types.backQuote)):(i+=r.input.slice(s,r.pos),r.finishToken(types.template,i));if(o===92)i+=r.input.slice(s,r.pos),i+=r.readEscapedChar(!0),s=r.pos;else if(isNewLine(o)){switch(i+=r.input.slice(s,r.pos),++r.pos,o){case 13:r.input.charCodeAt(r.pos)===10&&++r.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(o);break}r.options.locations&&(++r.curLine,r.lineStart=r.pos),s=r.pos}else++r.pos}};pp$8.readInvalidTemplateToken=function(){for(var r=this;this.pos<this.input.length;this.pos++)switch(r.input[r.pos]){case"\\":++r.pos;break;case"$":if(r.input[r.pos+1]!=="{")break;case"`":return r.finishToken(types.invalidTemplate,r.input.slice(r.start,r.pos))}this.raise(this.start,"Unterminated template")};pp$8.readEscapedChar=function(r){var i=this.input.charCodeAt(++this.pos);switch(++this.pos,i){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(i>=48&&i<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(s,8);return o>255&&(s=s.slice(0,-1),o=parseInt(s,8)),this.pos+=s.length-1,i=this.input.charCodeAt(this.pos),(s!=="0"||i===56||i===57)&&(this.strict||r)&&this.invalidStringToken(this.pos-1-s.length,r?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return String.fromCharCode(i)}};pp$8.readHexChar=function(r){var i=this.pos,s=this.readInt(16,r);return s===null&&this.invalidStringToken(i,"Bad character escape sequence"),s};pp$8.readWord1=function(){var r=this;this.containsEsc=!1;for(var i="",s=!0,o=this.pos,l=this.options.ecmaVersion>=6;this.pos<this.input.length;){var d=r.fullCharCodeAtPos();if(isIdentifierChar(d,l))r.pos+=d<=65535?1:2;else if(d===92){r.containsEsc=!0,i+=r.input.slice(o,r.pos);var c=r.pos;r.input.charCodeAt(++r.pos)!==117&&r.invalidStringToken(r.pos,"Expecting Unicode escape sequence \\uXXXX"),++r.pos;var f=r.readCodePoint();(s?isIdentifierStart:isIdentifierChar)(f,l)||r.invalidStringToken(c,"Invalid Unicode escape"),i+=codePointToString(f),o=r.pos}else break;s=!1}return i+this.input.slice(o,this.pos)};pp$8.readWord=function(){var r=this.readWord1(),i=types.name;return this.keywords.test(r)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+r),i=keywords$1[r]),this.finishToken(i,r)};var version="5.7.3";function parse(r,i){return new Parser(i,r).parse()}function parseExpressionAt(r,i,s){var o=new Parser(s,r,i);return o.nextToken(),o.parseExpression()}function tokenizer(r,i){return new Parser(i,r)}var parse_dammit,LooseParser,pluginsLoose;function addLooseExports(r,i,s){parse_dammit=r,LooseParser=i,pluginsLoose=s}const acorn_es=Object.freeze(Object.defineProperty({__proto__:null,get LooseParser(){return LooseParser},Node,Parser,Position,SourceLocation,TokContext,Token,TokenType,addLooseExports,defaultOptions,getLineInfo,isIdentifierChar,isIdentifierStart,isNewLine,keywordTypes:keywords$1,lineBreak,lineBreakG,nonASCIIwhitespace,parse,parseExpressionAt,get parse_dammit(){return parse_dammit},plugins,get pluginsLoose(){return pluginsLoose},tokContexts:types$1,tokTypes:types,tokenizer,version},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(acorn_es);var functionNodeBase,hasRequiredFunctionNodeBase;function requireFunctionNodeBase(){if(hasRequiredFunctionNodeBase)return functionNodeBase;hasRequiredFunctionNodeBase=1;var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_createClass=function(){function r(i,s){for(var o=0;o<s.length;o++){var l=s[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,o){return s&&r(i.prototype,s),o&&r(i,o),i}}();function _classCallCheck(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var utils=requireUtils(),acorn=require$$1;return functionNodeBase=function(){function BaseFunctionNode(r,i,s){_classCallCheck(this,BaseFunctionNode),this.calledFunctions=[],this.calledFunctionsArguments={},this.builder=null,this.isRootKernel=!1,this.isSubKernel=!1,this.parent=null,this.debug=null,this.prototypeOnly=null,this.constants=null,this.output=null,this.declarations={},this.states=[],this.fixIntegerDivisionAccuracy=null;var o=void 0,l=void 0;if(s&&(s.hasOwnProperty("debug")&&(this.debug=s.debug),s.hasOwnProperty("prototypeOnly")&&(this.prototypeOnly=s.prototypeOnly),s.hasOwnProperty("constants")&&(this.constants=s.constants),s.hasOwnProperty("output")&&(this.output=s.output),s.hasOwnProperty("loopMaxIterations")&&(this.loopMaxIterations=s.loopMaxIterations),s.hasOwnProperty("paramTypes")&&(this.paramTypes=o=s.paramTypes),s.hasOwnProperty("constantTypes")?this.constantTypes=s.constantTypes:this.constantTypes={},s.hasOwnProperty("returnType")&&(l=s.returnType),s.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=s.fixIntegerDivisionAccuracy)),!i)throw"jsFunction, parameter is missing";if(this.jsFunctionString=i.toString(),!utils.isFunctionString(this.jsFunctionString))throw console.error("jsFunction, to string conversion check failed: not a function?",this.jsFunctionString),"jsFunction, to string conversion check failed: not a function?";if(utils.isFunction(i)?this.jsFunction=i:this.jsFunction=null,this.functionName=r||i&&i.name||utils.getFunctionNameFromString(this.jsFunctionString),!this.functionName)throw"jsFunction, missing name argument or value";if(this.paramNames=utils.getParamNamesFromString(this.jsFunctionString),o){if(Array.isArray(o)){if(o.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+o.length+","+this.paramNames.length+")";this.paramTypes=o}else if((typeof o>"u"?"undefined":_typeof(o))==="object"){var d=Object.keys(o);if(o.hasOwnProperty("returns")&&(this.returnType=o.returns,d.splice(d.indexOf("returns"),1)),d.length>0&&d.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+d.length+","+this.paramNames.length+")";this.paramTypes=this.paramNames.map(function(c){return o.hasOwnProperty(c)?o[c]:"Number"})}}else this.paramTypes=[];this.returnType||(this.returnType=l||"Number")}return _createClass(BaseFunctionNode,[{key:"isIdentifierConstant",value:function(i){return this.constants?this.constants.hasOwnProperty(i):!1}},{key:"isInput",value:function(i){return this.paramTypes[this.paramNames.indexOf(i)]==="Input"}},{key:"setBuilder",value:function(i){return this.builder=i,this}},{key:"pushState",value:function(i){this.states.push(i)}},{key:"popState",value:function(i){if(this.state!==i)throw new Error("Cannot popState "+i+" when in "+this.state);this.states.pop()}},{key:"isState",value:function(i){return this.state===i}},{key:"getJsFunction",value:function getJsFunction(){if(this.jsFunction)return this.jsFunction;if(this.jsFunctionString)return this.jsFunction=eval(this.jsFunctionString),this.jsFunction;throw"Missing jsFunction, and jsFunctionString parameter"}},{key:"astMemberExpressionUnroll",value:function r(i){if(i.type==="Identifier")return i.name;if(i.type==="ThisExpression")return"this";if(i.type==="MemberExpression"&&i.object&&i.property)return i.object.hasOwnProperty("name")&&i.object.name[0]==="_"?this.astMemberExpressionUnroll(i.property):this.astMemberExpressionUnroll(i.object)+"."+this.astMemberExpressionUnroll(i.property);if(i.hasOwnProperty("expressions")){var s=i.expressions[0];if(s.type==="Literal"&&s.value===0&&i.expressions.length===2)return this.astMemberExpressionUnroll(i.expressions[1])}throw this.astErrorOutput("Unknown CallExpression_unroll",i)}},{key:"getJsAST",value:function r(i){if(this.jsFunctionAST)return this.jsFunctionAST;if(i=i||acorn,i===null)throw"Missing JS to AST parser";var s=i.parse("var "+this.functionName+" = "+this.jsFunctionString+";",{locations:!0});if(s===null)throw"Failed to parse JS code";var o=s.body[0].declarations[0].init;return this.jsFunctionAST=o,o}},{key:"getFunctionString",value:function r(){return this.generate(),this.functionString}},{key:"setFunctionString",value:function r(i){this.functionString=i}},{key:"getParamType",value:function r(i){var s=this.paramNames.indexOf(i);if(s===-1)return this.declarations.hasOwnProperty(i)?this.declarations[i]:"Number";if(this.parent){if(this.paramTypes[s])return this.paramTypes[s];for(var o=this.parent.calledFunctionsArguments[this.functionName],l=0;l<o.length;l++){var d=o[l];if(d[s]!==null)return this.paramTypes[s]=d[s].type}}else if(this.paramTypes[s])return this.paramTypes[s];return"Number"}},{key:"getConstantType",value:function r(i){return this.constantTypes[i]?this.constantTypes[i]:null}},{key:"getUserParamName",value:function r(i){var s=this.paramNames.indexOf(i);if(s===-1||!this.parent||!this.isSubKernel)return null;for(var o=this.parent.calledFunctionsArguments[this.functionName],l=0;l<o.length;l++){var d=o[l],c=d[s];if(c!==null&&c.type!=="Integer")return c.name}return null}},{key:"generate",value:function r(i){throw new Error("generate not defined on BaseFunctionNode")}},{key:"astGeneric",value:function r(i,s){if(i===null)throw this.astErrorOutput("NULL ast",i);if(Array.isArray(i)){for(var o=0;o<i.length;o++)this.astGeneric(i[o],s);return s}switch(i.type){case"FunctionDeclaration":return this.astFunctionDeclaration(i,s);case"FunctionExpression":return this.astFunctionExpression(i,s);case"ReturnStatement":return this.astReturnStatement(i,s);case"Literal":return this.astLiteral(i,s);case"BinaryExpression":return this.astBinaryExpression(i,s);case"Identifier":return this.astIdentifierExpression(i,s);case"AssignmentExpression":return this.astAssignmentExpression(i,s);case"ExpressionStatement":return this.astExpressionStatement(i,s);case"EmptyStatement":return this.astEmptyStatement(i,s);case"BlockStatement":return this.astBlockStatement(i,s);case"IfStatement":return this.astIfStatement(i,s);case"BreakStatement":return this.astBreakStatement(i,s);case"ContinueStatement":return this.astContinueStatement(i,s);case"ForStatement":return this.astForStatement(i,s);case"WhileStatement":return this.astWhileStatement(i,s);case"DoWhileStatement":return this.astDoWhileStatement(i,s);case"VariableDeclaration":return this.astVariableDeclaration(i,s);case"VariableDeclarator":return this.astVariableDeclarator(i,s);case"ThisExpression":return this.astThisExpression(i,s);case"SequenceExpression":return this.astSequenceExpression(i,s);case"UnaryExpression":return this.astUnaryExpression(i,s);case"UpdateExpression":return this.astUpdateExpression(i,s);case"LogicalExpression":return this.astLogicalExpression(i,s);case"MemberExpression":return this.astMemberExpression(i,s);case"CallExpression":return this.astCallExpression(i,s);case"ArrayExpression":return this.astArrayExpression(i,s);case"DebuggerStatement":return this.astDebuggerStatement(i,s)}throw this.astErrorOutput("Unknown ast type : "+i.type,i)}},{key:"astErrorOutput",value:function r(i,s){return console.error(utils.getAstString(this.jsFunctionString,s)),console.error(i,s,this),i}},{key:"astDebuggerStatement",value:function r(i,s){return s}},{key:"astFunctionDeclaration",value:function r(i,s){return s}},{key:"astFunctionExpression",value:function r(i,s){return s}},{key:"astReturnStatement",value:function r(i,s){return s}},{key:"astLiteral",value:function r(i,s){return s}},{key:"astBinaryExpression",value:function r(i,s){return s}},{key:"astIdentifierExpression",value:function r(i,s){return s}},{key:"astAssignmentExpression",value:function r(i,s){return s}},{key:"astExpressionStatement",value:function r(i,s){return s}},{key:"astEmptyStatement",value:function r(i,s){return s}},{key:"astBlockStatement",value:function r(i,s){return s}},{key:"astIfStatement",value:function r(i,s){return s}},{key:"astBreakStatement",value:function r(i,s){return s}},{key:"astContinueStatement",value:function r(i,s){return s}},{key:"astForStatement",value:function r(i,s){return s}},{key:"astWhileStatement",value:function r(i,s){return s}},{key:"astDoWhileStatement",value:function r(i,s){return s}},{key:"astVariableDeclaration",value:function r(i,s){return s}},{key:"astVariableDeclarator",value:function r(i,s){return s}},{key:"astThisExpression",value:function r(i,s){return s}},{key:"astSequenceExpression",value:function r(i,s){return s}},{key:"astUnaryExpression",value:function r(i,s){return s}},{key:"astUpdateExpression",value:function r(i,s){return s}},{key:"astLogicalExpression",value:function r(i,s){return s}},{key:"astMemberExpression",value:function r(i,s){return s}},{key:"astCallExpression",value:function r(i,s){return s}},{key:"astArrayExpression",value:function r(i,s){return s}},{key:"pushParameter",value:function r(i,s){this.isState("in-get-call-parameters")?i.push("int("+s+")"):i.push(s)}},{key:"state",get:function r(){return this.states[this.states.length-1]}}]),BaseFunctionNode}(),functionNodeBase}var functionNode$2,hasRequiredFunctionNode$2;function requireFunctionNode$2(){if(hasRequiredFunctionNode$2)return functionNode$2;hasRequiredFunctionNode$2=1;var r=function(){function m(R,_){for(var b=0;b<_.length;b++){var h=_[b];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(R,h.key,h)}}return function(R,_,b){return _&&m(R.prototype,_),b&&m(R,b),R}}();function i(m,R){if(!(m instanceof R))throw new TypeError("Cannot call a class as a function")}function s(m,R){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:m}function o(m,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);m.prototype=Object.create(R&&R.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(m,R):m.__proto__=R)}var l=requireFunctionNodeBase(),d=requireUtils(),c="Math.",f="this.",g="this.constants.",v=/decode32\(\s+encode32\(/g,p=/encode32\(\s+decode32\(/g,E=function(){};functionNode$2=function(m){o(R,m);function R(){return i(this,R),s(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return r(R,[{key:"generate",value:function(){return this.debug,this.prototypeOnly?this.astFunctionPrototype(this.getJsAST(),[]).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=D(this.functionStringArray.join("").trim()),this.functionString)}},{key:"astFunctionDeclaration",value:function(b,h){return this.builder.addFunction(null,d.getAstString(this.jsFunctionString,b)),h}},{key:"astFunctionPrototype",value:function(b,h){if(this.isRootKernel||this.isSubKernel)return h;var k=this.returnType,M=S[k];if(!M)throw new Error("unknown type "+k);h.push(M),h.push(" "),h.push(this.functionName),h.push("(");for(var z=0;z<this.paramNames.length;++z)z>0&&h.push(", "),h.push(this.paramTypes[z]),h.push(" "),h.push("user_"),h.push(this.paramNames[z]);return h.push(`);
`),h}},{key:"astFunctionExpression",value:function(b,h){if(this.isRootKernel)h.push("void");else{var k=this.returnType,M=S[k];if(!M)throw new Error("unknown type "+k);h.push(M)}if(h.push(" "),h.push(this.functionName),h.push("("),!this.isRootKernel)for(var z=0;z<this.paramNames.length;++z){var Z=this.paramNames[z];z>0&&h.push(", ");var W=this.getParamType(Z),H=S[W];if(!H)throw new Error("unknown type "+W);h.push(H),h.push(" "),h.push("user_"),h.push(Z)}h.push(`) {
`);for(var L=0;L<b.body.body.length;++L)this.astGeneric(b.body.body[L],h),h.push(`
`);return h.push(`}
`),h}},{key:"astReturnStatement",value:function(b,h){return this.isRootKernel?(h.push("kernelResult = "),this.astGeneric(b.argument,h),h.push(";"),h.push("return;")):this.isSubKernel?(h.push(this.functionName+"Result = "),this.astGeneric(b.argument,h),h.push(";"),h.push("return "+this.functionName+"Result;")):(h.push("return "),this.astGeneric(b.argument,h),h.push(";")),h}},{key:"astLiteral",value:function(b,h){if(isNaN(b.value))throw this.astErrorOutput("Non-numeric literal not supported : "+b.value,b);h.push(b.value);var k=this.isState("in-get-call-parameters");return Number.isInteger(b.value)?k||h.push(".0"):k&&(h.pop(),h.push("int("),h.push(b.value),h.push(")")),h}},{key:"astBinaryExpression",value:function(b,h){var k=this.isState("in-get-call-parameters");return k&&(this.pushState("not-in-get-call-parameters"),h.push("int")),h.push("("),b.operator==="%"?(h.push("mod("),this.astGeneric(b.left,h),h.push(","),this.astGeneric(b.right,h),h.push(")")):b.operator==="==="?(this.astGeneric(b.left,h),h.push("=="),this.astGeneric(b.right,h)):b.operator==="!=="?(this.astGeneric(b.left,h),h.push("!="),this.astGeneric(b.right,h)):this.fixIntegerDivisionAccuracy&&b.operator==="/"?(h.push("div_with_int_check("),this.astGeneric(b.left,h),h.push(", "),this.astGeneric(b.right,h),h.push(")")):(this.astGeneric(b.left,h),h.push(b.operator),this.astGeneric(b.right,h)),h.push(")"),k&&this.popState("not-in-get-call-parameters"),h}},{key:"astIdentifierExpression",value:function(b,h){if(b.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",b);var k=!this.isState("in-get-call-parameters");switch(b.name){case"gpu_threadX":k&&h.push("float("),h.push("threadId.x"),k&&h.push(")");break;case"gpu_threadY":k&&h.push("float("),h.push("threadId.y"),k&&h.push(")");break;case"gpu_threadZ":k&&h.push("float("),h.push("threadId.z"),k&&h.push(")");break;case"gpu_outputX":h.push("uOutputDim.x");break;case"gpu_outputY":h.push("uOutputDim.y");break;case"gpu_outputZ":h.push("uOutputDim.z");break;case"Infinity":h.push("3.402823466e+38");break;default:var M=this.getUserParamName(b.name);M!==null?this.pushParameter(h,"user_"+M):this.pushParameter(h,"user_"+b.name)}return h}},{key:"astForStatement",value:function(b,h){if(b.type!=="ForStatement")throw this.astErrorOutput("Invalid for statment",b);if(b.test&&b.test.type==="BinaryExpression")if(b.test.right.type==="Identifier"&&b.test.operator==="<"&&this.isIdentifierConstant(b.test.right.name)===!1){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),h.push("for ("),this.astGeneric(b.init,h),this.astGeneric(b.test.left,h),h.push(b.test.operator),h.push("LOOP_MAX"),h.push(";"),this.astGeneric(b.update,h),h.push(")"),h.push(`{
`),h.push("if ("),this.astGeneric(b.test.left,h),h.push(b.test.operator),this.astGeneric(b.test.right,h),h.push(`) {
`),b.body.type==="BlockStatement")for(var k=0;k<b.body.body.length;k++)this.astGeneric(b.body.body[k],h);else this.astGeneric(b.body,h);return h.push(`
} else {
`),h.push(`break;
`),h.push(`}
`),h.push(`}
`),h}else{var M=JSON.parse(JSON.stringify(b.init.declarations)),z=b.update.argument;if(!Array.isArray(M)||M.length<1)throw E(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(M.length>1){for(var Z=null,W=0;W<M.length;W++){var H=M[W];H.id.name===z.name?(Z=H,M.splice(W,1)):(h.push("float "),this.astGeneric(H,h),h.push(";"))}h.push("for (float "),this.astGeneric(Z,h),h.push(";")}else h.push("for ("),this.astGeneric(b.init,h);return this.astGeneric(b.test,h),h.push(";"),this.astGeneric(b.update,h),h.push(")"),this.astGeneric(b.body,h),h}throw this.astErrorOutput("Invalid for statement",b)}},{key:"astWhileStatement",value:function(b,h){if(b.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statment",b);return h.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),h.push("if ("),this.astGeneric(b.test,h),h.push(`) {
`),this.astGeneric(b.body,h),h.push(`} else {
`),h.push(`break;
`),h.push(`}
`),h.push(`}
`),h}},{key:"astDoWhileStatement",value:function(b,h){if(b.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statment",b);return h.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),this.astGeneric(b.body,h),h.push("if (!"),this.astGeneric(b.test,h),h.push(`) {
`),h.push(`break;
`),h.push(`}
`),h.push(`}
`),h}},{key:"astAssignmentExpression",value:function(b,h){if(b.operator==="%=")this.astGeneric(b.left,h),h.push("="),h.push("mod("),this.astGeneric(b.left,h),h.push(","),this.astGeneric(b.right,h),h.push(")");else return this.astGeneric(b.left,h),h.push(b.operator),this.astGeneric(b.right,h),h}},{key:"astEmptyStatement",value:function(b,h){return h}},{key:"astBlockStatement",value:function(b,h){h.push(`{
`);for(var k=0;k<b.body.length;k++)this.astGeneric(b.body[k],h);return h.push(`}
`),h}},{key:"astExpressionStatement",value:function(b,h){return this.astGeneric(b.expression,h),h.push(";"),h}},{key:"astVariableDeclaration",value:function(b,h){for(var k=0;k<b.declarations.length;k++){var M=b.declarations[k];k>0&&h.push(",");var z=[];this.astGeneric(M,z);var Z="Number";if(k===0){var W=M.init;if(W){if(W.object){if(W.object.type==="MemberExpression"&&W.object.object){if(W.object.object.type==="ThisExpression"&&W.object.property&&(W.object.property.name==="thread"||W.object.property.name==="output"))Z="Integer";else if(W.object.object.type==="Identifier"){var H=this.getParamType(W.object.object.name);Z=w[H]}else if(W.object.object.object&&W.object.object.object.type==="Identifier"){var L=this.getParamType(W.object.object.object.name);Z=w[L]}else if(W.object.object.object&&W.object.object.object.object&&W.object.object.object.object.type==="ThisExpression"&&W.object.object.object.property.name==="constants"){var A=this.getConstantType(W.object.object.property.name);Z=w[A]}else if(W.object.object.object&&W.object.object.object.object&&W.object.object.object.object.object&&W.object.object.object.object.object.type==="ThisExpression"&&W.object.object.object.object.property.name==="constants"){var N=this.getConstantType(W.object.object.object.property.name);Z=w[N]}}if(!Z)throw new Error("unknown lookup type "+w)}else if(W.name&&this.declarations[W.name])Z=this.declarations[W.name];else if(W.type==="ArrayExpression")Z="Array("+W.elements.length+")";else if(W.type==="CallExpression"){var j=this.builder.nodeMap[W.callee.name];j&&j.returnType&&(Z=j.returnType)}}var q=S[Z];if(!q)throw new Error("type "+Z+" not handled");h.push(q+" ")}this.declarations[M.id.name]=Z,h.push.apply(h,z)}return h.push(";"),h}},{key:"astVariableDeclarator",value:function(b,h){return this.astGeneric(b.id,h),b.init!==null&&(h.push("="),this.astGeneric(b.init,h)),h}},{key:"astIfStatement",value:function(b,h){return h.push("if ("),this.astGeneric(b.test,h),h.push(")"),b.consequent.type==="BlockStatement"?this.astGeneric(b.consequent,h):(h.push(` {
`),this.astGeneric(b.consequent,h),h.push(`
}
`)),b.alternate&&(h.push("else "),b.alternate.type==="BlockStatement"?this.astGeneric(b.alternate,h):(h.push(` {
`),this.astGeneric(b.alternate,h),h.push(`
}
`))),h}},{key:"astBreakStatement",value:function(b,h){return h.push(`break;
`),h}},{key:"astContinueStatement",value:function(b,h){return h.push(`continue;
`),h}},{key:"astLogicalExpression",value:function(b,h){return h.push("("),this.astGeneric(b.left,h),h.push(b.operator),this.astGeneric(b.right,h),h.push(")"),h}},{key:"astUpdateExpression",value:function(b,h){return b.prefix?(h.push(b.operator),this.astGeneric(b.argument,h)):(this.astGeneric(b.argument,h),h.push(b.operator)),h}},{key:"astUnaryExpression",value:function(b,h){return b.prefix?(h.push(b.operator),this.astGeneric(b.argument,h)):(this.astGeneric(b.argument,h),h.push(b.operator)),h}},{key:"astThisExpression",value:function(b,h){return h.push("this"),h}},{key:"astMemberExpression",value:function(b,h){if(E("[in] astMemberExpression "+b.object.type),b.computed)if(b.object.type==="Identifier"||b.object.type==="MemberExpression"&&b.object.object.object&&b.object.object.object.type==="ThisExpression"&&b.object.object.property.name==="constants"){var k=b.object.name;this.functionName;var M=!1;if(this.paramNames){var z=this.paramNames.indexOf(k);z>=0&&this.paramTypes[z]==="Number"&&(M=!0)}if(M)this.astGeneric(b.object,h),h.push("[int("),this.astGeneric(b.property,h),h.push(")]");else{var Z=this.isState("in-get-call-parameters"),W=this.isState("multi-member-expression");W&&this.popState("multi-member-expression"),this.pushState("not-in-get-call-parameters");var H=null;switch(b.object.name?this.declarations[b.object.name]?H=this.declarations[b.object.name]:H=this.getParamType(b.object.name):b.object&&b.object.object&&b.object.object.object&&b.object.object.object.type==="ThisExpression"&&(H=this.getConstantType(b.object.property.name)),H){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(b.object,h),h.push("["),h.push(b.property.raw),h.push("]"),W&&this.popState("not-in-get-call-parameters");break;case"HTMLImageArray":h.push("getImage3D("),this.astGeneric(b.object,h),h.push(", ivec2("),this.astGeneric(b.object,h),h.push("Size[0],"),this.astGeneric(b.object,h),h.push("Size[1]), ivec3("),this.astGeneric(b.object,h),h.push("Dim[0],"),this.astGeneric(b.object,h),h.push("Dim[1],"),this.astGeneric(b.object,h),h.push("Dim[2]"),h.push("), "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(b.property,h),W||this.popState("in-get-call-parameters"),h.push(")");break;case"ArrayTexture(4)":case"HTMLImage":h.push("getImage2D("),this.astGeneric(b.object,h),h.push(", ivec2("),this.astGeneric(b.object,h),h.push("Size[0],"),this.astGeneric(b.object,h),h.push("Size[1]), ivec3("),this.astGeneric(b.object,h),h.push("Dim[0],"),this.astGeneric(b.object,h),h.push("Dim[1],"),this.astGeneric(b.object,h),h.push("Dim[2]"),h.push("), "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(b.property,h),W||this.popState("in-get-call-parameters"),h.push(")");break;default:Z&&h.push("int("),h.push("get("),this.astGeneric(b.object,h),h.push(", ivec2("),this.astGeneric(b.object,h),h.push("Size[0],"),this.astGeneric(b.object,h),h.push("Size[1]), ivec3("),this.astGeneric(b.object,h),h.push("Dim[0],"),this.astGeneric(b.object,h),h.push("Dim[1],"),this.astGeneric(b.object,h),h.push("Dim[2]"),h.push("), "),this.astGeneric(b.object,h),h.push("BitRatio"),h.push(", "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(b.property,h),W||this.popState("in-get-call-parameters"),h.push(")"),Z&&h.push(")");break}}}else{E("- astMemberExpression obj:",b.object),this.states.length;var L=this.isState("in-get-call-parameters");L||this.pushState("multi-member-expression"),this.astGeneric(b.object,h),this.isState("multi-member-expression")&&this.popState("multi-member-expression");var A=!L&&this.isState("in-get-call-parameters"),N=h.pop();h.push(","),E("- astMemberExpression prop:",b.property);var j=this.isState("should-pop-in-get-call-parameters");j&&this.popState("should-pop-in-get-call-parameters"),this.astGeneric(b.property,h),h.push(N),A?this.pushState("should-pop-in-get-call-parameters"):j&&this.popState("in-get-call-parameters")}else{var q=this.astMemberExpressionUnroll(b),K=q.toLowerCase();q.indexOf(g)===0&&(q="constants_"+q.slice(g.length));var V=!this.isState("in-get-call-parameters");switch(K){case"this.thread.x":V&&h.push("float("),h.push("threadId.x"),V&&h.push(")");break;case"this.thread.y":V&&h.push("float("),h.push("threadId.y"),V&&h.push(")");break;case"this.thread.z":V&&h.push("float("),h.push("threadId.z"),V&&h.push(")");break;case"this.output.x":h.push(this.output[0]+".0");break;case"this.output.y":h.push(this.output[1]+".0");break;case"this.output.z":h.push(this.output[2]+".0");break;default:b.object&&b.object.name&&this.declarations[b.object.name]&&h.push("user_"),h.push(q)}}return E("[out] astMemberExpression "+b.object.type),h}},{key:"astSequenceExpression",value:function(b,h){for(var k=0;k<b.expressions.length;k++)k>0&&h.push(","),this.astGeneric(b.expressions,h);return h}},{key:"astCallExpression",value:function(b,h){if(b.callee){var k=this.astMemberExpressionUnroll(b.callee);k.indexOf(c)===0&&(k=k.slice(c.length)),k.indexOf(f)===0&&(k=k.slice(f.length)),k==="atan2"&&(k="atan"),this.calledFunctions.indexOf(k)<0&&this.calledFunctions.push(k),this.hasOwnProperty("funcName")||(this.calledFunctionsArguments[k]=[]);var M=[];this.calledFunctionsArguments[k].push(M),h.push(k),h.push("(");for(var z=0;z<b.arguments.length;++z){var Z=b.arguments[z];if(z>0&&h.push(", "),this.astGeneric(Z,h),Z.type==="Identifier"){var W=this.paramNames.indexOf(Z.name);W===-1?M.push(null):M.push({name:Z.name,type:this.paramTypes[W]||"Number"})}else M.push(null)}return h.push(")"),h}throw this.astErrorOutput("Unknown CallExpression",b)}},{key:"astArrayExpression",value:function(b,h){var k=b.elements.length;h.push("vec"+k+"(");for(var M=0;M<k;++M){M>0&&h.push(", ");var z=b.elements[M];this.astGeneric(z,h)}return h.push(")"),h}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"build",value:function(){return this.getFunctionPrototypeString().length>0}}]),R}(l);var S={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4",Array2D:"sampler2D",Array3D:"sampler2D",Float:"float",Input:"sampler2D",Integer:"float",Number:"float",NumberTexture:"sampler2D","ArrayTexture(4)":"sampler2D"},w={Array:"Number",Array2D:"Number",Array3D:"Number",HTMLImage:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number","ArrayTexture(4)":"Array(4)"};function D(m){return m.replace(v,"((").replace(p,"((")}return functionNode$2}var functionBuilder$2,hasRequiredFunctionBuilder$2;function requireFunctionBuilder$2(){if(hasRequiredFunctionBuilder$2)return functionBuilder$2;hasRequiredFunctionBuilder$2=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var E=v[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function o(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var l=requireFunctionBuilderBase(),d=requireFunctionNode$2();functionBuilder$2=function(f){o(g,f);function g(){i(this,g);var v=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return v.Node=d,v}return r(g,[{key:"polyfillStandardFunctions",value:function(){this.addFunction("round",c)}}],[{key:"round",value:function(p){return c(p)}}]),g}(l);function c(f){return Math.floor(f+.5)}return functionBuilder$2}var runner$2,hasRequiredRunner$2;function requireRunner$2(){if(hasRequiredRunner$2)return runner$2;hasRequiredRunner$2=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var E=v[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function o(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var l=requireRunnerBase(),d=requireKernel$2(),c=requireFunctionBuilder$2();return runner$2=function(f){o(g,f);function g(v){i(this,g);var p=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,new c,v));return p.Kernel=d,p.kernel=null,p}return r(g,[{key:"getMode",value:function(){return"gpu"}}]),g}(l),runner$2}var functionNode$1,hasRequiredFunctionNode$1;function requireFunctionNode$1(){if(hasRequiredFunctionNode$1)return functionNode$1;hasRequiredFunctionNode$1=1;var r=function(){function g(v,p){for(var E=0;E<p.length;E++){var S=p[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,p,E){return p&&g(v.prototype,p),E&&g(v,E),v}}();function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function o(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var l=requireFunctionNode$2(),d=/decode32\(\s+encode32\(/g,c=/encode32\(\s+decode32\(/g;functionNode$1=function(g){o(v,g);function v(){return i(this,v),s(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return r(v,[{key:"generate",value:function(){return this.debug&&console.log(this),this.prototypeOnly?this.astFunctionPrototype(this.getJsAST(),[]).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=f(this.functionStringArray.join("").trim()),this.functionString)}},{key:"astIdentifierExpression",value:function(E,S){if(E.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",E);var w=!this.isState("in-get-call-parameters");switch(E.name){case"gpu_threadX":w&&S.push("float("),S.push("threadId.x"),w&&S.push(")");break;case"gpu_threadY":w&&S.push("float("),S.push("threadId.y"),w&&S.push(")");break;case"gpu_threadZ":w&&S.push("float("),S.push("threadId.z"),w&&S.push(")");break;case"gpu_outputX":S.push("uOutputDim.x");break;case"gpu_outputY":S.push("uOutputDim.y");break;case"gpu_outputZ":S.push("uOutputDim.z");break;case"Infinity":S.push("intBitsToFloat(2139095039)");break;default:var D=this.getUserParamName(E.name);D!==null?this.pushParameter(S,"user_"+D):this.pushParameter(S,"user_"+E.name)}return S}}]),v}(l);function f(g){return g.replace(d,"((").replace(c,"((")}return functionNode$1}var functionBuilder$1,hasRequiredFunctionBuilder$1;function requireFunctionBuilder$1(){if(hasRequiredFunctionBuilder$1)return functionBuilder$1;hasRequiredFunctionBuilder$1=1;function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function s(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var o=requireFunctionBuilderBase(),l=requireFunctionNode$1();return functionBuilder$1=function(d){s(c,d);function c(){r(this,c);var f=i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.Node=l,f}return c}(o),functionBuilder$1}var shaderFrag,hasRequiredShaderFrag;function requireShaderFrag(){return hasRequiredShaderFrag||(hasRequiredShaderFrag=1,shaderFrag=`#version 300 es
__HEADER__;
precision highp float;
precision highp int;
precision highp sampler2D;

const float LOOP_MAX = __LOOP_MAX__;

__CONSTANTS__;

in vec2 vTexCoord;

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 rgba) {
  __DECODE32_ENDIANNESS__;
  rgba *= 255.0;
  vec2 gte128;
  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  rgba.b = rgba.b - 128.0 * gte128.x;
  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

vec4 encode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  rgba.rg = integerMod(rgba.rg, 256.0);
  rgba.b = integerMod(rgba.b, 128.0);
  rgba.a = exponent*0.5 + 63.5;
  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  rgba = floor(rgba);
  rgba *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return rgba;
}
// Dragons end here

float decode(vec4 rgba, int x, int bitRatio) {
  if (bitRatio == 1) {
    return decode32(rgba);
  }
  __DECODE32_ENDIANNESS__;
  int channel = integerMod(x, bitRatio);
  if (bitRatio == 4) {
    return rgba[channel] * 255.0;
  }
  else {
    return rgba[channel*2] * 255.0 + rgba[channel*2 + 1] * 65280.0;
  }
}

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio,  int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  vec4 texel = texture(tex, st / vec2(texSize));
  __GET_RESULT__;
  
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int y, int x) {
  return get(tex, texSize, texDim, bitRatio, 0, y, x);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int x) {
  return get(tex, texSize, texDim, bitRatio, 0, 0, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int y, int x) {
  return getImage2D(tex, texSize, texDim, 0, y, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int x) {
  return getImage2D(tex, texSize, texDim, 0, 0, x);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

__MAIN_PARAMS__;
__MAIN_CONSTANTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`),shaderFrag}var shaderVert,hasRequiredShaderVert;function requireShaderVert(){return hasRequiredShaderVert||(hasRequiredShaderVert=1,shaderVert=`#version 300 es
precision highp float;
precision highp int;
precision highp sampler2D;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`),shaderVert}var kernel$1,hasRequiredKernel$1;function requireKernel$1(){if(hasRequiredKernel$1)return kernel$1;hasRequiredKernel$1=1;var r=function(){function v(p,E){for(var S=0;S<E.length;S++){var w=E[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,E,S){return E&&v(p.prototype,E),S&&v(p,S),p}}();function i(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function s(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function o(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var l=requireKernel$2(),d=requireUtils(),c=requireTexture(),f=requireShaderFrag(),g=requireShaderVert();return kernel$1=function(v){o(p,v);function p(){return i(this,p),s(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return r(p,[{key:"initWebGl",value:function(){return d.initWebGl2(this.getCanvas())}},{key:"validateOptions",value:function(){var S=d.isFloatReadPixelsSupportedWebGL2();if(this.floatOutput===!0&&this.floatOutputForce!==!0&&!S)throw new Error("Float texture outputs are not supported on this browser");this.floatTextures===void 0&&(this.floatTextures=!0,this.floatOutput=S);var w=d.hasIntegerDivisionAccuracyBug();if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=w:this.fixIntegerDivisionAccuracy&&!w&&(this.fixIntegerDivisionAccuracy=!1),d.checkOutput(this.output),!this.output||this.output.length===0){if(arguments.length!==1)throw new Error("Auto output only supported for kernels with only one input");var D=d.getArgumentType(arguments[0]);if(D==="Array")this.output=d.getDimensions(D);else if(D==="NumberTexture"||D==="ArrayTexture(4)")this.output=arguments[0].output;else throw new Error("Auto output not supported for input type: "+D)}if(this.texSize=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=d.clone(this.output)}else this.floatOutput===void 0&&(this.floatOutput=!0);(this.floatOutput||this.floatOutputForce)&&this._webGl.getExtension("EXT_color_buffer_float")}},{key:"run",value:function(){this.program===null&&this.build.apply(this,arguments);var S=this.paramNames,w=this.paramTypes,D=this.texSize,m=this._webGl;m.useProgram(this.program),m.scissor(0,0,D[0],D[1]),this.hardcodeConstants||(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",D)),this.setUniform2f("ratio",D[0]/this.maxTexSize[0],D[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var R=0;R<S.length;R++)this._addArgument(arguments[R],w[R],S[R]);if(this.graphical){if(this.outputToTexture)return m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,this.framebuffer),(!this.outputTexture||this.outputImmutable)&&this._setupOutputTexture(),m.drawArrays(m.TRIANGLE_STRIP,0,4),new c(this.outputTexture,D,this.threadDim,this.output,this._webGl,"ArrayTexture(4)");m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,null),m.drawArrays(m.TRIANGLE_STRIP,0,4);return}m.bindFramebuffer(m.FRAMEBUFFER,this.framebuffer),this.outputImmutable&&this._setupOutputTexture();var _=this.outputTexture;if(this.subKernelOutputVariableNames!==null&&(this.outputImmutable&&(this.subKernelOutputTextures=[],this._setupSubOutputTextures(this.subKernelOutputVariableNames.length)),m.drawBuffers(this.drawBuffersMap)),m.drawArrays(m.TRIANGLE_STRIP,0,4),this.subKernelOutputTextures!==null){if(this.subKernels!==null){var b=[];b.result=this.renderOutput(_);for(var h=0;h<this.subKernels.length;h++)b.push(new c(this.subKernelOutputTextures[h],D,this.threadDim,this.output,this._webGl));return b}else if(this.subKernelProperties!==null){var k={result:this.renderOutput(_)},M=0;for(var z in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(z)&&(k[z]=new c(this.subKernelOutputTextures[M],D,this.threadDim,this.output,this._webGl),M++);return k}}return this.renderOutput(_)}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"_setupOutputTexture",value:function(){var S=this._webGl,w=this.texSize,D=this.outputTexture=this._webGl.createTexture();S.activeTexture(S.TEXTURE0+this.constantsLength+this.paramNames.length),S.bindTexture(S.TEXTURE_2D,D),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),this.floatOutput?S.texImage2D(S.TEXTURE_2D,0,S.RGBA32F,w[0],w[1],0,S.RGBA,S.FLOAT,null):S.texImage2D(S.TEXTURE_2D,0,S.RGBA,w[0],w[1],0,S.RGBA,S.UNSIGNED_BYTE,null),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,D,0)}},{key:"_setupSubOutputTextures",value:function(S){for(var w=this._webGl,D=this.texSize,m=this.drawBuffersMap=[w.COLOR_ATTACHMENT0],R=this.subKernelOutputTextures=[],_=0;_<S;_++){var b=this._webGl.createTexture();R.push(b),m.push(w.COLOR_ATTACHMENT0+_+1),w.activeTexture(w.TEXTURE0+this.constantsLength+this.paramNames.length+_),w.bindTexture(w.TEXTURE_2D,b),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),this.floatOutput?w.texImage2D(w.TEXTURE_2D,0,w.RGBA32F,D[0],D[1],0,w.RGBA,w.FLOAT,null):w.texImage2D(w.TEXTURE_2D,0,w.RGBA,D[0],D[1],0,w.RGBA,w.UNSIGNED_BYTE,null),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0+_+1,w.TEXTURE_2D,b,0)}}},{key:"_addArgument",value:function(S,w,D){var m=this._webGl,R=this.getArgumentTexture(D);switch(S instanceof c&&(w=S.type),w){case"Array":{var _=d.getDimensions(S,!0),b=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},_);m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,R),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var h=b[0]*b[1],k=this._formatArrayTransfer(S,h),M=k.valuesFlat,z=k.bitRatio,Z=void 0;this.floatTextures?m.texImage2D(m.TEXTURE_2D,0,m.RGBA32F,b[0],b[1],0,m.RGBA,m.FLOAT,M):(Z=new Uint8Array(M.buffer),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,b[0]/z,b[1],0,m.RGBA,m.UNSIGNED_BYTE,Z)),this.hardcodeConstants||(this.setUniform3iv("user_"+D+"Dim",_),this.setUniform2iv("user_"+D+"Size",b)),this.setUniform1i("user_"+D+"BitRatio",z),this.setUniform1i("user_"+D,this.argumentsLength);break}case"Integer":case"Float":case"Number":{this.setUniform1f("user_"+D,S);break}case"Input":{var W=S,H=W.size,L=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},H);m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,R),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var A=L[0]*L[1],N=this._formatArrayTransfer(S.value,A),j=N.valuesFlat,q=N.bitRatio;if(this.floatTextures)m.texImage2D(m.TEXTURE_2D,0,m.RGBA32F,L[0],L[1],0,m.RGBA,m.FLOAT,inputArray);else{var K=new Uint8Array(j.buffer);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,L[0]/q,L[1],0,m.RGBA,m.UNSIGNED_BYTE,K)}this.hardcodeConstants||(this.setUniform3iv("user_"+D+"Dim",H),this.setUniform2iv("user_"+D+"Size",L)),this.setUniform1i("user_"+D+"BitRatio",q),this.setUniform1i("user_"+D,this.argumentsLength);break}case"HTMLImage":{var V=S,G=[V.width,V.height,1],te=[V.width,V.height];m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,R),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var ue=0,B=m.RGBA,ee=m.RGBA,oe=m.UNSIGNED_BYTE;m.texImage2D(m.TEXTURE_2D,ue,B,ee,oe,V),this.setUniform3iv("user_"+D+"Dim",G),this.setUniform2iv("user_"+D+"Size",te),this.setUniform1i("user_"+D,this.argumentsLength);break}case"HTMLImageArray":{var ae=S,ce=[ae[0].width,ae[0].height,ae.length],xe=[ae[0].width,ae[0].height];m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D_ARRAY,R),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MIN_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var X=0,Y=m.RGBA,Q=ae[0].width,J=ae[0].height,de=ae.length,P=0,F=m.RGBA,pe=m.UNSIGNED_BYTE;m.texImage3D(m.TEXTURE_2D_ARRAY,X,Y,Q,J,de,P,F,pe,null);for(var be=0;be<ae.length;be++){var Me=0,Ee=0,Oe=1;m.texSubImage3D(m.TEXTURE_2D_ARRAY,X,Me,Ee,be,ae[be].width,ae[be].height,Oe,F,pe,ae[be])}this.setUniform3iv("user_"+D+"Dim",ce),this.setUniform2iv("user_"+D+"Size",xe),this.setUniform1i("user_"+D,this.argumentsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var Ie=S,We=Ie.dimensions,Ve=Ie.size;m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,Ie.texture),this.setUniform3iv("user_"+D+"Dim",We),this.setUniform2iv("user_"+D+"Size",Ve),this.setUniform1i("user_"+D+"BitRatio",1),this.setUniform1i("user_"+D,this.argumentsLength);break}default:throw new Error("Input type not supported (WebGL): "+S)}this.argumentsLength++}},{key:"_getMainConstantsString",value:function(){var S=[];if(this.constants){for(var w in this.constants)if(this.constants.hasOwnProperty(w)){var D=this.constants[w],m=d.getArgumentType(D);switch(m){case"Integer":S.push("const float constants_"+w+" = "+parseInt(D)+".0");break;case"Float":S.push("const float constants_"+w+" = "+parseFloat(D));break;case"Array":case"Input":case"HTMLImage":case"ArrayTexture(4)":case"NumberTexture":S.push("uniform highp sampler2D constants_"+w,"uniform highp ivec2 constants_"+w+"Size","uniform highp ivec3 constants_"+w+"Dim","uniform highp int constants_"+w+"BitRatio");break;case"HTMLImageArray":S.push("uniform highp sampler2DArray constants_"+w,"uniform highp ivec2 constants_"+w+"Size","uniform highp ivec3 constants_"+w+"Dim","uniform highp int constants_"+w+"BitRatio");break;default:throw new Error("Unsupported constant "+w+" type "+m)}}}return this._linesToString(S)}},{key:"_addConstant",value:function(S,w,D){var m=this._webGl,R=this.getArgumentTexture(D);switch(S instanceof c&&(w=S.type),w){case"Array":{var _=d.getDimensions(S,!0),b=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},_);m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,R),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var h=b[0]*b[1],k=this._formatArrayTransfer(S,h),M=k.valuesFlat,z=k.bitRatio,Z=void 0;this.floatTextures?m.texImage2D(m.TEXTURE_2D,0,m.RGBA,b[0],b[1],0,m.RGBA,m.FLOAT,M):(Z=new Uint8Array(M.buffer),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,b[0]/z,b[1],0,m.RGBA,m.UNSIGNED_BYTE,Z)),this.hardcodeConstants||(this.setUniform3iv("constants_"+D+"Dim",_),this.setUniform2iv("constants_"+D+"Size",b)),this.setUniform1i("constants_"+D+"BitRatio",z),this.setUniform1i("constants_"+D,this.constantsLength);break}case"Input":{var W=S,H=W.size,L=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},H);m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,R),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var A=L[0]*L[1],N=this._formatArrayTransfer(S.value,A),j=N.valuesFlat,q=N.bitRatio;if(this.floatTextures)m.texImage2D(m.TEXTURE_2D,0,m.RGBA32F,L[0],L[1],0,m.RGBA,m.FLOAT,inputArray);else{var K=new Uint8Array(j.buffer);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,L[0]/q,L[1],0,m.RGBA,m.UNSIGNED_BYTE,K)}this.hardcodeConstants||(this.setUniform3iv("constants_"+D+"Dim",H),this.setUniform2iv("constants_"+D+"Size",L)),this.setUniform1i("constants_"+D+"BitRatio",q),this.setUniform1i("constants_"+D,this.constantsLength);break}case"HTMLImage":{var V=S,G=[V.width,V.height,1],te=[V.width,V.height];m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,R),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var ue=0,B=m.RGBA,ee=m.RGBA,oe=m.UNSIGNED_BYTE;m.texImage2D(m.TEXTURE_2D,ue,B,ee,oe,V),this.setUniform3iv("constants_"+D+"Dim",G),this.setUniform2iv("constants_"+D+"Size",te),this.setUniform1i("constants_"+D,this.constantsLength);break}case"HTMLImageArray":{var ae=S,ce=[ae[0].width,ae[0].height,ae.length],xe=[ae[0].width,ae[0].height];m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D_ARRAY,R),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MIN_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var X=0,Y=m.RGBA,Q=ae[0].width,J=ae[0].height,de=ae.length,P=0,F=m.RGBA,pe=m.UNSIGNED_BYTE;m.texImage3D(m.TEXTURE_2D_ARRAY,X,Y,Q,J,de,P,F,pe,null);for(var be=0;be<ae.length;be++){var Me=0,Ee=0,Oe=1;m.texSubImage3D(m.TEXTURE_2D_ARRAY,X,Me,Ee,be,ae[be].width,ae[be].height,Oe,F,pe,ae[be])}this.setUniform3iv("constants_"+D+"Dim",ce),this.setUniform2iv("constants_"+D+"Size",xe),this.setUniform1i("constants_"+D,this.constantsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var Ie=S,We=Ie.dimensions,Ve=Ie.size;m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,Ie.texture),this.setUniform3iv("constants_"+D+"Dim",We),this.setUniform2iv("constants_"+D+"Size",Ve),this.setUniform1i("constants_"+D+"BitRatio",1),this.setUniform1i("constants_"+D,this.constantsLength);break}case"Integer":case"Float":default:throw new Error("Input type not supported (WebGL): "+S)}}},{key:"_getGetResultString",value:function(){return this.floatTextures?"  return texel[channel];":"  return decode(texel, x, bitRatio);"}},{key:"_getHeaderString",value:function(){return""}},{key:"_getTextureCoordinate",value:function(){var S=this.subKernelOutputVariableNames;return S===null||S.length<1?`in highp vec2 vTexCoord;
`:`out highp vec2 vTexCoord;
`}},{key:"_getMainParamsString",value:function(S){for(var w=[],D=this.paramTypes,m=this.paramNames,R=0;R<m.length;R++){var _=S[R],b=m[R],h=D[R];if(this.hardcodeConstants)if(h==="Array"||h==="NumberTexture"||h==="ArrayTexture(4)"){var k=d.getDimensions(_,!0),M=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},k);w.push("uniform highp sampler2D user_"+b,"highp ivec2 user_"+b+"Size = ivec2("+M[0]+", "+M[1]+")","highp ivec3 user_"+b+"Dim = ivec3("+k[0]+", "+k[1]+", "+k[2]+")","uniform highp int user_"+b+"BitRatio")}else h==="Integer"?w.push("highp float user_"+b+" = "+_+".0"):h==="Float"&&w.push("highp float user_"+b+" = "+_);else h==="Array"||h==="NumberTexture"||h==="ArrayTexture(4)"||h==="Input"||h==="HTMLImage"?(w.push("uniform highp sampler2D user_"+b,"uniform highp ivec2 user_"+b+"Size","uniform highp ivec3 user_"+b+"Dim"),h!=="HTMLImage"&&w.push("uniform highp int user_"+b+"BitRatio")):h==="HTMLImageArray"?w.push("uniform highp sampler2DArray user_"+b,"uniform highp ivec2 user_"+b+"Size","uniform highp ivec3 user_"+b+"Dim"):(h==="Integer"||h==="Float")&&w.push("uniform float user_"+b)}return this._linesToString(w)}},{key:"_getKernelString",value:function(){var S=[],w=this.subKernelOutputVariableNames;if(w!==null){S.push("float kernelResult = 0.0"),S.push("layout(location = 0) out vec4 data0");for(var D=0;D<w.length;D++)S.push("float "+w[D]+" = 0.0","layout(location = "+(D+1)+") out vec4 data"+(D+1))}else S.push("out vec4 data0"),S.push("float kernelResult = 0.0");return this._linesToString(S)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var S=this.subKernelOutputVariableNames,w=[];if(this.floatOutput&&w.push("  index *= 4"),this.graphical)w.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor");else if(this.floatOutput)for(var D=["r","g","b","a"],m=0;m<D.length;++m){if(w.push("  threadId = indexTo3D(index, uOutputDim)"),w.push("  kernel()"),S){w.push("  data0."+D[m]+" = kernelResult");for(var R=0;R<S.length;++R)w.push("  data"+(R+1)+"."+D[m]+" = "+S[R])}else w.push("  data0."+D[m]+" = kernelResult");m<D.length-1&&w.push("  index += 1")}else if(S!==null){w.push("  threadId = indexTo3D(index, uOutputDim)"),w.push("  kernel()"),w.push("  data0 = encode32(kernelResult)");for(var _=0;_<S.length;_++)w.push("  data"+(_+1)+" = encode32("+S[_]+")")}else w.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = encode32(kernelResult)");return this._linesToString(w)}},{key:"_addKernels",value:function(){var S=this,w=this.functionBuilder;this._webGl,w.addFunctions(this.functions,{constants:this.constants,output:this.output}),w.addNativeFunctions(this.nativeFunctions),w.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,constantTypes:this.constantTypes,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernels!==null?(this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],this.subKernels.forEach(function(D){return S._addSubKernel(D)})):this.subKernelProperties!==null&&(this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],Object.keys(this.subKernelProperties).forEach(function(D){return S._addSubKernel(S.subKernelProperties[D])}))}},{key:"_getFragShaderString",value:function(S){return this.compiledFragShaderString!==null?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(this.constructor.fragShaderString,this._getFragShaderArtifactMap(S))}},{key:"_getVertShaderString",value:function(S){return this.compiledVertShaderString!==null?this.compiledVertShaderString:this.compiledVertShaderString=this.constructor.vertShaderString}}],[{key:"fragShaderString",get:function(){return f}},{key:"vertShaderString",get:function(){return g}}]),p}(l),kernel$1}var runner$1,hasRequiredRunner$1;function requireRunner$1(){if(hasRequiredRunner$1)return runner$1;hasRequiredRunner$1=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var E=v[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function o(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var l=requireRunnerBase(),d=requireFunctionBuilder$1(),c=requireKernel$1();return runner$1=function(f){o(g,f);function g(v){i(this,g);var p=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,new d,v));return p.Kernel=c,p.kernel=null,p}return r(g,[{key:"getMode",value:function(){return"gpu"}}]),g}(l),runner$1}var kernelString,hasRequiredKernelString;function requireKernelString(){if(hasRequiredKernelString)return kernelString;hasRequiredKernelString=1;var r=requireUtils(),i=requireKernelRunShortcut();function s(l){return/^function /.test(l)&&(l=l.substring(9)),l.replace(/[_]typeof/g,"typeof")}function o(l){return l.replace(/[_]typeof/g,"typeof")}return kernelString=function(l,d){return`() => {
    `+i.toString()+`;
    const utils = {
      allPropertiesOf: `+o(r.allPropertiesOf.toString())+`,
      clone: `+o(r.clone.toString())+`,
      checkOutput: `+o(r.checkOutput.toString())+`
    };
    const Utils = utils;
    let Input = function() {};
    class `+(d||"Kernel")+` {
      constructor() {        
        this.argumentsLength = 0;
        this._canvas = null;
        this._webGl = null;
        this.built = false;
        this.program = null;
        this.paramNames = `+JSON.stringify(l.paramNames)+`;
        this.paramTypes = `+JSON.stringify(l.paramTypes)+`;
        this.texSize = `+JSON.stringify(l.texSize)+`;
        this.output = `+JSON.stringify(l.output)+";\n        this._kernelString = `"+l._kernelString+"`;\n        this.output = "+JSON.stringify(l.output)+`;
		    this.run = function() {
          this.run = null;
          this.build();
          return this.run.apply(this, arguments);
        }.bind(this);
        this.thread = {
          x: 0,
          y: 0,
          z: 0
        };
      }
      setCanvas(canvas) { this._canvas = canvas; return this; }
      setWebGl(webGl) { this._webGl = webGl; return this; }
      setInput(Type) { Input = Type; }
      `+s(l.build.toString())+`
      `+s(l.setupParams.toString())+`
      `+s(l.setupConstants.toString())+`
      run () { `+l.kernelString+` }
      getKernelString() { return this._kernelString; }
      `+s(l.validateOptions.toString())+`
    };
    return kernelRunShortcut(new Kernel());
  };`},kernelString}var kernel,hasRequiredKernel;function requireKernel(){if(hasRequiredKernel)return kernel;hasRequiredKernel=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var E=v[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function o(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var l=requireKernelBase(),d=requireUtils(),c=requireKernelString();return kernel=function(f){o(g,f);function g(v,p){i(this,g);var E=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v,p));return E._fn=null,E.run=null,E._canvasCtx=null,E._imageData=null,E._colorData=null,E._kernelString=null,E.thread={x:0,y:0,z:0},E.run=(function(){return this.run=null,this.build.apply(this,arguments),this.run.apply(this,arguments)}).bind(E),E}return r(g,[{key:"validateOptions",value:function(){if(!this.output||this.output.length===0){if(arguments.length!==1)throw"Auto dimensions only supported for kernels with only one input";var p=d.getArgumentType(arguments[0]);if(p==="Array")this.output=d.getDimensions(p);else if(p==="NumberTexture"||p==="ArrayTexture(4)")this.output=arguments[0].output;else throw"Auto dimensions not supported for input type: "+p}d.checkOutput(this.output)}},{key:"build",value:function(){this.setupConstants(),this.setupParams(arguments),this.validateOptions();var p=this._canvas;p&&(this._canvasCtx=p.getContext("2d"));for(var E=this.threadDim=d.clone(this.output);E.length<3;)E.push(1);if(this.graphical){var S=this._canvas;if(!S)throw new Error("no canvas available for using graphical output");S.width=E[0],S.height=E[1],this._imageData=this._canvasCtx.createImageData(E[0],E[1]),this._colorData=new Uint8ClampedArray(E[0]*E[1]*4)}var w=this.getKernelString();this.debug&&(console.log("Options:"),console.dir(this),console.log("Function output:"),console.log(w)),this.kernelString=w,this.run=new Function([],w).bind(this)()}},{key:"color",value:function(p,E,S,w){typeof w>"u"&&(w=1),p=Math.floor(p*255),E=Math.floor(E*255),S=Math.floor(S*255),w=Math.floor(w*255);var D=this.output[0],m=this.output[1],R=this.thread.x,_=m-this.thread.y-1,b=R+_*D;this._colorData[b*4+0]=p,this._colorData[b*4+1]=E,this._colorData[b*4+2]=S,this._colorData[b*4+3]=w}},{key:"getKernelString",value:function(){if(this._kernelString!==null)return this._kernelString;for(var p=this.functionBuilder,E=this.threadDim||(this.threadDim=d.clone(this.output));E.length<3;)E.push(1);if(p.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:E,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,paramSizes:this.paramSizes,constantTypes:this.constantTypes}),p.addFunctions(this.functions,{constants:this.constants,output:E}),p.addNativeFunctions(this.nativeFunctions),this.subKernels!==null){this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[];for(var S=0;S<this.subKernels.length;S++){var w=this.subKernels[S];p.addSubKernel(w,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations}),this.subKernelOutputVariableNames.push(w.name+"Result")}}else if(this.subKernelProperties!==null){this.subKernelOutputVariableNames=[];for(var D in this.subKernelProperties)if(this.subKernelProperties.hasOwnProperty(D)){var m=this.subKernelProperties[D];p.addSubKernel(m),this.subKernelOutputVariableNames.push(m.name+"Result")}}var R=p.getPrototypes("kernel"),_=null;R.length>1?R=R.filter(function(h){return/^function/.test(h)?h:(_=h,!1)}):_=R.shift();var b=this._kernelString=`
		var LOOP_MAX = `+this._getLoopMaxString()+`
		var constants = this.constants;
		var _this = this;
    return function (`+this.paramNames.map(function(h){return"user_"+h}).join(", ")+`) {
      `+this._processConstants()+`
      `+this._processParams()+`
      `+this._kernelLoop(_)+`
      if (this.graphical) {
        this._imageData.data.set(this._colorData);
        this._canvasCtx.putImageData(this._imageData, 0, 0);
        return;
      }
      `+this._kernelOutput()+`
      `+(R.length>0?R.join(`
`):"")+`
    }.bind(this);`;return b}},{key:"toString",value:function(){return c(this)}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+`;
`:` 1000;
`}},{key:"_processConstants",value:function(){if(!this.constants)return"";var p=[];for(var E in this.constants){var S=this.constantTypes[E];switch(S){case"HTMLImage":p.push("  var constants_"+E+" = this._imageTo2DArray(this.constants."+E+")");break;case"HTMLImageArray":p.push("  var constants_"+E+" = this._imageTo3DArray(this.constants."+E+")");break;case"Input":p.push("  var constants_"+E+" = this.constants."+E+".value");break;default:p.push("  var constants_"+E+" = this.constants."+E)}}return p.join(`
`)}},{key:"_processParams",value:function(){for(var p=[],E=0;E<this.paramTypes.length;E++)switch(this.paramTypes[E]){case"HTMLImage":p.push("  user_"+this.paramNames[E]+" = this._imageTo2DArray(user_"+this.paramNames[E]+")");break;case"HTMLImageArray":p.push("  user_"+this.paramNames[E]+" = this._imageTo3DArray(user_"+this.paramNames[E]+")");break;case"Input":p.push("  user_"+this.paramNames[E]+" = user_"+this.paramNames[E]+".value");break}return p.join(`;
`)}},{key:"_imageTo2DArray",value:function(p){var E=this._canvas;E.width<p.width&&(E.width=p.width),E.height<p.height&&(E.height=p.height);var S=this._canvasCtx;S.drawImage(p,0,0,p.width,p.height);for(var w=S.getImageData(0,0,p.width,p.height).data,D=new Array(p.height),m=0,R=p.height-1;R>=0;R--){D[R]=new Array(p.width);for(var _=0;_<p.width;_++){var b=w[m++]/255,h=w[m++]/255,k=w[m++]/255,M=w[m++]/255,z=[b,h,k,M];z.r=b,z.g=h,z.b=k,z.a=M,D[R][_]=z}}return D}},{key:"_imageTo3DArray",value:function(p){for(var E=new Array(p.length),S=0;S<p.length;S++)E[S]=this._imageTo2DArray(p[S]);return E}},{key:"_kernelLoop",value:function(p){switch(this.output.length){case 1:return this._kernel1DLoop(p);case 2:return this._kernel2DLoop(p);case 3:return this._kernel3DLoop(p);default:throw new Error("unsupported size kernel")}}},{key:"_kernel1DLoop",value:function(p){var E=this.threadDim;return`
    var result = new Float32Array(`+E[0]+`);
    `+this._mapSubKernels(function(S){return"var result_"+S+" = new Float32Array("+E[0]+`);
`}).join("")+`
    for (var x = 0; x < `+E[0]+`; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      var kernelResult;
      `+p+`
      result[x] = kernelResult;
      `+this._mapSubKernels(function(S){return"result_"+S+"[x] = "+S+`;
`}).join("")+`
    }`}},{key:"_kernel2DLoop",value:function(p){var E=this.threadDim;return`
    var result = new Array(`+E[1]+`);
    `+this._mapSubKernels(function(S){return"var result_"+S+" = new Array("+E[1]+`);
`}).join("")+`
    for (var y = 0; y < `+E[1]+`; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      var resultX = result[y] = new Float32Array(`+E[0]+`);
      `+this._mapSubKernels(function(S){return"var result_"+S+"X = result_"+S+"[y] = new Float32Array("+E[0]+`);
`}).join("")+`
      for (var x = 0; x < `+E[0]+`; x++) {
      	this.thread.x = x;
        var kernelResult;
        `+p+`
        resultX[x] = kernelResult;
        `+this._mapSubKernels(function(S){return"result_"+S+"X[x] = "+S+`;
`}).join("")+`
      }
    }`}},{key:"_kernel3DLoop",value:function(p){var E=this.threadDim;return`
    var result = new Array(`+E[2]+`);
    `+this._mapSubKernels(function(S){return"var result_"+S+" = new Array("+E[2]+`);
`}).join("")+`
    for (var z = 0; z < `+E[2]+`; z++) {
      this.thread.z = z;
      var resultY = result[z] = new Array(`+E[1]+`);
      `+this._mapSubKernels(function(S){return"var result_"+S+"Y = result_"+S+"[z] = new Array("+E[1]+`);
`}).join("")+`
      for (var y = 0; y < `+E[1]+`; y++) {
        this.thread.y = y;
        var resultX = resultY[y] = new Float32Array(`+E[0]+`);
        `+this._mapSubKernels(function(S){return"var result_"+S+"X = result_"+S+"Y[y] = new Float32Array("+E[0]+`);
`}).join("")+`
        for (var x = 0; x < `+E[0]+`; x++) {
        	this.thread.x = x;
          var kernelResult;
          `+p+`
          resultX[x] = kernelResult;
          `+this._mapSubKernels(function(S){return"result_"+S+"X[x] = "+S+`;
`}).join("")+`
        }
      }
    }`}},{key:"_kernelOutput",value:function(){var p=this;return this.subKernelOutputVariableNames?`return {
      result: result,
      `+Object.keys(this.subKernelProperties||this.subKernelOutputVariableNames).map(function(E,S){return E+": result_"+p.subKernelOutputVariableNames[S]}).join(`,
`)+`
    };`:"return result;"}},{key:"_mapSubKernels",value:function(p){return this.subKernelOutputVariableNames===null?[""]:this.subKernelOutputVariableNames.map(p)}}]),g}(l),kernel}var functionNode,hasRequiredFunctionNode;function requireFunctionNode(){if(hasRequiredFunctionNode)return functionNode;hasRequiredFunctionNode=1;var r=function(){function c(f,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,g,v){return g&&c(f.prototype,g),v&&c(f,v),f}}();function i(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function s(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function o(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var l=requireFunctionNodeBase(),d=requireUtils();return functionNode=function(c){o(f,c);function f(g,v,p){i(this,f);var E=s(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,v,p));return E.paramSizes=p?p.paramSizes:[],E.memberStates=[],E}return r(f,[{key:"pushMemberState",value:function(v){this.memberStates.push(v)}},{key:"popMemberState",value:function(v){if(this.memberState===v)this.memberStates.pop();else throw new Error("Cannot popMemberState "+v+" when in "+this.memberState)}},{key:"generate",value:function(){return this.debug&&console.log(this),this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=this.functionStringArray.join("").trim(),this.functionString}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"astFunctionDeclaration",value:function(v,p){return this.builder.addFunction(null,d.getAstString(this.jsFunctionString,v)),p}},{key:"astFunctionPrototype",value:function(v,p){if(this.isRootKernel||this.isSubKernel)return p;p.push(this.returnType),p.push(" "),p.push(this.functionName),p.push("(");for(var E=0;E<this.paramNames.length;++E)E>0&&p.push(", "),p.push("user_"),p.push(this.paramNames[E]);return p.push(`);
`),p}},{key:"astFunctionExpression",value:function(v,p){if(!this.isRootKernel){p.push("function"),p.push(" "),p.push(this.functionName),p.push("(");for(var E=0;E<this.paramNames.length;++E){var S=this.paramNames[E];E>0&&p.push(", "),p.push("user_"),p.push(S)}p.push(`) {
`)}for(var w=0;w<v.body.body.length;++w)this.astGeneric(v.body.body[w],p),p.push(`
`);return this.isRootKernel||p.push(`}
`),p}},{key:"astReturnStatement",value:function(v,p){return this.isRootKernel?(p.push("kernelResult = "),this.astGeneric(v.argument,p),p.push(";")):this.isSubKernel?(p.push(this.functionName+"Result = "),this.astGeneric(v.argument,p),p.push(";"),p.push("return "+this.functionName+"Result;")):(p.push("return "),this.astGeneric(v.argument,p),p.push(";")),p}},{key:"astLiteral",value:function(v,p){if(isNaN(v.value))throw this.astErrorOutput("Non-numeric literal not supported : "+v.value,v);return p.push(v.value),p}},{key:"astBinaryExpression",value:function(v,p){return p.push("("),this.astGeneric(v.left,p),p.push(v.operator),this.astGeneric(v.right,p),p.push(")"),p}},{key:"astIdentifierExpression",value:function(v,p){if(v.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",v);switch(this.state){case"input-index-y":case"input-index-z":p.push("(")}switch(v.name){case"gpu_threadX":p.push("threadId.x");break;case"gpu_threadY":p.push("threadId.y");break;case"gpu_threadZ":p.push("threadId.z");break;case"gpu_outputX":p.push("uOutputDim.x");break;case"gpu_outputY":p.push("uOutputDim.y");break;case"gpu_outputZ":p.push("uOutputDim.z");break;case"Infinity":p.push("Infinity");break;default:if(this.constants&&this.constants.hasOwnProperty(v.name))p.push("constants_"+v.name);else{var E=this.getUserParamName(v.name);E!==null?p.push("user_"+E):p.push("user_"+v.name)}}switch(this.state){case"input-index-y":{var S=this.paramSizes[this.paramNames.indexOf(this.memberState)];p.push(" * "+S[0]+")");break}case"input-index-z":{var w=this.paramSizes[this.paramNames.indexOf(this.memberState)];p.push(" * "+w[0]*w[1]+")");break}}return p}},{key:"astForStatement",value:function(v,p){if(v.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",v);if(v.test&&v.test.type==="BinaryExpression"){if((v.test.right.type==="Identifier"||v.test.right.type==="Literal")&&v.test.operator==="<"&&this.isIdentifierConstant(v.test.right.name)===!1){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),p.push("for ("),this.astGeneric(v.init,p),p[p.length-1]!==";"&&p.push(";"),this.astGeneric(v.test.left,p),p.push(v.test.operator),p.push("LOOP_MAX"),p.push(";"),this.astGeneric(v.update,p),p.push(")"),p.push(`{
`),p.push("if ("),this.astGeneric(v.test.left,p),p.push(v.test.operator),this.astGeneric(v.test.right,p),p.push(`) {
`),v.body.type==="BlockStatement")for(var E=0;E<v.body.body.length;E++)this.astGeneric(v.body.body[E],p);else this.astGeneric(v.body,p);return p.push(`} else {
`),p.push(`break;
`),p.push(`}
`),p.push(`}
`),p}else if(v.init.declarations){var S=JSON.parse(JSON.stringify(v.init.declarations)),w=v.update.argument;if(!Array.isArray(S)||S.length<1)throw console.log(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(S.length>1){for(var D=null,m=0;m<S.length;m++){var R=S[m];R.id.name===w.name?(D=R,S.splice(m,1)):(p.push("var "),this.astGeneric(R,p),p.push(";"))}p.push("for (let "),this.astGeneric(D,p),p.push(";")}else p.push("for ("),this.astGeneric(v.init,p);return this.astGeneric(v.test,p),p.push(";"),this.astGeneric(v.update,p),p.push(")"),this.astGeneric(v.body,p),p}}throw this.astErrorOutput("Invalid for statement",v)}},{key:"astWhileStatement",value:function(v,p){if(v.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",v);return p.push("for (let i = 0; i < LOOP_MAX; i++) {"),p.push("if ("),this.astGeneric(v.test,p),p.push(`) {
`),this.astGeneric(v.body,p),p.push(`} else {
`),p.push(`break;
`),p.push(`}
`),p.push(`}
`),p}},{key:"astDoWhileStatement",value:function(v,p){if(v.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",v);return p.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(v.body,p),p.push("if (!"),this.astGeneric(v.test,p),p.push(`) {
`),p.push(`break;
`),p.push(`}
`),p.push(`}
`),p}},{key:"astAssignmentExpression",value:function(v,p){return this.astGeneric(v.left,p),p.push(v.operator),this.astGeneric(v.right,p),p}},{key:"astEmptyStatement",value:function(v,p){return p}},{key:"astBlockStatement",value:function(v,p){p.push(`{
`);for(var E=0;E<v.body.length;E++)this.astGeneric(v.body[E],p);return p.push(`}
`),p}},{key:"astExpressionStatement",value:function(v,p){return this.astGeneric(v.expression,p),p.push(";"),p}},{key:"astVariableDeclaration",value:function(v,p){p.push("var ");for(var E=0;E<v.declarations.length;E++)this.declarations[v.declarations[E].id.name]="var",E>0&&p.push(","),this.astGeneric(v.declarations[E],p);return p.push(";"),p}},{key:"astVariableDeclarator",value:function(v,p){return this.astGeneric(v.id,p),v.init!==null&&(p.push("="),this.astGeneric(v.init,p)),p}},{key:"astIfStatement",value:function(v,p){return p.push("if ("),this.astGeneric(v.test,p),p.push(")"),v.consequent.type==="BlockStatement"?this.astGeneric(v.consequent,p):(p.push(` {
`),this.astGeneric(v.consequent,p),p.push(`
}
`)),v.alternate&&(p.push("else "),v.alternate.type==="BlockStatement"?this.astGeneric(v.alternate,p):(p.push(` {
`),this.astGeneric(v.alternate,p),p.push(`
}
`))),p}},{key:"astBreakStatement",value:function(v,p){return p.push(`break;
`),p}},{key:"astContinueStatement",value:function(v,p){return p.push(`continue;
`),p}},{key:"astLogicalExpression",value:function(v,p){return p.push("("),this.astGeneric(v.left,p),p.push(v.operator),this.astGeneric(v.right,p),p.push(")"),p}},{key:"astUpdateExpression",value:function(v,p){return v.prefix?(p.push(v.operator),this.astGeneric(v.argument,p)):(this.astGeneric(v.argument,p),p.push(v.operator)),p}},{key:"astUnaryExpression",value:function(v,p){return v.prefix?(p.push(v.operator),this.astGeneric(v.argument,p)):(this.astGeneric(v.argument,p),p.push(v.operator)),p}},{key:"astThisExpression",value:function(v,p){return p.push("_this"),p}},{key:"astMemberExpression",value:function(v,p){if(v.computed)if(v.object.type==="Identifier"||v.object.type==="MemberExpression"&&v.object.object.object&&v.object.object.object.type==="ThisExpression"&&v.object.object.property.name==="constants")this.pushState("identifier"),this.astGeneric(v.object,p),this.popState("identifier"),p.push("["),this.isInput(v.object.name)?this.astGeneric(v.property,p):this.astGeneric(v.property,p),p.push("]");else if(v.object.object)if(v.object.object.object&&this.isInput(v.object.object.object.name)){this.pushMemberState(v.object.object.object.name),this.pushState("input-index-z"),this.astGeneric(v.object,p);var E=p.pop();p.push(" + "),this.popState("input-index-z"),this.pushState("input-index"),this.astGeneric(v.property,p),this.popState("input-index"),p.push(E),this.popMemberState(v.object.object.object.name)}else if(this.isInput(v.object.object.name)){this.pushMemberState(v.object.object.name),this.isState("input-index-z")||this.pushState("input-index-y"),this.astGeneric(v.object,p);var S=p.pop();p.push(" + "),this.isState("input-index-z")||this.popState("input-index-y");var w=this.isState("input-index-z");w?this.pushState("input-index-y"):this.pushState("input-index"),this.astGeneric(v.property,p),w?this.popState("input-index-y"):this.popState("input-index"),p.push(S),this.popMemberState(v.object.object.name)}else{this.astGeneric(v.object,p);var D=p.pop();p.push("]["),this.astGeneric(v.property,p),p.push(D)}else{this.astGeneric(v.object,p);var m=p.pop();p.push("]["),this.astGeneric(v.property,p),p.push(m)}else{var R=this.astMemberExpressionUnroll(v);switch(v.property.type==="Identifier"&&v.computed&&(R="user_"+R),R.indexOf("this.constants")===0?R="constants_"+R.substring(15):R.indexOf("this")===0&&(R="_"+R),this.state){case"input-index-y":case"input-index-z":p.push("(")}switch(R){case"_this.output.x":p.push(this.output[0]);break;case"_this.output.y":p.push(this.output[1]);break;case"_this.output.z":p.push(this.output[2]);break;default:v.object&&v.object.name&&this.declarations[v.object.name]&&p.push("user_"),p.push(R)}switch(this.state){case"input-index-y":{var _=this.paramSizes[this.paramNames.indexOf(this.memberState)];p.push(" * "+_[0]+")");break}case"input-index-z":{var b=this.paramSizes[this.paramNames.indexOf(this.memberState)];p.push(" * "+b[0]*b[1]+")");break}}}return p}},{key:"astSequenceExpression",value:function(v,p){for(var E=0;E<v.expressions.length;E++)E>0&&p.push(","),this.astGeneric(v.expressions,p);return p}},{key:"astCallExpression",value:function(v,p){if(v.callee){var E=this.astMemberExpressionUnroll(v.callee);this.calledFunctions.indexOf(E)<0&&this.calledFunctions.push(E),this.hasOwnProperty("funcName")||(this.calledFunctionsArguments[E]=[]);var S=[];this.calledFunctionsArguments[E].push(S),p.push(E),p.push("(");for(var w=0;w<v.arguments.length;++w){var D=v.arguments[w];if(w>0&&p.push(", "),this.astGeneric(D,p),D.type==="Identifier"){var m=this.paramNames.indexOf(D.name);m===-1?S.push(null):S.push({name:D.name,type:this.paramTypes[m]})}else S.push(null)}return p.push(")"),p}throw this.astErrorOutput("Unknown CallExpression",v)}},{key:"astArrayExpression",value:function(v,p){var E=v.elements.length;p.push("[");for(var S=0;S<E;++S){S>0&&p.push(", ");var w=v.elements[S];this.astGeneric(w,p)}return p.push("]"),p}},{key:"astDebuggerStatement",value:function(v,p){return p.push("debugger;"),p}},{key:"memberState",get:function(){return this.memberStates[this.memberStates.length-1]}}]),f}(l),functionNode}var functionBuilder,hasRequiredFunctionBuilder;function requireFunctionBuilder(){if(hasRequiredFunctionBuilder)return functionBuilder;hasRequiredFunctionBuilder=1;function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function s(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var o=requireFunctionBuilderBase(),l=requireFunctionNode();return functionBuilder=function(d){s(c,d);function c(){r(this,c);var f=i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return f.Node=l,f}return c}(o),functionBuilder}var runner,hasRequiredRunner;function requireRunner(){if(hasRequiredRunner)return runner;hasRequiredRunner=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var E=v[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function o(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}requireUtils();var l=requireRunnerBase(),d=requireKernel(),c=requireFunctionBuilder();return runner=function(f){o(g,f);function g(v){i(this,g);var p=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,new c,v));return p.Kernel=d,p.kernel=null,p}return r(g,[{key:"getMode",value:function(){return"cpu"}}]),g}(l),runner}var validatorKernel$1,hasRequiredValidatorKernel$1;function requireValidatorKernel$1(){if(hasRequiredValidatorKernel$1)return validatorKernel$1;hasRequiredValidatorKernel$1=1;var r=function(){function c(f,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,g,v){return g&&c(f.prototype,g),v&&c(f,v),f}}();function i(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function s(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function o(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var l=requireKernel$2(),d=requireUtils();return validatorKernel$1=function(c){o(f,c);function f(){return i(this,f),s(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return r(f,[{key:"validateOptions",value:function(){this.texSize=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),f}(l),validatorKernel$1}var validatorKernel,hasRequiredValidatorKernel;function requireValidatorKernel(){if(hasRequiredValidatorKernel)return validatorKernel;hasRequiredValidatorKernel=1;var r=function(){function c(f,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,g,v){return g&&c(f.prototype,g),v&&c(f,v),f}}();function i(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function s(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function o(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var l=requireKernel$1(),d=requireUtils();return validatorKernel=function(c){o(f,c);function f(){return i(this,f),s(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return r(f,[{key:"validateOptions",value:function(){this._webGl.getExtension("EXT_color_buffer_float"),this.texSize=d.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),f}(l),validatorKernel}var gpuCore,hasRequiredGpuCore;function requireGpuCore(){if(hasRequiredGpuCore)return gpuCore;hasRequiredGpuCore=1;var r=function(){function s(o,l){for(var d=0;d<l.length;d++){var c=l[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,d){return l&&s(o.prototype,l),d&&s(o,d),o}}();function i(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}return requireUtilsCore(),gpuCore=function(){function s(){i(this,s)}return r(s,null,[{key:"validateKernelObj",value:function(l){if(l===null)throw"KernelObj being validated is NULL";if(typeof l=="string"){try{l=JSON.parse(l)}catch(d){throw console.error(d),"Failed to convert KernelObj from JSON string"}if(l===null)throw"Invalid (NULL) KernelObj JSON string representation"}if(l.isKernelObj!==!0)throw"Failed missing isKernelObj flag check";return l}},{key:"loadKernelObj",value:function(l,d){l=validateKernelObj(l)}}]),s}(),gpuCore}var gpu,hasRequiredGpu;function requireGpu(){if(hasRequiredGpu)return gpu;hasRequiredGpu=1;var r=function(){function S(w,D){for(var m=0;m<D.length;m++){var R=D[m];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,D,m){return D&&S(w.prototype,D),m&&S(w,m),w}}();function i(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function s(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function o(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var l=requireUtils(),d=requireRunner$2(),c=requireRunner$1(),f=requireRunner(),g=requireValidatorKernel$1(),v=requireValidatorKernel(),p=requireGpuCore(),E=function(S){o(w,S);function w(D){i(this,w);var m=s(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,D));D=D||{},m._canvas=D.canvas||null,m._webGl=D.webGl||null;var R=D.mode,_=void 0;if(l.isWebGlSupported())if(m._webGl)if(typeof WebGL2RenderingContext<"u"&&m._webGl.constructor===WebGL2RenderingContext)_="webgl2";else if(typeof WebGLRenderingContext<"u"&&m._webGl.constructor===WebGLRenderingContext)_="webgl";else throw new Error("unknown WebGL Context");else _=R||"gpu";else{if(R&&R!=="cpu")throw new Error('A requested mode of "'+R+'" and is not supported');console.warn("Warning: gpu not supported, falling back to cpu support"),_="cpu"}m.kernels=[];var b={canvas:m._canvas,webGl:m._webGl};switch(_){case"cpu":m._runner=new f(b);break;case"gpu":var h=m.getGPURunner();m._runner=new h(b);break;case"webgl2":m._runner=new c(b);break;case"webgl":m._runner=new d(b);break;case"webgl2-validator":m._runner=new c(b),m._runner.Kernel=v;break;case"webgl-validator":m._runner=new d(b),m._runner.Kernel=g;break;default:throw new Error('"'+R+'" mode is not defined')}return m}return r(w,[{key:"createKernel",value:function(m,R){if(typeof m>"u")throw"Missing fn parameter";if(!l.isFunction(m)&&typeof m!="string")throw"fn parameter not a function";var _=Object.assign({webGl:this._webGl,canvas:this._canvas},R||{}),b=this._runner.buildKernel(m,_);return this._canvas||(this._canvas=b.getCanvas()),this._runner.canvas||(this._runner.canvas=b.getCanvas()),this.kernels.push(b),b}},{key:"createKernelMap",value:function(){var m=void 0,R=void 0;typeof arguments[arguments.length-2]=="function"?(m=arguments[arguments.length-2],R=arguments[arguments.length-1]):m=arguments[arguments.length-1],l.isWebGlDrawBuffersSupported()||(this._runner=new f(R));var _=this.createKernel(m,R);if(Array.isArray(arguments[0]))for(var b=arguments[0],h=0;h<b.length;h++)_.addSubKernel(b[h]);else{var k=arguments[0];for(var M in k)k.hasOwnProperty(M)&&_.addSubKernelProperty(M,k[M])}return _}},{key:"combineKernels",value:function(){var m=arguments[arguments.length-2],R=arguments[arguments.length-1];if(this.getMode()==="cpu")return R;for(var _=arguments[0].getCanvas(),b=arguments[0].getWebGl(),h=0;h<arguments.length-1;h++)arguments[h].setCanvas(_).setWebGl(b).setOutputToTexture(!0);return function(){R.apply(null,arguments);var k=m.texSize,M=m.getWebGl(),z=m.threadDim,Z=void 0;if(m.floatOutput){var W=k[0],H=Math.ceil(k[1]/4);Z=new Float32Array(W*H*4),M.readPixels(0,0,W,H,M.RGBA,M.FLOAT,Z)}else{var L=new Uint8Array(k[0]*k[1]*4);M.readPixels(0,0,k[0],k[1],M.RGBA,M.UNSIGNED_BYTE,L),Z=new Float32Array(L.buffer)}if(Z=Z.subarray(0,z[0]*z[1]*z[2]),m.output.length===1)return Z;if(m.output.length===2)return l.splitArray(Z,m.output[0]);if(m.output.length===3){var A=l.splitArray(Z,m.output[0]*m.output[1]);return A.map(function(N){return l.splitArray(N,m.output[0])})}}}},{key:"getGPURunner",value:function(){if(typeof WebGL2RenderingContext<"u"&&l.isWebGl2Supported())return c;if(typeof WebGLRenderingContext<"u")return d}},{key:"addFunction",value:function(m,R){return this._runner.functionBuilder.addFunction(null,m,R),this}},{key:"addNativeFunction",value:function(m,R){return this._runner.functionBuilder.addNativeFunction(m,R),this}},{key:"getMode",value:function(){return this._runner.getMode()}},{key:"isWebGlSupported",value:function(){return l.isWebGlSupported()}},{key:"hasIntegerDivisionAccuracyBug",value:function(){return l.hasIntegerDivisionAccuracyBug()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"destroy",value:function(){var m=this;setTimeout(function(){for(var R=m.kernels,_=!m._webGl&&R.length&&R[0]._webGl,b=0;b<m.kernels.length;b++)m.kernels[b].destroy(!0);if(_){_.OES_texture_float=null,_.OES_texture_float_linear=null,_.OES_element_index_uint=null;var h=_.getExtension("WEBGL_lose_context");h&&h.loseContext()}},0)}}]),w}(p);return Object.assign(E,p),gpu=E,gpu}var alias,hasRequiredAlias;function requireAlias(){if(hasRequiredAlias)return alias;hasRequiredAlias=1;var r=requireUtils();return alias=function(s,o){var l=o.toString();return new Function("return function "+s+" ("+r.getParamNamesFromString(l).join(", ")+") {"+r.getFunctionBodyFromString(l)+"}")()},alias}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(r){var i=requireGpu(),s=requireAlias(),o=requireUtils(),l=requireInput(),d=requireTexture(),c=requireFunctionBuilder(),f=requireFunctionNode(),g=requireKernel(),v=requireRunner(),p=requireFunctionBuilder$2(),E=requireFunctionNode$2(),S=requireKernel$2(),w=requireRunner$2(),D=requireFunctionBuilder$1(),m=requireFunctionNode$1(),R=requireKernel$1(),_=requireRunner$1();i.alias=s,i.utils=o,i.Texture=d,i.Input=l,i.input=function(b,h){return new l(b,h)},i.CPUFunctionBuilder=c,i.CPUFunctionNode=f,i.CPUKernel=g,i.CPURunner=v,i.WebGLFunctionBuilder=p,i.WebGLFunctionNode=E,i.WebGLKernel=S,i.WebGLRunner=w,i.WebGL2FunctionBuilder=D,i.WebGL2FunctionNode=m,i.WebGL2Kernel=R,i.WebGL2Runner=_,r.exports=i,typeof window<"u"&&(window.GPU=i),typeof self<"u"&&(self.GPU=i)}(dist)),dist.exports}var hasRequiredNeuralNetworkGpu;function requireNeuralNetworkGpu(){if(hasRequiredNeuralNetworkGpu)return neuralNetworkGpu;hasRequiredNeuralNetworkGpu=1,Object.defineProperty(neuralNetworkGpu,"__esModule",{value:!0});var r=function(){function A(N,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(N,K.key,K)}}return function(N,j,q){return j&&A(N.prototype,j),q&&A(N,q),N}}(),i=function A(N,j,q){N===null&&(N=Function.prototype);var K=Object.getOwnPropertyDescriptor(N,j);if(K===void 0){var V=Object.getPrototypeOf(N);return V===null?void 0:A(V,j,q)}else{if("value"in K)return K.value;var G=K.get;return G===void 0?void 0:G.call(q)}},s=requireNeuralNetwork(),o=g(s),l=requireLookup(),d=g(l),c=requireDist(),f=g(c);function g(A){return A&&A.__esModule?A:{default:A}}function v(A,N){if(!(A instanceof N))throw new TypeError("Cannot call a class as a function")}function p(A,N){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:A}function E(A,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);A.prototype=Object.create(N&&N.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(A,N):A.__proto__=N)}var S=function(A){E(N,A);function N(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v(this,N);var q=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,j));return q.forwardPropagate=[],q.backwardPropagate=[],q.changesPropagate=[],q.biasesPropagate=[],q.biasCopies=[],q.copyBias=[],q.changesCopies=[],q.copyChanges=[],q.weightsCopies=[],q.copyWeights=[],q.errorCheckInterval=100,q.gpu=new f.default({mode:j.mode}),q}return r(N,[{key:"initialize",value:function(){i(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"initialize",this).call(this),this.buildRunInput(),this.buildCalculateDeltas(),this.buildGetChanges(),this.buildChangeBiases(),this.buildGetMSE()}},{key:"setActivation",value:function(){}},{key:"trainPattern",value:function(q,K){return this.runInput(q.input),this.calculateDeltas(q.output),this.adjustWeights(),K?this.getMSE(this.errors[this.outputLayer])[0]:null}},{key:"adjustWeights",value:function(){this.getChanges(),this.changeBiases()}},{key:"buildRunInput",value:function(){var q=null;switch(this.activation){case"sigmoid":q=w;break;case"relu":q=D;break;case"leaky-relu":q=m;break;case"tanh":q=R;break;default:throw new Error("unknown activation "+this.activation)}for(var K=1;K<=this.outputLayer;K++)this.forwardPropagate[K]=this.gpu.createKernel(q,{output:[this.sizes[K]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.sizes[K-1]}});this.texturizeInputData=this.gpu.createKernel(function(V){return V[this.thread.x]},{output:[this.sizes[1]],outputToTexture:!0,hardcodeConstants:!0,outputImmutable:!0})}},{key:"runInput",value:function(q){var K=void 0;this.outputs[0]=q;for(var V=1;V<=this.outputLayer;V++)this.outputs[V]=this.forwardPropagate[V](this.weights[V],this.biases[V],q),K=q=this.outputs[V];return K}},{key:"buildCalculateDeltas",value:function(){var q=null;switch(this.activation){case"sigmoid":q=b;break;case"relu":q=h;break;case"leaky-relu":q=k;break;case"tanh":q=M;break;default:throw new Error("unknown activation "+this.activation)}for(var K=this.outputLayer;K>0;K--)K===this.outputLayer?this.backwardPropagate[K]=this.gpu.createKernelMap({error:f.default.alias("calcErrorOutput",_),deltas:f.default.alias("calcDeltas",q)},function(V,G){var te=V[this.thread.x];return q(_(te,G),te)},{output:[this.sizes[K]],outputToTexture:!0,hardcodeConstants:!0}):this.backwardPropagate[K]=this.gpu.createKernelMap({error:f.default.alias("calcError",z),deltas:f.default.alias("calcDeltas",q)},function(V,G,te){var ue=G[this.thread.x];return q(z(V,te),ue)},{output:[this.sizes[K]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.deltas[K+1].length}})}},{key:"calculateDeltas",value:function(q){for(var K=this.outputLayer;K>0;K--){var V=void 0;K===this.outputLayer?V=this.backwardPropagate[K](this.outputs[K],q):V=this.backwardPropagate[K](this.weights[K+1],this.outputs[K],this.deltas[K+1]),this.deltas[K]=V.deltas,this.errors[K]=V.error}}},{key:"buildGetChanges",value:function(){for(var q=1;q<=this.outputLayer;q++)this.changesPropagate[q]=this.gpu.createKernelMap({weights:f.default.alias("addWeights",W),changes:f.default.alias("calcChanges",Z)},function(K,V,G,te){var ue=Z(te,V,K);return W(ue,G)},{output:[this.sizes[q-1],this.sizes[q]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.outputs[q-1].length,learningRate:this.trainOpts.learningRate,momentum:this.trainOpts.momentum}}),this.copyChanges[q]=this.gpu.createKernel(function(K){return K[this.thread.y][this.thread.x]},{output:this.changesPropagate[q].output,outputToTexture:!0,hardCodeConstants:!0}),this.copyWeights[q]=this.gpu.createKernel(function(K){return K[this.thread.y][this.thread.x]},{output:this.changesPropagate[q].output,outputToTexture:!0,hardCodeConstants:!0})}},{key:"getChanges",value:function(){for(var q=1;q<=this.outputLayer;q++){var K=this.changesPropagate[q](this.outputs[q-1],this.deltas[q],this.weightsCopies[q]||this.weights[q],this.changesCopies[q]||this.changes[q]);this.changes[q]=K.changes,this.weights[q]=K.weights,this.changesCopies[q]=this.copyChanges[q](K.changes),this.weightsCopies[q]=this.copyWeights[q](K.weights)}}},{key:"buildChangeBiases",value:function(){for(var q=1;q<=this.outputLayer;q++)this.biasesPropagate[q]=this.gpu.createKernel(H,{output:[this.sizes[q]],outputToTexture:!0,hardcodeConstants:!0,constants:{learningRate:this.trainOpts.learningRate}}),this.copyBias[q]=this.gpu.createKernel(function(K){return K[this.thread.x]},{output:this.biasesPropagate[q].output,outputToTexture:!0,hardCodeConstants:!0})}},{key:"changeBiases",value:function(){for(var q=1;q<=this.outputLayer;q++)this.biases[q]=this.biasesPropagate[q](this.biasCopies[q]||this.biases[q],this.deltas[q]),this.biasCopies[q]=this.copyBias[q](this.biases[q])}},{key:"buildGetMSE",value:function(){this.getMSE=this.gpu.createKernel(L,{output:[1],hardcodeConstants:!0,constants:{size:this.sizes[this.outputLayer]}})}},{key:"run",value:function(q){if(!this.isRunnable)return null;this.inputLookup&&(q=d.default.toArray(this.inputLookup,q,this.inputLookupLength));var K=this.texturizeInputData(q),V=this.runInput(K),G=void 0;return V.toArray?G=V.toArray(this.gpu):G=V,this.outputLookup&&(G=d.default.toObject(this.outputLookup,G)),G}},{key:"prepTraining",value:function(q,K){var V=this;this.updateTrainingOptions(K),q=this.formatData(q);var G=Date.now()+this.trainOpts.timeout,te={error:1,iterations:0};this.verifyIsInitialized(q);var ue=this.gpu.createKernel(function(B){return B[this.thread.x]},{output:[q[0].output.length],outputToTexture:!0,hardcodeConstants:!0,outputImmutable:!0});return{data:q.map(function(B){return{input:V.texturizeInputData(B.input),output:ue(B.output)}}),status:te,endTime:G}}},{key:"toJSON",value:function(){var q=this;if(!this.weights[1].toArray)return i(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"toJSON",this).call(this);for(var K=[],V=[],G=1;G<=this.outputLayer;G++)K[G]=Array.from(this.weights[G].toArray(this.gpu)),V[G]=Array.from(this.biases[G].toArray(this.gpu));return o.default.prototype.toJSON.call({inputLookup:this.inputLookup,outputLookup:this.outputLookup,outputLayer:this.outputLayer,sizes:this.sizes,getTrainOptsJSON:function(){return q.getTrainOptsJSON()},weights:K,biases:V})}}]),N}(o.default);neuralNetworkGpu.default=S;function w(A,N,j){for(var q=N[this.thread.x],K=0;K<this.constants.size;K++)q+=A[this.thread.x][K]*j[K];return 1/(1+Math.exp(-q))}function D(A,N,j){for(var q=N[this.thread.x],K=0;K<this.constants.size;K++)q+=A[this.thread.x][K]*j[K];return q<0?0:q}function m(A,N,j){for(var q=N[this.thread.x],K=0;K<this.constants.size;K++)q+=A[this.thread.x][K]*j[K];return q<0?0:.01*q}function R(A,N,j){for(var q=N[this.thread.x],K=0;K<this.constants.size;K++)q+=A[this.thread.x][K]*j[K];return Math.tanh(q)}function _(A,N){return N[this.thread.x]-A}function b(A,N){return A*N*(1-N)}function h(A,N){return N>0?A:0}function k(A,N){return N>0?A:.01*A}function M(A,N){return(1-N*N)*A}function z(A,N){for(var j=0,q=0;q<this.constants.size;q++)j+=N[q]*A[q][this.thread.x];return j}function Z(A,N,j){return this.constants.learningRate*N[this.thread.y]*j[this.thread.x]+this.constants.momentum*A[this.thread.y][this.thread.x]}function W(A,N){return A+N[this.thread.y][this.thread.x]}function H(A,N){return A[this.thread.x]+N[this.thread.x]*this.constants.learningRate}function L(A){for(var N=0,j=0;j<this.constants.size;j++)N+=Math.pow(A[j],2);return N/this.constants.size}return neuralNetworkGpu}var trainStream={},events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var r=typeof Reflect=="object"?Reflect:null,i=r&&typeof r.apply=="function"?r.apply:function(M,z,Z){return Function.prototype.apply.call(M,z,Z)},s;r&&typeof r.ownKeys=="function"?s=r.ownKeys:Object.getOwnPropertySymbols?s=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:s=function(M){return Object.getOwnPropertyNames(M)};function o(k){console&&console.warn&&console.warn(k)}var l=Number.isNaN||function(M){return M!==M};function d(){d.init.call(this)}events.exports=d,events.exports.once=_,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var c=10;function f(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(k){if(typeof k!="number"||k<0||l(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");c=k}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||l(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function g(k){return k._maxListeners===void 0?d.defaultMaxListeners:k._maxListeners}d.prototype.getMaxListeners=function(){return g(this)},d.prototype.emit=function(M){for(var z=[],Z=1;Z<arguments.length;Z++)z.push(arguments[Z]);var W=M==="error",H=this._events;if(H!==void 0)W=W&&H.error===void 0;else if(!W)return!1;if(W){var L;if(z.length>0&&(L=z[0]),L instanceof Error)throw L;var A=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw A.context=L,A}var N=H[M];if(N===void 0)return!1;if(typeof N=="function")i(N,this,z);else for(var j=N.length,q=D(N,j),Z=0;Z<j;++Z)i(q[Z],this,z);return!0};function v(k,M,z,Z){var W,H,L;if(f(z),H=k._events,H===void 0?(H=k._events=Object.create(null),k._eventsCount=0):(H.newListener!==void 0&&(k.emit("newListener",M,z.listener?z.listener:z),H=k._events),L=H[M]),L===void 0)L=H[M]=z,++k._eventsCount;else if(typeof L=="function"?L=H[M]=Z?[z,L]:[L,z]:Z?L.unshift(z):L.push(z),W=g(k),W>0&&L.length>W&&!L.warned){L.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=k,A.type=M,A.count=L.length,o(A)}return k}d.prototype.addListener=function(M,z){return v(this,M,z,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(M,z){return v(this,M,z,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(k,M,z){var Z={fired:!1,wrapFn:void 0,target:k,type:M,listener:z},W=p.bind(Z);return W.listener=z,Z.wrapFn=W,W}d.prototype.once=function(M,z){return f(z),this.on(M,E(this,M,z)),this},d.prototype.prependOnceListener=function(M,z){return f(z),this.prependListener(M,E(this,M,z)),this},d.prototype.removeListener=function(M,z){var Z,W,H,L,A;if(f(z),W=this._events,W===void 0)return this;if(Z=W[M],Z===void 0)return this;if(Z===z||Z.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete W[M],W.removeListener&&this.emit("removeListener",M,Z.listener||z));else if(typeof Z!="function"){for(H=-1,L=Z.length-1;L>=0;L--)if(Z[L]===z||Z[L].listener===z){A=Z[L].listener,H=L;break}if(H<0)return this;H===0?Z.shift():m(Z,H),Z.length===1&&(W[M]=Z[0]),W.removeListener!==void 0&&this.emit("removeListener",M,A||z)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(M){var z,Z,W;if(Z=this._events,Z===void 0)return this;if(Z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Z[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Z[M]),this;if(arguments.length===0){var H=Object.keys(Z),L;for(W=0;W<H.length;++W)L=H[W],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=Z[M],typeof z=="function")this.removeListener(M,z);else if(z!==void 0)for(W=z.length-1;W>=0;W--)this.removeListener(M,z[W]);return this};function S(k,M,z){var Z=k._events;if(Z===void 0)return[];var W=Z[M];return W===void 0?[]:typeof W=="function"?z?[W.listener||W]:[W]:z?R(W):D(W,W.length)}d.prototype.listeners=function(M){return S(this,M,!0)},d.prototype.rawListeners=function(M){return S(this,M,!1)},d.listenerCount=function(k,M){return typeof k.listenerCount=="function"?k.listenerCount(M):w.call(k,M)},d.prototype.listenerCount=w;function w(k){var M=this._events;if(M!==void 0){var z=M[k];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}d.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function D(k,M){for(var z=new Array(M),Z=0;Z<M;++Z)z[Z]=k[Z];return z}function m(k,M){for(;M+1<k.length;M++)k[M]=k[M+1];k.pop()}function R(k){for(var M=new Array(k.length),z=0;z<M.length;++z)M[z]=k[z].listener||k[z];return M}function _(k,M){return new Promise(function(z,Z){function W(L){k.removeListener(M,H),Z(L)}function H(){typeof k.removeListener=="function"&&k.removeListener("error",W),z([].slice.call(arguments))}h(k,M,H,{once:!0}),M!=="error"&&b(k,W,{once:!0})})}function b(k,M,z){typeof k.on=="function"&&h(k,"error",M,z)}function h(k,M,z,Z){if(typeof k.on=="function")Z.once?k.once(M,z):k.on(M,z);else if(typeof k.addEventListener=="function")k.addEventListener(M,function W(H){Z.once&&k.removeEventListener(M,W),z(H)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return events.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(i,s){s&&(i.super_=s,i.prototype=Object.create(s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(i,s){if(s){i.super_=s;var o=function(){};o.prototype=s.prototype,i.prototype=new o,i.prototype.constructor=i}}),inherits_browser.exports}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=f,base64Js.toByteArray=v,base64Js.fromByteArray=S;for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=o.length;l<d;++l)r[l]=o[l],i[o.charCodeAt(l)]=l;i[45]=62,i[95]=63;function c(w){var D=w.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=w.indexOf("=");m===-1&&(m=D);var R=m===D?0:4-m%4;return[m,R]}function f(w){var D=c(w),m=D[0],R=D[1];return(m+R)*3/4-R}function g(w,D,m){return(D+m)*3/4-m}function v(w){var D,m=c(w),R=m[0],_=m[1],b=new s(g(w,R,_)),h=0,k=_>0?R-4:R,M;for(M=0;M<k;M+=4)D=i[w.charCodeAt(M)]<<18|i[w.charCodeAt(M+1)]<<12|i[w.charCodeAt(M+2)]<<6|i[w.charCodeAt(M+3)],b[h++]=D>>16&255,b[h++]=D>>8&255,b[h++]=D&255;return _===2&&(D=i[w.charCodeAt(M)]<<2|i[w.charCodeAt(M+1)]>>4,b[h++]=D&255),_===1&&(D=i[w.charCodeAt(M)]<<10|i[w.charCodeAt(M+1)]<<4|i[w.charCodeAt(M+2)]>>2,b[h++]=D>>8&255,b[h++]=D&255),b}function p(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function E(w,D,m){for(var R,_=[],b=D;b<m;b+=3)R=(w[b]<<16&16711680)+(w[b+1]<<8&65280)+(w[b+2]&255),_.push(p(R));return _.join("")}function S(w){for(var D,m=w.length,R=m%3,_=[],b=16383,h=0,k=m-R;h<k;h+=b)_.push(E(w,h,h+b>k?k:h+b));return R===1?(D=w[m-1],_.push(r[D>>2]+r[D<<4&63]+"==")):R===2&&(D=(w[m-2]<<8)+w[m-1],_.push(r[D>>10]+r[D>>4&63]+r[D<<2&63]+"=")),_.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(r,i,s,o,l){var d,c,f=l*8-o-1,g=(1<<f)-1,v=g>>1,p=-7,E=s?l-1:0,S=s?-1:1,w=r[i+E];for(E+=S,d=w&(1<<-p)-1,w>>=-p,p+=f;p>0;d=d*256+r[i+E],E+=S,p-=8);for(c=d&(1<<-p)-1,d>>=-p,p+=o;p>0;c=c*256+r[i+E],E+=S,p-=8);if(d===0)d=1-v;else{if(d===g)return c?NaN:(w?-1:1)*(1/0);c=c+Math.pow(2,o),d=d-v}return(w?-1:1)*c*Math.pow(2,d-o)},ieee754.write=function(r,i,s,o,l,d){var c,f,g,v=d*8-l-1,p=(1<<v)-1,E=p>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=o?0:d-1,D=o?1:-1,m=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(f=isNaN(i)?1:0,c=p):(c=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-c))<1&&(c--,g*=2),c+E>=1?i+=S/g:i+=S*Math.pow(2,1-E),i*g>=2&&(c++,g/=2),c+E>=p?(f=0,c=p):c+E>=1?(f=(i*g-1)*Math.pow(2,l),c=c+E):(f=i*Math.pow(2,E-1)*Math.pow(2,l),c=0));l>=8;r[s+w]=f&255,w+=D,f/=256,l-=8);for(c=c<<l|f,v+=l;v>0;r[s+w]=c&255,w+=D,c/=256,v-=8);r[s+w-D]|=m*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(r){const i=requireBase64Js(),s=requireIeee754(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=b,r.INSPECT_MAX_BYTES=50;const l=2147483647;r.kMaxLength=l,f.TYPED_ARRAY_SUPPORT=d(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const C=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(C,x),C.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(C){if(C>l)throw new RangeError('The value "'+C+'" is invalid for option "size"');const x=new Uint8Array(C);return Object.setPrototypeOf(x,f.prototype),x}function f(C,x,T){if(typeof C=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(C)}return g(C,x,T)}f.poolSize=8192;function g(C,x,T){if(typeof C=="string")return S(C,x);if(ArrayBuffer.isView(C))return D(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Je(C,ArrayBuffer)||C&&Je(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(C,SharedArrayBuffer)||C&&Je(C.buffer,SharedArrayBuffer)))return m(C,x,T);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=C.valueOf&&C.valueOf();if(I!=null&&I!==C)return f.from(I,x,T);const re=R(C);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return f.from(C[Symbol.toPrimitive]("string"),x,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}f.from=function(C,x,T){return g(C,x,T)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function v(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function p(C,x,T){return v(C),C<=0?c(C):x!==void 0?typeof T=="string"?c(C).fill(x,T):c(C).fill(x):c(C)}f.alloc=function(C,x,T){return p(C,x,T)};function E(C){return v(C),c(C<0?0:_(C)|0)}f.allocUnsafe=function(C){return E(C)},f.allocUnsafeSlow=function(C){return E(C)};function S(C,x){if((typeof x!="string"||x==="")&&(x="utf8"),!f.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const T=h(C,x)|0;let I=c(T);const re=I.write(C,x);return re!==T&&(I=I.slice(0,re)),I}function w(C){const x=C.length<0?0:_(C.length)|0,T=c(x);for(let I=0;I<x;I+=1)T[I]=C[I]&255;return T}function D(C){if(Je(C,Uint8Array)){const x=new Uint8Array(C);return m(x.buffer,x.byteOffset,x.byteLength)}return w(C)}function m(C,x,T){if(x<0||C.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<x+(T||0))throw new RangeError('"length" is outside of buffer bounds');let I;return x===void 0&&T===void 0?I=new Uint8Array(C):T===void 0?I=new Uint8Array(C,x):I=new Uint8Array(C,x,T),Object.setPrototypeOf(I,f.prototype),I}function R(C){if(f.isBuffer(C)){const x=_(C.length)|0,T=c(x);return T.length===0||C.copy(T,0,0,x),T}if(C.length!==void 0)return typeof C.length!="number"||Ae(C.length)?c(0):w(C);if(C.type==="Buffer"&&Array.isArray(C.data))return w(C.data)}function _(C){if(C>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return C|0}function b(C){return+C!=C&&(C=0),f.alloc(+C)}f.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==f.prototype},f.compare=function(x,T){if(Je(x,Uint8Array)&&(x=f.from(x,x.offset,x.byteLength)),Je(T,Uint8Array)&&(T=f.from(T,T.offset,T.byteLength)),!f.isBuffer(x)||!f.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===T)return 0;let I=x.length,re=T.length;for(let he=0,ge=Math.min(I,re);he<ge;++he)if(x[he]!==T[he]){I=x[he],re=T[he];break}return I<re?-1:re<I?1:0},f.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(x,T){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return f.alloc(0);let I;if(T===void 0)for(T=0,I=0;I<x.length;++I)T+=x[I].length;const re=f.allocUnsafe(T);let he=0;for(I=0;I<x.length;++I){let ge=x[I];if(Je(ge,Uint8Array))he+ge.length>re.length?(f.isBuffer(ge)||(ge=f.from(ge)),ge.copy(re,he)):Uint8Array.prototype.set.call(re,ge,he);else if(f.isBuffer(ge))ge.copy(re,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=ge.length}return re};function h(C,x){if(f.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Je(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const T=C.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&T===0)return 0;let re=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Oe(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return Ve(C).length;default:if(re)return I?-1:Oe(C).length;x=(""+x).toLowerCase(),re=!0}}f.byteLength=h;function k(C,x,T){let I=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,x>>>=0,T<=x))return"";for(C||(C="utf8");;)switch(C){case"hex":return ue(this,x,T);case"utf8":case"utf-8":return q(this,x,T);case"ascii":return G(this,x,T);case"latin1":case"binary":return te(this,x,T);case"base64":return j(this,x,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,x,T);default:if(I)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),I=!0}}f.prototype._isBuffer=!0;function M(C,x,T){const I=C[x];C[x]=C[T],C[T]=I}f.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<x;T+=2)M(this,T,T+1);return this},f.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<x;T+=4)M(this,T,T+3),M(this,T+1,T+2);return this},f.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<x;T+=8)M(this,T,T+7),M(this,T+1,T+6),M(this,T+2,T+5),M(this,T+3,T+4);return this},f.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?q(this,0,x):k.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(x){if(!f.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:f.compare(this,x)===0},f.prototype.inspect=function(){let x="";const T=r.INSPECT_MAX_BYTES;return x=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(x+=" ... "),"<Buffer "+x+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(x,T,I,re,he){if(Je(x,Uint8Array)&&(x=f.from(x,x.offset,x.byteLength)),!f.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(T===void 0&&(T=0),I===void 0&&(I=x?x.length:0),re===void 0&&(re=0),he===void 0&&(he=this.length),T<0||I>x.length||re<0||he>this.length)throw new RangeError("out of range index");if(re>=he&&T>=I)return 0;if(re>=he)return-1;if(T>=I)return 1;if(T>>>=0,I>>>=0,re>>>=0,he>>>=0,this===x)return 0;let ge=he-re,Re=I-T;const $e=Math.min(ge,Re),Be=this.slice(re,he),Ce=x.slice(T,I);for(let je=0;je<$e;++je)if(Be[je]!==Ce[je]){ge=Be[je],Re=Ce[je];break}return ge<Re?-1:Re<ge?1:0};function z(C,x,T,I,re){if(C.length===0)return-1;if(typeof T=="string"?(I=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,Ae(T)&&(T=re?0:C.length-1),T<0&&(T=C.length+T),T>=C.length){if(re)return-1;T=C.length-1}else if(T<0)if(re)T=0;else return-1;if(typeof x=="string"&&(x=f.from(x,I)),f.isBuffer(x))return x.length===0?-1:Z(C,x,T,I,re);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(C,x,T):Uint8Array.prototype.lastIndexOf.call(C,x,T):Z(C,[x],T,I,re);throw new TypeError("val must be string, number or Buffer")}function Z(C,x,T,I,re){let he=1,ge=C.length,Re=x.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(C.length<2||x.length<2)return-1;he=2,ge/=2,Re/=2,T/=2}function $e(Ce,je){return he===1?Ce[je]:Ce.readUInt16BE(je*he)}let Be;if(re){let Ce=-1;for(Be=T;Be<ge;Be++)if($e(C,Be)===$e(x,Ce===-1?0:Be-Ce)){if(Ce===-1&&(Ce=Be),Be-Ce+1===Re)return Ce*he}else Ce!==-1&&(Be-=Be-Ce),Ce=-1}else for(T+Re>ge&&(T=ge-Re),Be=T;Be>=0;Be--){let Ce=!0;for(let je=0;je<Re;je++)if($e(C,Be+je)!==$e(x,je)){Ce=!1;break}if(Ce)return Be}return-1}f.prototype.includes=function(x,T,I){return this.indexOf(x,T,I)!==-1},f.prototype.indexOf=function(x,T,I){return z(this,x,T,I,!0)},f.prototype.lastIndexOf=function(x,T,I){return z(this,x,T,I,!1)};function W(C,x,T,I){T=Number(T)||0;const re=C.length-T;I?(I=Number(I),I>re&&(I=re)):I=re;const he=x.length;I>he/2&&(I=he/2);let ge;for(ge=0;ge<I;++ge){const Re=parseInt(x.substr(ge*2,2),16);if(Ae(Re))return ge;C[T+ge]=Re}return ge}function H(C,x,T,I){return st(Oe(x,C.length-T),C,T,I)}function L(C,x,T,I){return st(Ie(x),C,T,I)}function A(C,x,T,I){return st(Ve(x),C,T,I)}function N(C,x,T,I){return st(We(x,C.length-T),C,T,I)}f.prototype.write=function(x,T,I,re){if(T===void 0)re="utf8",I=this.length,T=0;else if(I===void 0&&typeof T=="string")re=T,I=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(I)?(I=I>>>0,re===void 0&&(re="utf8")):(re=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const he=this.length-T;if((I===void 0||I>he)&&(I=he),x.length>0&&(I<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let ge=!1;for(;;)switch(re){case"hex":return W(this,x,T,I);case"utf8":case"utf-8":return H(this,x,T,I);case"ascii":case"latin1":case"binary":return L(this,x,T,I);case"base64":return A(this,x,T,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,x,T,I);default:if(ge)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ge=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(C,x,T){return x===0&&T===C.length?i.fromByteArray(C):i.fromByteArray(C.slice(x,T))}function q(C,x,T){T=Math.min(C.length,T);const I=[];let re=x;for(;re<T;){const he=C[re];let ge=null,Re=he>239?4:he>223?3:he>191?2:1;if(re+Re<=T){let $e,Be,Ce,je;switch(Re){case 1:he<128&&(ge=he);break;case 2:$e=C[re+1],($e&192)===128&&(je=(he&31)<<6|$e&63,je>127&&(ge=je));break;case 3:$e=C[re+1],Be=C[re+2],($e&192)===128&&(Be&192)===128&&(je=(he&15)<<12|($e&63)<<6|Be&63,je>2047&&(je<55296||je>57343)&&(ge=je));break;case 4:$e=C[re+1],Be=C[re+2],Ce=C[re+3],($e&192)===128&&(Be&192)===128&&(Ce&192)===128&&(je=(he&15)<<18|($e&63)<<12|(Be&63)<<6|Ce&63,je>65535&&je<1114112&&(ge=je))}}ge===null?(ge=65533,Re=1):ge>65535&&(ge-=65536,I.push(ge>>>10&1023|55296),ge=56320|ge&1023),I.push(ge),re+=Re}return V(I)}const K=4096;function V(C){const x=C.length;if(x<=K)return String.fromCharCode.apply(String,C);let T="",I=0;for(;I<x;)T+=String.fromCharCode.apply(String,C.slice(I,I+=K));return T}function G(C,x,T){let I="";T=Math.min(C.length,T);for(let re=x;re<T;++re)I+=String.fromCharCode(C[re]&127);return I}function te(C,x,T){let I="";T=Math.min(C.length,T);for(let re=x;re<T;++re)I+=String.fromCharCode(C[re]);return I}function ue(C,x,T){const I=C.length;(!x||x<0)&&(x=0),(!T||T<0||T>I)&&(T=I);let re="";for(let he=x;he<T;++he)re+=He[C[he]];return re}function B(C,x,T){const I=C.slice(x,T);let re="";for(let he=0;he<I.length-1;he+=2)re+=String.fromCharCode(I[he]+I[he+1]*256);return re}f.prototype.slice=function(x,T){const I=this.length;x=~~x,T=T===void 0?I:~~T,x<0?(x+=I,x<0&&(x=0)):x>I&&(x=I),T<0?(T+=I,T<0&&(T=0)):T>I&&(T=I),T<x&&(T=x);const re=this.subarray(x,T);return Object.setPrototypeOf(re,f.prototype),re};function ee(C,x,T){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+x>T)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(x,T,I){x=x>>>0,T=T>>>0,I||ee(x,T,this.length);let re=this[x],he=1,ge=0;for(;++ge<T&&(he*=256);)re+=this[x+ge]*he;return re},f.prototype.readUintBE=f.prototype.readUIntBE=function(x,T,I){x=x>>>0,T=T>>>0,I||ee(x,T,this.length);let re=this[x+--T],he=1;for(;T>0&&(he*=256);)re+=this[x+--T]*he;return re},f.prototype.readUint8=f.prototype.readUInt8=function(x,T){return x=x>>>0,T||ee(x,1,this.length),this[x]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(x,T){return x=x>>>0,T||ee(x,2,this.length),this[x]|this[x+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(x,T){return x=x>>>0,T||ee(x,2,this.length),this[x]<<8|this[x+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(x,T){return x=x>>>0,T||ee(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(x,T){return x=x>>>0,T||ee(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},f.prototype.readBigUInt64LE=ze(function(x){x=x>>>0,pe(x,"offset");const T=this[x],I=this[x+7];(T===void 0||I===void 0)&&be(x,this.length-8);const re=T+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,he=this[++x]+this[++x]*2**8+this[++x]*2**16+I*2**24;return BigInt(re)+(BigInt(he)<<BigInt(32))}),f.prototype.readBigUInt64BE=ze(function(x){x=x>>>0,pe(x,"offset");const T=this[x],I=this[x+7];(T===void 0||I===void 0)&&be(x,this.length-8);const re=T*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],he=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+I;return(BigInt(re)<<BigInt(32))+BigInt(he)}),f.prototype.readIntLE=function(x,T,I){x=x>>>0,T=T>>>0,I||ee(x,T,this.length);let re=this[x],he=1,ge=0;for(;++ge<T&&(he*=256);)re+=this[x+ge]*he;return he*=128,re>=he&&(re-=Math.pow(2,8*T)),re},f.prototype.readIntBE=function(x,T,I){x=x>>>0,T=T>>>0,I||ee(x,T,this.length);let re=T,he=1,ge=this[x+--re];for(;re>0&&(he*=256);)ge+=this[x+--re]*he;return he*=128,ge>=he&&(ge-=Math.pow(2,8*T)),ge},f.prototype.readInt8=function(x,T){return x=x>>>0,T||ee(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},f.prototype.readInt16LE=function(x,T){x=x>>>0,T||ee(x,2,this.length);const I=this[x]|this[x+1]<<8;return I&32768?I|4294901760:I},f.prototype.readInt16BE=function(x,T){x=x>>>0,T||ee(x,2,this.length);const I=this[x+1]|this[x]<<8;return I&32768?I|4294901760:I},f.prototype.readInt32LE=function(x,T){return x=x>>>0,T||ee(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},f.prototype.readInt32BE=function(x,T){return x=x>>>0,T||ee(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},f.prototype.readBigInt64LE=ze(function(x){x=x>>>0,pe(x,"offset");const T=this[x],I=this[x+7];(T===void 0||I===void 0)&&be(x,this.length-8);const re=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(I<<24);return(BigInt(re)<<BigInt(32))+BigInt(T+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),f.prototype.readBigInt64BE=ze(function(x){x=x>>>0,pe(x,"offset");const T=this[x],I=this[x+7];(T===void 0||I===void 0)&&be(x,this.length-8);const re=(T<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(re)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+I)}),f.prototype.readFloatLE=function(x,T){return x=x>>>0,T||ee(x,4,this.length),s.read(this,x,!0,23,4)},f.prototype.readFloatBE=function(x,T){return x=x>>>0,T||ee(x,4,this.length),s.read(this,x,!1,23,4)},f.prototype.readDoubleLE=function(x,T){return x=x>>>0,T||ee(x,8,this.length),s.read(this,x,!0,52,8)},f.prototype.readDoubleBE=function(x,T){return x=x>>>0,T||ee(x,8,this.length),s.read(this,x,!1,52,8)};function oe(C,x,T,I,re,he){if(!f.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>re||x<he)throw new RangeError('"value" argument is out of bounds');if(T+I>C.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(x,T,I,re){if(x=+x,T=T>>>0,I=I>>>0,!re){const Re=Math.pow(2,8*I)-1;oe(this,x,T,I,Re,0)}let he=1,ge=0;for(this[T]=x&255;++ge<I&&(he*=256);)this[T+ge]=x/he&255;return T+I},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(x,T,I,re){if(x=+x,T=T>>>0,I=I>>>0,!re){const Re=Math.pow(2,8*I)-1;oe(this,x,T,I,Re,0)}let he=I-1,ge=1;for(this[T+he]=x&255;--he>=0&&(ge*=256);)this[T+he]=x/ge&255;return T+I},f.prototype.writeUint8=f.prototype.writeUInt8=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,1,255,0),this[T]=x&255,T+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,2,65535,0),this[T]=x&255,this[T+1]=x>>>8,T+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,2,65535,0),this[T]=x>>>8,this[T+1]=x&255,T+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,4,4294967295,0),this[T+3]=x>>>24,this[T+2]=x>>>16,this[T+1]=x>>>8,this[T]=x&255,T+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,4,4294967295,0),this[T]=x>>>24,this[T+1]=x>>>16,this[T+2]=x>>>8,this[T+3]=x&255,T+4};function ae(C,x,T,I,re){F(x,I,re,C,T,7);let he=Number(x&BigInt(4294967295));C[T++]=he,he=he>>8,C[T++]=he,he=he>>8,C[T++]=he,he=he>>8,C[T++]=he;let ge=Number(x>>BigInt(32)&BigInt(4294967295));return C[T++]=ge,ge=ge>>8,C[T++]=ge,ge=ge>>8,C[T++]=ge,ge=ge>>8,C[T++]=ge,T}function ce(C,x,T,I,re){F(x,I,re,C,T,7);let he=Number(x&BigInt(4294967295));C[T+7]=he,he=he>>8,C[T+6]=he,he=he>>8,C[T+5]=he,he=he>>8,C[T+4]=he;let ge=Number(x>>BigInt(32)&BigInt(4294967295));return C[T+3]=ge,ge=ge>>8,C[T+2]=ge,ge=ge>>8,C[T+1]=ge,ge=ge>>8,C[T]=ge,T+8}f.prototype.writeBigUInt64LE=ze(function(x,T=0){return ae(this,x,T,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=ze(function(x,T=0){return ce(this,x,T,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(x,T,I,re){if(x=+x,T=T>>>0,!re){const $e=Math.pow(2,8*I-1);oe(this,x,T,I,$e-1,-$e)}let he=0,ge=1,Re=0;for(this[T]=x&255;++he<I&&(ge*=256);)x<0&&Re===0&&this[T+he-1]!==0&&(Re=1),this[T+he]=(x/ge>>0)-Re&255;return T+I},f.prototype.writeIntBE=function(x,T,I,re){if(x=+x,T=T>>>0,!re){const $e=Math.pow(2,8*I-1);oe(this,x,T,I,$e-1,-$e)}let he=I-1,ge=1,Re=0;for(this[T+he]=x&255;--he>=0&&(ge*=256);)x<0&&Re===0&&this[T+he+1]!==0&&(Re=1),this[T+he]=(x/ge>>0)-Re&255;return T+I},f.prototype.writeInt8=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,1,127,-128),x<0&&(x=255+x+1),this[T]=x&255,T+1},f.prototype.writeInt16LE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,2,32767,-32768),this[T]=x&255,this[T+1]=x>>>8,T+2},f.prototype.writeInt16BE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,2,32767,-32768),this[T]=x>>>8,this[T+1]=x&255,T+2},f.prototype.writeInt32LE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,4,2147483647,-2147483648),this[T]=x&255,this[T+1]=x>>>8,this[T+2]=x>>>16,this[T+3]=x>>>24,T+4},f.prototype.writeInt32BE=function(x,T,I){return x=+x,T=T>>>0,I||oe(this,x,T,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[T]=x>>>24,this[T+1]=x>>>16,this[T+2]=x>>>8,this[T+3]=x&255,T+4},f.prototype.writeBigInt64LE=ze(function(x,T=0){return ae(this,x,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=ze(function(x,T=0){return ce(this,x,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(C,x,T,I,re,he){if(T+I>C.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function X(C,x,T,I,re){return x=+x,T=T>>>0,re||xe(C,x,T,4),s.write(C,x,T,I,23,4),T+4}f.prototype.writeFloatLE=function(x,T,I){return X(this,x,T,!0,I)},f.prototype.writeFloatBE=function(x,T,I){return X(this,x,T,!1,I)};function Y(C,x,T,I,re){return x=+x,T=T>>>0,re||xe(C,x,T,8),s.write(C,x,T,I,52,8),T+8}f.prototype.writeDoubleLE=function(x,T,I){return Y(this,x,T,!0,I)},f.prototype.writeDoubleBE=function(x,T,I){return Y(this,x,T,!1,I)},f.prototype.copy=function(x,T,I,re){if(!f.isBuffer(x))throw new TypeError("argument should be a Buffer");if(I||(I=0),!re&&re!==0&&(re=this.length),T>=x.length&&(T=x.length),T||(T=0),re>0&&re<I&&(re=I),re===I||x.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),x.length-T<re-I&&(re=x.length-T+I);const he=re-I;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,I,re):Uint8Array.prototype.set.call(x,this.subarray(I,re),T),he},f.prototype.fill=function(x,T,I,re){if(typeof x=="string"){if(typeof T=="string"?(re=T,T=0,I=this.length):typeof I=="string"&&(re=I,I=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!f.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(x.length===1){const ge=x.charCodeAt(0);(re==="utf8"&&ge<128||re==="latin1")&&(x=ge)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(T<0||this.length<T||this.length<I)throw new RangeError("Out of range index");if(I<=T)return this;T=T>>>0,I=I===void 0?this.length:I>>>0,x||(x=0);let he;if(typeof x=="number")for(he=T;he<I;++he)this[he]=x;else{const ge=f.isBuffer(x)?x:f.from(x,re),Re=ge.length;if(Re===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(he=0;he<I-T;++he)this[he+T]=ge[he%Re]}return this};const Q={};function J(C,x,T){Q[C]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(C,x){return`The "${C}" argument must be of type number. Received type ${typeof x}`},TypeError),J("ERR_OUT_OF_RANGE",function(C,x,T){let I=`The value of "${C}" is out of range.`,re=T;return Number.isInteger(T)&&Math.abs(T)>2**32?re=de(String(T)):typeof T=="bigint"&&(re=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(re=de(re)),re+="n"),I+=` It must be ${x}. Received ${re}`,I},RangeError);function de(C){let x="",T=C.length;const I=C[0]==="-"?1:0;for(;T>=I+4;T-=3)x=`_${C.slice(T-3,T)}${x}`;return`${C.slice(0,T)}${x}`}function P(C,x,T){pe(x,"offset"),(C[x]===void 0||C[x+T]===void 0)&&be(x,C.length-(T+1))}function F(C,x,T,I,re,he){if(C>T||C<x){const ge=typeof x=="bigint"?"n":"";let Re;throw x===0||x===BigInt(0)?Re=`>= 0${ge} and < 2${ge} ** ${(he+1)*8}${ge}`:Re=`>= -(2${ge} ** ${(he+1)*8-1}${ge}) and < 2 ** ${(he+1)*8-1}${ge}`,new Q.ERR_OUT_OF_RANGE("value",Re,C)}P(I,re,he)}function pe(C,x){if(typeof C!="number")throw new Q.ERR_INVALID_ARG_TYPE(x,"number",C)}function be(C,x,T){throw Math.floor(C)!==C?(pe(C,T),new Q.ERR_OUT_OF_RANGE("offset","an integer",C)):x<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,C)}const Me=/[^+/0-9A-Za-z-_]/g;function Ee(C){if(C=C.split("=")[0],C=C.trim().replace(Me,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Oe(C,x){x=x||1/0;let T;const I=C.length;let re=null;const he=[];for(let ge=0;ge<I;++ge){if(T=C.charCodeAt(ge),T>55295&&T<57344){if(!re){if(T>56319){(x-=3)>-1&&he.push(239,191,189);continue}else if(ge+1===I){(x-=3)>-1&&he.push(239,191,189);continue}re=T;continue}if(T<56320){(x-=3)>-1&&he.push(239,191,189),re=T;continue}T=(re-55296<<10|T-56320)+65536}else re&&(x-=3)>-1&&he.push(239,191,189);if(re=null,T<128){if((x-=1)<0)break;he.push(T)}else if(T<2048){if((x-=2)<0)break;he.push(T>>6|192,T&63|128)}else if(T<65536){if((x-=3)<0)break;he.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((x-=4)<0)break;he.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return he}function Ie(C){const x=[];for(let T=0;T<C.length;++T)x.push(C.charCodeAt(T)&255);return x}function We(C,x){let T,I,re;const he=[];for(let ge=0;ge<C.length&&!((x-=2)<0);++ge)T=C.charCodeAt(ge),I=T>>8,re=T%256,he.push(re),he.push(I);return he}function Ve(C){return i.toByteArray(Ee(C))}function st(C,x,T,I){let re;for(re=0;re<I&&!(re+T>=x.length||re>=C.length);++re)x[re+T]=C[re];return re}function Je(C,x){return C instanceof x||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===x.name}function Ae(C){return C!==C}const He=function(){const C="0123456789abcdef",x=new Array(256);for(let T=0;T<16;++T){const I=T*16;for(let re=0;re<16;++re)x[I+re]=C[T]+C[re]}return x}();function ze(C){return typeof BigInt>"u"?nt:C}function nt(){throw new Error("BigInt not supported")}}(buffer)),buffer}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function r(D,m){var R=Object.keys(D);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(D);m&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(D,b).enumerable})),R.push.apply(R,_)}return R}function i(D){for(var m=1;m<arguments.length;m++){var R=arguments[m]!=null?arguments[m]:{};m%2?r(Object(R),!0).forEach(function(_){s(D,_,R[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(R)):r(Object(R)).forEach(function(_){Object.defineProperty(D,_,Object.getOwnPropertyDescriptor(R,_))})}return D}function s(D,m,R){return m=c(m),m in D?Object.defineProperty(D,m,{value:R,enumerable:!0,configurable:!0,writable:!0}):D[m]=R,D}function o(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}function l(D,m){for(var R=0;R<m.length;R++){var _=m[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(D,c(_.key),_)}}function d(D,m,R){return m&&l(D.prototype,m),Object.defineProperty(D,"prototype",{writable:!1}),D}function c(D){var m=f(D,"string");return typeof m=="symbol"?m:String(m)}function f(D,m){if(typeof D!="object"||D===null)return D;var R=D[Symbol.toPrimitive];if(R!==void 0){var _=R.call(D,m);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}var g=requireBuffer(),v=g.Buffer,p=require$$3,E=p.inspect,S=E&&E.custom||"inspect";function w(D,m,R){v.prototype.copy.call(D,m,R)}return buffer_list=function(){function D(){o(this,D),this.head=null,this.tail=null,this.length=0}return d(D,[{key:"push",value:function(R){var _={data:R,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(R){var _={data:R,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var _=this.head,b=""+_.data;_=_.next;)b+=R+_.data;return b}},{key:"concat",value:function(R){if(this.length===0)return v.alloc(0);for(var _=v.allocUnsafe(R>>>0),b=this.head,h=0;b;)w(b.data,_,h),h+=b.data.length,b=b.next;return _}},{key:"consume",value:function(R,_){var b;return R<this.head.data.length?(b=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?b=this.shift():b=_?this._getString(R):this._getBuffer(R),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var _=this.head,b=1,h=_.data;for(R-=h.length;_=_.next;){var k=_.data,M=R>k.length?k.length:R;if(M===k.length?h+=k:h+=k.slice(0,R),R-=M,R===0){M===k.length?(++b,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=k.slice(M));break}++b}return this.length-=b,h}},{key:"_getBuffer",value:function(R){var _=v.allocUnsafe(R),b=this.head,h=1;for(b.data.copy(_),R-=b.data.length;b=b.next;){var k=b.data,M=R>k.length?k.length:R;if(k.copy(_,_.length-R,0,M),R-=M,R===0){M===k.length?(++h,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=k.slice(M));break}++h}return this.length-=h,_}},{key:S,value:function(R,_){return E(this,i(i({},_),{},{depth:0,customInspect:!1}))}}]),D}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function r(c,f){var g=this,v=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return v||p?(f?f(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(l,this,c)):process.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(E){!f&&E?g._writableState?g._writableState.errorEmitted?process.nextTick(s,g):(g._writableState.errorEmitted=!0,process.nextTick(i,g,E)):process.nextTick(i,g,E):f?(process.nextTick(s,g),f(E)):process.nextTick(s,g)}),this)}function i(c,f){l(c,f),s(c)}function s(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,f){c.emit("error",f)}function d(c,f){var g=c._readableState,v=c._writableState;g&&g.autoDestroy||v&&v.autoDestroy?c.destroy(f):c.emit("error",f)}return destroy_1={destroy:r,undestroy:o,errorOrDestroy:d},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function r(f,g){f.prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g}var i={};function s(f,g,v){v||(v=Error);function p(S,w,D){return typeof g=="string"?g:g(S,w,D)}var E=function(S){r(w,S);function w(D,m,R){return S.call(this,p(D,m,R))||this}return w}(v);E.prototype.name=v.name,E.prototype.code=f,i[f]=E}function o(f,g){if(Array.isArray(f)){var v=f.length;return f=f.map(function(p){return String(p)}),v>2?"one of ".concat(g," ").concat(f.slice(0,v-1).join(", "),", or ")+f[v-1]:v===2?"one of ".concat(g," ").concat(f[0]," or ").concat(f[1]):"of ".concat(g," ").concat(f[0])}else return"of ".concat(g," ").concat(String(f))}function l(f,g,v){return f.substr(0,g.length)===g}function d(f,g,v){return(v===void 0||v>f.length)&&(v=f.length),f.substring(v-g.length,v)===g}function c(f,g,v){return typeof v!="number"&&(v=0),v+g.length>f.length?!1:f.indexOf(g,v)!==-1}return s("ERR_INVALID_OPT_VALUE",function(f,g){return'The value "'+g+'" is invalid for option "'+f+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(f,g,v){var p;typeof g=="string"&&l(g,"not ")?(p="must not be",g=g.replace(/^not /,"")):p="must be";var E;if(d(f," argument"))E="The ".concat(f," ").concat(p," ").concat(o(g,"type"));else{var S=c(f,".")?"property":"argument";E='The "'.concat(f,'" ').concat(S," ").concat(p," ").concat(o(g,"type"))}return E+=". Received type ".concat(typeof v),E},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=i,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var r=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function i(o,l,d){return o.highWaterMark!=null?o.highWaterMark:l?o[d]:null}function s(o,l,d,c){var f=i(l,c,d);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var g=c?d:"highWaterMark";throw new r(g,f)}return Math.floor(f)}return o.objectMode?16:16*1024}return state={getHighWaterMark:s},state}var browser,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1,browser=r;function r(s,o){if(i("noDeprecation"))return s;var l=!1;function d(){if(!l){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),l=!0}return s.apply(this,arguments)}return d}function i(s){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var o=commonjsGlobal.localStorage[s];return o==null?!1:String(o).toLowerCase()==="true"}return browser}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=W;function r(X){var Y=this;this.next=null,this.entry=null,this.finish=function(){xe(Y,X)}}var i;W.WritableState=z;var s={deprecate:requireBrowser()},o=requireStreamBrowser(),l=requireBuffer().Buffer,d=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(X){return l.from(X)}function f(X){return l.isBuffer(X)||X instanceof d}var g=requireDestroy(),v=requireState(),p=v.getHighWaterMark,E=requireErrorsBrowser().codes,S=E.ERR_INVALID_ARG_TYPE,w=E.ERR_METHOD_NOT_IMPLEMENTED,D=E.ERR_MULTIPLE_CALLBACK,m=E.ERR_STREAM_CANNOT_PIPE,R=E.ERR_STREAM_DESTROYED,_=E.ERR_STREAM_NULL_VALUES,b=E.ERR_STREAM_WRITE_AFTER_END,h=E.ERR_UNKNOWN_ENCODING,k=g.errorOrDestroy;requireInherits_browser()(W,o);function M(){}function z(X,Y,Q){i=i||require_stream_duplex(),X=X||{},typeof Q!="boolean"&&(Q=Y instanceof i),this.objectMode=!!X.objectMode,Q&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=p(this,X,"writableHighWaterMark",Q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=X.decodeStrings===!1;this.decodeStrings=!J,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){V(Y,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}z.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,Q=[];Y;)Q.push(Y),Y=Y.next;return Q},function(){try{Object.defineProperty(z.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(Y){return Z.call(this,Y)?!0:this!==W?!1:Y&&Y._writableState instanceof z}})):Z=function(Y){return Y instanceof this};function W(X){i=i||require_stream_duplex();var Y=this instanceof i;if(!Y&&!Z.call(W,this))return new W(X);this._writableState=new z(X,this,Y),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),o.call(this)}W.prototype.pipe=function(){k(this,new m)};function H(X,Y){var Q=new b;k(X,Q),process.nextTick(Y,Q)}function L(X,Y,Q,J){var de;return Q===null?de=new _:typeof Q!="string"&&!Y.objectMode&&(de=new S("chunk",["string","Buffer"],Q)),de?(k(X,de),process.nextTick(J,de),!1):!0}W.prototype.write=function(X,Y,Q){var J=this._writableState,de=!1,P=!J.objectMode&&f(X);return P&&!l.isBuffer(X)&&(X=c(X)),typeof Y=="function"&&(Q=Y,Y=null),P?Y="buffer":Y||(Y=J.defaultEncoding),typeof Q!="function"&&(Q=M),J.ending?H(this,Q):(P||L(this,J,X,Q))&&(J.pendingcb++,de=N(this,J,P,X,Y,Q)),de},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&ue(this,X))},W.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new h(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(X,Y,Q){return!X.objectMode&&X.decodeStrings!==!1&&typeof Y=="string"&&(Y=l.from(Y,Q)),Y}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(X,Y,Q,J,de,P){if(!Q){var F=A(Y,J,de);J!==F&&(Q=!0,de="buffer",J=F)}var pe=Y.objectMode?1:J.length;Y.length+=pe;var be=Y.length<Y.highWaterMark;if(be||(Y.needDrain=!0),Y.writing||Y.corked){var Me=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:J,encoding:de,isBuf:Q,callback:P,next:null},Me?Me.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else j(X,Y,!1,pe,J,de,P);return be}function j(X,Y,Q,J,de,P,F){Y.writelen=J,Y.writecb=F,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new R("write")):Q?X._writev(de,Y.onwrite):X._write(de,P,Y.onwrite),Y.sync=!1}function q(X,Y,Q,J,de){--Y.pendingcb,Q?(process.nextTick(de,J),process.nextTick(ae,X,Y),X._writableState.errorEmitted=!0,k(X,J)):(de(J),X._writableState.errorEmitted=!0,k(X,J),ae(X,Y))}function K(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function V(X,Y){var Q=X._writableState,J=Q.sync,de=Q.writecb;if(typeof de!="function")throw new D;if(K(Q),Y)q(X,Q,J,Y,de);else{var P=B(Q)||X.destroyed;!P&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&ue(X,Q),J?process.nextTick(G,X,Q,P,de):G(X,Q,P,de)}}function G(X,Y,Q,J){Q||te(X,Y),Y.pendingcb--,J(),ae(X,Y)}function te(X,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,X.emit("drain"))}function ue(X,Y){Y.bufferProcessing=!0;var Q=Y.bufferedRequest;if(X._writev&&Q&&Q.next){var J=Y.bufferedRequestCount,de=new Array(J),P=Y.corkedRequestsFree;P.entry=Q;for(var F=0,pe=!0;Q;)de[F]=Q,Q.isBuf||(pe=!1),Q=Q.next,F+=1;de.allBuffers=pe,j(X,Y,!0,Y.length,de,"",P.finish),Y.pendingcb++,Y.lastBufferedRequest=null,P.next?(Y.corkedRequestsFree=P.next,P.next=null):Y.corkedRequestsFree=new r(Y),Y.bufferedRequestCount=0}else{for(;Q;){var be=Q.chunk,Me=Q.encoding,Ee=Q.callback,Oe=Y.objectMode?1:be.length;if(j(X,Y,!1,Oe,be,Me,Ee),Q=Q.next,Y.bufferedRequestCount--,Y.writing)break}Q===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=Q,Y.bufferProcessing=!1}W.prototype._write=function(X,Y,Q){Q(new w("_write()"))},W.prototype._writev=null,W.prototype.end=function(X,Y,Q){var J=this._writableState;return typeof X=="function"?(Q=X,X=null,Y=null):typeof Y=="function"&&(Q=Y,Y=null),X!=null&&this.write(X,Y),J.corked&&(J.corked=1,this.uncork()),J.ending||ce(this,J,Q),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ee(X,Y){X._final(function(Q){Y.pendingcb--,Q&&k(X,Q),Y.prefinished=!0,X.emit("prefinish"),ae(X,Y)})}function oe(X,Y){!Y.prefinished&&!Y.finalCalled&&(typeof X._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,process.nextTick(ee,X,Y)):(Y.prefinished=!0,X.emit("prefinish")))}function ae(X,Y){var Q=B(Y);if(Q&&(oe(X,Y),Y.pendingcb===0&&(Y.finished=!0,X.emit("finish"),Y.autoDestroy))){var J=X._readableState;(!J||J.autoDestroy&&J.endEmitted)&&X.destroy()}return Q}function ce(X,Y,Q){Y.ending=!0,ae(X,Y),Q&&(Y.finished?process.nextTick(Q):X.once("finish",Q)),Y.ended=!0,X.writable=!1}function xe(X,Y,Q){var J=X.entry;for(X.entry=null;J;){var de=J.callback;Y.pendingcb--,de(Q),J=J.next}Y.corkedRequestsFree.next=X}return Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),W.prototype.destroy=g.destroy,W.prototype._undestroy=g.undestroy,W.prototype._destroy=function(X,Y){Y(X)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var r=Object.keys||function(v){var p=[];for(var E in v)p.push(E);return p};_stream_duplex=c;var i=require_stream_readable(),s=require_stream_writable();requireInherits_browser()(c,i);for(var o=r(s.prototype),l=0;l<o.length;l++){var d=o[l];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(v){if(!(this instanceof c))return new c(v);i.call(this,v),s.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(g,this)}function g(v){v.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(r,i){var s=requireBuffer(),o=s.Buffer;function l(c,f){for(var g in c)f[g]=c[g]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=s:(l(s,i),i.Buffer=d);function d(c,f,g){return o(c,f,g)}d.prototype=Object.create(o.prototype),l(o,d),d.from=function(c,f,g){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,f,g)},d.alloc=function(c,f,g){if(typeof c!="number")throw new TypeError("Argument must be a number");var v=o(c);return f!==void 0?typeof g=="string"?v.fill(f,g):v.fill(f):v.fill(0),v},d.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},d.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var r=requireSafeBuffer().Buffer,i=r.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(_){if(!_)return"utf8";for(var b;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(b)return;_=(""+_).toLowerCase(),b=!0}}function o(_){var b=s(_);if(typeof b!="string"&&(r.isEncoding===i||!i(_)))throw new Error("Unknown encoding: "+_);return b||_}string_decoder.StringDecoder=l;function l(_){this.encoding=o(_);var b;switch(this.encoding){case"utf16le":this.text=E,this.end=S,b=4;break;case"utf8":this.fillLast=g,b=4;break;case"base64":this.text=w,this.end=D,b=3;break;default:this.write=m,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(b)}l.prototype.write=function(_){if(_.length===0)return"";var b,h;if(this.lastNeed){if(b=this.fillLast(_),b===void 0)return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<_.length?b?b+this.text(_,h):this.text(_,h):b||""},l.prototype.end=p,l.prototype.text=v,l.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function d(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function c(_,b,h){var k=b.length-1;if(k<h)return 0;var M=d(b[k]);return M>=0?(M>0&&(_.lastNeed=M-1),M):--k<h||M===-2?0:(M=d(b[k]),M>=0?(M>0&&(_.lastNeed=M-2),M):--k<h||M===-2?0:(M=d(b[k]),M>=0?(M>0&&(M===2?M=0:_.lastNeed=M-3),M):0))}function f(_,b,h){if((b[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return _.lastNeed=2,""}}function g(_){var b=this.lastTotal-this.lastNeed,h=f(this,_);if(h!==void 0)return h;if(this.lastNeed<=_.length)return _.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,b,0,_.length),this.lastNeed-=_.length}function v(_,b){var h=c(this,_,b);if(!this.lastNeed)return _.toString("utf8",b);this.lastTotal=h;var k=_.length-(h-this.lastNeed);return _.copy(this.lastChar,0,k),_.toString("utf8",b,k)}function p(_){var b=_&&_.length?this.write(_):"";return this.lastNeed?b+"":b}function E(_,b){if((_.length-b)%2===0){var h=_.toString("utf16le",b);if(h){var k=h.charCodeAt(h.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",b,_.length-1)}function S(_){var b=_&&_.length?this.write(_):"";if(this.lastNeed){var h=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,h)}return b}function w(_,b){var h=(_.length-b)%3;return h===0?_.toString("base64",b):(this.lastNeed=3-h,this.lastTotal=3,h===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",b,_.length-h))}function D(_){var b=_&&_.length?this.write(_):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(_){return _.toString(this.encoding)}function R(_){return _&&_.length?this.write(_):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var r=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function i(d){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];d.apply(this,g)}}}function s(){}function o(d){return d.setHeader&&typeof d.abort=="function"}function l(d,c,f){if(typeof c=="function")return l(d,null,c);c||(c={}),f=i(f||s);var g=c.readable||c.readable!==!1&&d.readable,v=c.writable||c.writable!==!1&&d.writable,p=function(){d.writable||S()},E=d._writableState&&d._writableState.finished,S=function(){v=!1,E=!0,g||f.call(d)},w=d._readableState&&d._readableState.endEmitted,D=function(){g=!1,w=!0,v||f.call(d)},m=function(h){f.call(d,h)},R=function(){var h;if(g&&!w)return(!d._readableState||!d._readableState.ended)&&(h=new r),f.call(d,h);if(v&&!E)return(!d._writableState||!d._writableState.ended)&&(h=new r),f.call(d,h)},_=function(){d.req.on("finish",S)};return o(d)?(d.on("complete",S),d.on("abort",R),d.req?_():d.on("request",_)):v&&!d._writableState&&(d.on("end",p),d.on("close",p)),d.on("end",D),d.on("finish",S),c.error!==!1&&d.on("error",m),d.on("close",R),function(){d.removeListener("complete",S),d.removeListener("abort",R),d.removeListener("request",_),d.req&&d.req.removeListener("finish",S),d.removeListener("end",p),d.removeListener("close",p),d.removeListener("finish",S),d.removeListener("end",D),d.removeListener("error",m),d.removeListener("close",R)}}return endOfStream=l,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var r;function i(h,k,M){return k=s(k),k in h?Object.defineProperty(h,k,{value:M,enumerable:!0,configurable:!0,writable:!0}):h[k]=M,h}function s(h){var k=o(h,"string");return typeof k=="symbol"?k:String(k)}function o(h,k){if(typeof h!="object"||h===null)return h;var M=h[Symbol.toPrimitive];if(M!==void 0){var z=M.call(h,k);if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(h)}var l=requireEndOfStream(),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),g=Symbol("ended"),v=Symbol("lastPromise"),p=Symbol("handlePromise"),E=Symbol("stream");function S(h,k){return{value:h,done:k}}function w(h){var k=h[d];if(k!==null){var M=h[E].read();M!==null&&(h[v]=null,h[d]=null,h[c]=null,k(S(M,!1)))}}function D(h){process.nextTick(w,h)}function m(h,k){return function(M,z){h.then(function(){if(k[g]){M(S(void 0,!0));return}k[p](M,z)},z)}}var R=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((r={get stream(){return this[E]},next:function(){var k=this,M=this[f];if(M!==null)return Promise.reject(M);if(this[g])return Promise.resolve(S(void 0,!0));if(this[E].destroyed)return new Promise(function(H,L){process.nextTick(function(){k[f]?L(k[f]):H(S(void 0,!0))})});var z=this[v],Z;if(z)Z=new Promise(m(z,this));else{var W=this[E].read();if(W!==null)return Promise.resolve(S(W,!1));Z=new Promise(this[p])}return this[v]=Z,Z}},i(r,Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var k=this;return new Promise(function(M,z){k[E].destroy(null,function(Z){if(Z){z(Z);return}M(S(void 0,!0))})})}),r),R),b=function(k){var M,z=Object.create(_,(M={},i(M,E,{value:k,writable:!0}),i(M,d,{value:null,writable:!0}),i(M,c,{value:null,writable:!0}),i(M,f,{value:null,writable:!0}),i(M,g,{value:k._readableState.endEmitted,writable:!0}),i(M,p,{value:function(W,H){var L=z[E].read();L?(z[v]=null,z[d]=null,z[c]=null,W(S(L,!1))):(z[d]=W,z[c]=H)},writable:!0}),M));return z[v]=null,l(k,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=z[c];W!==null&&(z[v]=null,z[d]=null,z[c]=null,W(Z)),z[f]=Z;return}var H=z[d];H!==null&&(z[v]=null,z[d]=null,z[c]=null,H(S(void 0,!0))),z[g]=!0}),k.on("readable",D.bind(null,z)),z};return async_iterator=b,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=H;var r;H.ReadableState=W,requireEvents().EventEmitter;var i=function(F,pe){return F.listeners(pe).length},s=requireStreamBrowser(),o=requireBuffer().Buffer,l=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(P){return o.from(P)}function c(P){return o.isBuffer(P)||P instanceof l}var f=require$$3,g;f&&f.debuglog?g=f.debuglog("stream"):g=function(){};var v=requireBuffer_list(),p=requireDestroy(),E=requireState(),S=E.getHighWaterMark,w=requireErrorsBrowser().codes,D=w.ERR_INVALID_ARG_TYPE,m=w.ERR_STREAM_PUSH_AFTER_EOF,R=w.ERR_METHOD_NOT_IMPLEMENTED,_=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,h,k;requireInherits_browser()(H,s);var M=p.errorOrDestroy,z=["error","close","destroy","pause","resume"];function Z(P,F,pe){if(typeof P.prependListener=="function")return P.prependListener(F,pe);!P._events||!P._events[F]?P.on(F,pe):Array.isArray(P._events[F])?P._events[F].unshift(pe):P._events[F]=[pe,P._events[F]]}function W(P,F,pe){r=r||require_stream_duplex(),P=P||{},typeof pe!="boolean"&&(pe=F instanceof r),this.objectMode=!!P.objectMode,pe&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=S(this,P,"readableHighWaterMark",pe),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(b||(b=requireString_decoder().StringDecoder),this.decoder=new b(P.encoding),this.encoding=P.encoding)}function H(P){if(r=r||require_stream_duplex(),!(this instanceof H))return new H(P);var F=this instanceof r;this._readableState=new W(P,this,F),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),s.call(this)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),H.prototype.destroy=p.destroy,H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(P,F){F(P)},H.prototype.push=function(P,F){var pe=this._readableState,be;return pe.objectMode?be=!0:typeof P=="string"&&(F=F||pe.defaultEncoding,F!==pe.encoding&&(P=o.from(P,F),F=""),be=!0),L(this,P,F,!1,be)},H.prototype.unshift=function(P){return L(this,P,null,!0,!1)};function L(P,F,pe,be,Me){g("readableAddChunk",F);var Ee=P._readableState;if(F===null)Ee.reading=!1,V(P,Ee);else{var Oe;if(Me||(Oe=N(Ee,F)),Oe)M(P,Oe);else if(Ee.objectMode||F&&F.length>0)if(typeof F!="string"&&!Ee.objectMode&&Object.getPrototypeOf(F)!==o.prototype&&(F=d(F)),be)Ee.endEmitted?M(P,new _):A(P,Ee,F,!0);else if(Ee.ended)M(P,new m);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!pe?(F=Ee.decoder.write(F),Ee.objectMode||F.length!==0?A(P,Ee,F,!1):ue(P,Ee)):A(P,Ee,F,!1)}else be||(Ee.reading=!1,ue(P,Ee))}return!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.length===0)}function A(P,F,pe,be){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,P.emit("data",pe)):(F.length+=F.objectMode?1:pe.length,be?F.buffer.unshift(pe):F.buffer.push(pe),F.needReadable&&G(P)),ue(P,F)}function N(P,F){var pe;return!c(F)&&typeof F!="string"&&F!==void 0&&!P.objectMode&&(pe=new D("chunk",["string","Buffer","Uint8Array"],F)),pe}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(P){b||(b=requireString_decoder().StringDecoder);var F=new b(P);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var pe=this._readableState.buffer.head,be="";pe!==null;)be+=F.write(pe.data),pe=pe.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var j=1073741824;function q(P){return P>=j?P=j:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function K(P,F){return P<=0||F.length===0&&F.ended?0:F.objectMode?1:P!==P?F.flowing&&F.length?F.buffer.head.data.length:F.length:(P>F.highWaterMark&&(F.highWaterMark=q(P)),P<=F.length?P:F.ended?F.length:(F.needReadable=!0,0))}H.prototype.read=function(P){g("read",P),P=parseInt(P,10);var F=this._readableState,pe=P;if(P!==0&&(F.emittedReadable=!1),P===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return g("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?Q(this):G(this),null;if(P=K(P,F),P===0&&F.ended)return F.length===0&&Q(this),null;var be=F.needReadable;g("need readable",be),(F.length===0||F.length-P<F.highWaterMark)&&(be=!0,g("length less than watermark",be)),F.ended||F.reading?(be=!1,g("reading or ended",be)):be&&(g("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(P=K(pe,F)));var Me;return P>0?Me=Y(P,F):Me=null,Me===null?(F.needReadable=F.length<=F.highWaterMark,P=0):(F.length-=P,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),pe!==P&&F.ended&&Q(this)),Me!==null&&this.emit("data",Me),Me};function V(P,F){if(g("onEofChunk"),!F.ended){if(F.decoder){var pe=F.decoder.end();pe&&pe.length&&(F.buffer.push(pe),F.length+=F.objectMode?1:pe.length)}F.ended=!0,F.sync?G(P):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,te(P)))}}function G(P){var F=P._readableState;g("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(g("emitReadable",F.flowing),F.emittedReadable=!0,process.nextTick(te,P))}function te(P){var F=P._readableState;g("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(P.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,X(P)}function ue(P,F){F.readingMore||(F.readingMore=!0,process.nextTick(B,P,F))}function B(P,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var pe=F.length;if(g("maybeReadMore read 0"),P.read(0),pe===F.length)break}F.readingMore=!1}H.prototype._read=function(P){M(this,new R("_read()"))},H.prototype.pipe=function(P,F){var pe=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=P;break;case 1:be.pipes=[be.pipes,P];break;default:be.pipes.push(P);break}be.pipesCount+=1,g("pipe count=%d opts=%j",be.pipesCount,F);var Me=(!F||F.end!==!1)&&P!==process.stdout&&P!==process.stderr,Ee=Me?Ie:nt;be.endEmitted?process.nextTick(Ee):pe.once("end",Ee),P.on("unpipe",Oe);function Oe(C,x){g("onunpipe"),C===pe&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,st())}function Ie(){g("onend"),P.end()}var We=ee(pe);P.on("drain",We);var Ve=!1;function st(){g("cleanup"),P.removeListener("close",He),P.removeListener("finish",ze),P.removeListener("drain",We),P.removeListener("error",Ae),P.removeListener("unpipe",Oe),pe.removeListener("end",Ie),pe.removeListener("end",nt),pe.removeListener("data",Je),Ve=!0,be.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&We()}pe.on("data",Je);function Je(C){g("ondata");var x=P.write(C);g("dest.write",x),x===!1&&((be.pipesCount===1&&be.pipes===P||be.pipesCount>1&&de(be.pipes,P)!==-1)&&!Ve&&(g("false write response, pause",be.awaitDrain),be.awaitDrain++),pe.pause())}function Ae(C){g("onerror",C),nt(),P.removeListener("error",Ae),i(P,"error")===0&&M(P,C)}Z(P,"error",Ae);function He(){P.removeListener("finish",ze),nt()}P.once("close",He);function ze(){g("onfinish"),P.removeListener("close",He),nt()}P.once("finish",ze);function nt(){g("unpipe"),pe.unpipe(P)}return P.emit("pipe",pe),be.flowing||(g("pipe resume"),pe.resume()),P};function ee(P){return function(){var pe=P._readableState;g("pipeOnDrain",pe.awaitDrain),pe.awaitDrain&&pe.awaitDrain--,pe.awaitDrain===0&&i(P,"data")&&(pe.flowing=!0,X(P))}}H.prototype.unpipe=function(P){var F=this._readableState,pe={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return P&&P!==F.pipes?this:(P||(P=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,P&&P.emit("unpipe",this,pe),this);if(!P){var be=F.pipes,Me=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var Ee=0;Ee<Me;Ee++)be[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var Oe=de(F.pipes,P);return Oe===-1?this:(F.pipes.splice(Oe,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),P.emit("unpipe",this,pe),this)},H.prototype.on=function(P,F){var pe=s.prototype.on.call(this,P,F),be=this._readableState;return P==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):P==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,g("on readable",be.length,be.reading),be.length?G(this):be.reading||process.nextTick(ae,this)),pe},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(P,F){var pe=s.prototype.removeListener.call(this,P,F);return P==="readable"&&process.nextTick(oe,this),pe},H.prototype.removeAllListeners=function(P){var F=s.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&process.nextTick(oe,this),F};function oe(P){var F=P._readableState;F.readableListening=P.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:P.listenerCount("data")>0&&P.resume()}function ae(P){g("readable nexttick read 0"),P.read(0)}H.prototype.resume=function(){var P=this._readableState;return P.flowing||(g("resume"),P.flowing=!P.readableListening,ce(this,P)),P.paused=!1,this};function ce(P,F){F.resumeScheduled||(F.resumeScheduled=!0,process.nextTick(xe,P,F))}function xe(P,F){g("resume",F.reading),F.reading||P.read(0),F.resumeScheduled=!1,P.emit("resume"),X(P),F.flowing&&!F.reading&&P.read(0)}H.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(P){var F=P._readableState;for(g("flow",F.flowing);F.flowing&&P.read()!==null;);}H.prototype.wrap=function(P){var F=this,pe=this._readableState,be=!1;P.on("end",function(){if(g("wrapped end"),pe.decoder&&!pe.ended){var Oe=pe.decoder.end();Oe&&Oe.length&&F.push(Oe)}F.push(null)}),P.on("data",function(Oe){if(g("wrapped data"),pe.decoder&&(Oe=pe.decoder.write(Oe)),!(pe.objectMode&&Oe==null)&&!(!pe.objectMode&&(!Oe||!Oe.length))){var Ie=F.push(Oe);Ie||(be=!0,P.pause())}});for(var Me in P)this[Me]===void 0&&typeof P[Me]=="function"&&(this[Me]=function(Ie){return function(){return P[Ie].apply(P,arguments)}}(Me));for(var Ee=0;Ee<z.length;Ee++)P.on(z[Ee],this.emit.bind(this,z[Ee]));return this._read=function(Oe){g("wrapped _read",Oe),be&&(be=!1,P.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return h===void 0&&(h=requireAsync_iterator()),h(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),H._fromList=Y,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(P,F){if(F.length===0)return null;var pe;return F.objectMode?pe=F.buffer.shift():!P||P>=F.length?(F.decoder?pe=F.buffer.join(""):F.buffer.length===1?pe=F.buffer.first():pe=F.buffer.concat(F.length),F.buffer.clear()):pe=F.buffer.consume(P,F.decoder),pe}function Q(P){var F=P._readableState;g("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,process.nextTick(J,F,P))}function J(P,F){if(g("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,F.readable=!1,F.emit("end"),P.autoDestroy)){var pe=F._writableState;(!pe||pe.autoDestroy&&pe.finished)&&F.destroy()}}typeof Symbol=="function"&&(H.from=function(P,F){return k===void 0&&(k=requireFromBrowser()),k(H,P,F)});function de(P,F){for(var pe=0,be=P.length;pe<be;pe++)if(P[pe]===F)return pe;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=f;var r=requireErrorsBrowser().codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=r.ERR_TRANSFORM_WITH_LENGTH_0,d=require_stream_duplex();requireInherits_browser()(f,d);function c(p,E){var S=this._transformState;S.transforming=!1;var w=S.writecb;if(w===null)return this.emit("error",new s);S.writechunk=null,S.writecb=null,E!=null&&this.push(E),w(p);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function f(p){if(!(this instanceof f))return new f(p);d.call(this,p),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",g)}function g(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,S){v(p,E,S)}):v(this,null,null)}f.prototype.push=function(p,E){return this._transformState.needTransform=!1,d.prototype.push.call(this,p,E)},f.prototype._transform=function(p,E,S){S(new i("_transform()"))},f.prototype._write=function(p,E,S){var w=this._transformState;if(w.writecb=S,w.writechunk=p,w.writeencoding=E,!w.transforming){var D=this._readableState;(w.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},f.prototype._read=function(p){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},f.prototype._destroy=function(p,E){d.prototype._destroy.call(this,p,function(S){E(S)})};function v(p,E,S){if(E)return p.emit("error",E);if(S!=null&&p.push(S),p._writableState.length)throw new l;if(p._transformState.transforming)throw new o;return p.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=i;var r=require_stream_transform();requireInherits_browser()(i,r);function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}return i.prototype._transform=function(s,o,l){l(null,s)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var r;function i(S){var w=!1;return function(){w||(w=!0,S.apply(void 0,arguments))}}var s=requireErrorsBrowser().codes,o=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function d(S){if(S)throw S}function c(S){return S.setHeader&&typeof S.abort=="function"}function f(S,w,D,m){m=i(m);var R=!1;S.on("close",function(){R=!0}),r===void 0&&(r=requireEndOfStream()),r(S,{readable:w,writable:D},function(b){if(b)return m(b);R=!0,m()});var _=!1;return function(b){if(!R&&!_){if(_=!0,c(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();m(b||new l("pipe"))}}}function g(S){S()}function v(S,w){return S.pipe(w)}function p(S){return!S.length||typeof S[S.length-1]!="function"?d:S.pop()}function E(){for(var S=arguments.length,w=new Array(S),D=0;D<S;D++)w[D]=arguments[D];var m=p(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new o("streams");var R,_=w.map(function(b,h){var k=h<w.length-1,M=h>0;return f(b,k,M,function(z){R||(R=z),z&&_.forEach(g),!k&&(_.forEach(g),m(R))})});return w.reduce(v)}return pipeline_1=E,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=s;var r=requireEvents().EventEmitter,i=requireInherits_browser();i(s,r),s.Readable=require_stream_readable(),s.Writable=require_stream_writable(),s.Duplex=require_stream_duplex(),s.Transform=require_stream_transform(),s.PassThrough=require_stream_passthrough(),s.finished=requireEndOfStream(),s.pipeline=requirePipeline(),s.Stream=s;function s(){r.call(this)}return s.prototype.pipe=function(o,l){var d=this;function c(w){o.writable&&o.write(w)===!1&&d.pause&&d.pause()}d.on("data",c);function f(){d.readable&&d.resume&&d.resume()}o.on("drain",f),!o._isStdio&&(!l||l.end!==!1)&&(d.on("end",v),d.on("close",p));var g=!1;function v(){g||(g=!0,o.end())}function p(){g||(g=!0,typeof o.destroy=="function"&&o.destroy())}function E(w){if(S(),r.listenerCount(this,"error")===0)throw w}d.on("error",E),o.on("error",E);function S(){d.removeListener("data",c),o.removeListener("drain",f),d.removeListener("end",v),d.removeListener("close",p),d.removeListener("error",E),o.removeListener("error",E),d.removeListener("end",S),d.removeListener("close",S),o.removeListener("close",S)}return d.on("end",S),d.on("close",S),o.on("close",S),o.emit("pipe",d),o},streamBrowserify}var hasRequiredTrainStream;function requireTrainStream(){if(hasRequiredTrainStream)return trainStream;hasRequiredTrainStream=1,Object.defineProperty(trainStream,"__esModule",{value:!0});var r=function(){function c(f,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,g,v){return g&&c(f.prototype,g),v&&c(f,v),f}}(),i=requireStreamBrowserify();function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function o(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function l(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){l(f,c);function f(g){s(this,f);var v=o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,{objectMode:!0}));if(g=g||{},!g.neuralNetwork)throw new Error("no neural network specified");var p=g,E=p.neuralNetwork;v.neuralNetwork=E,v.dataFormatDetermined=!1,v.i=0,v.size=0,v.count=0,v.sum=0,v.floodCallback=g.floodCallback,v.doneTrainingCallback=g.doneTrainingCallback,E.updateTrainingOptions(g);var S=E.trainOpts;return v.iterations=S.iterations,v.errorThresh=S.errorThresh,v.log=S.log,v.logPeriod=S.logPeriod,v.callbackPeriod=S.callbackPeriod,v.callback=S.callback,v.on("finish",v.finishStreamIteration.bind(v)),v}return r(f,[{key:"endInputs",value:function(){this.write(!1)}},{key:"_write",value:function(v,p,E){if(!v)return this.emit("finish"),E();if(!this.dataFormatDetermined)return this.size++,this.neuralNetwork.addFormat(v),this.firstDatum=this.firstDatum||v,E();this.count++;var S=this.neuralNetwork.formatData(v);this.sum+=this.neuralNetwork.trainPattern(S[0],!0),E()}},{key:"finishStreamIteration",value:function(){if(this.dataFormatDetermined&&this.size!==this.count&&this.log("This iteration's data length was different from the first."),!this.dataFormatDetermined){var v=this.neuralNetwork.formatData(this.firstDatum);this.neuralNetwork.verifyIsInitialized(v),this.dataFormatDetermined=!0,typeof this.floodCallback=="function"&&this.floodCallback();return}var p=this.sum/this.size;if(this.log&&this.i%this.logPeriod===0&&this.log("iterations: "+this.i+", training error: "+p),this.callback&&this.i%this.callbackPeriod===0&&this.callback({error:p,iterations:this.i}),this.sum=0,this.count=0,this.i++,this.i<this.iterations&&p>this.errorThresh){if(typeof this.floodCallback=="function")return this.floodCallback()}else if(typeof this.doneTrainingCallback=="function")return this.doneTrainingCallback({error:p,iterations:this.i})}}]),f}(i.Writable);return trainStream.default=d,trainStream}var rnnTimeStep={},matrix={},hasRequiredMatrix;function requireMatrix(){if(hasRequiredMatrix)return matrix;hasRequiredMatrix=1,Object.defineProperty(matrix,"__esModule",{value:!0});var r=function(){function c(f,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,g,v){return g&&c(f.prototype,g),v&&c(f,v),f}}(),i=requireZeros(),s=o(i);function o(c){return c&&c.__esModule?c:{default:c}}function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var d=function(){function c(f,g){l(this,c),f!==void 0&&g!==void 0&&(this.rows=f,this.columns=g,this.weights=(0,s.default)(f*g),this.deltas=(0,s.default)(f*g))}return r(c,[{key:"getWeights",value:function(g,v){var p=this.columns*g+v;if(p<0&&p>=this.weights.length)throw new Error("get accessor is skewed");return this.weights[p]}},{key:"setWeight",value:function(g,v,p){var E=this.columns*g+v;if(E<0&&E>=this.weights.length)throw new Error("set accessor is skewed");this.weights[E]=p}},{key:"setDeltas",value:function(g,v,p){var E=this.columns*g+v;if(E<0&&E>=this.weights.length)throw new Error("set accessor is skewed");this.deltas[E]=p}},{key:"toJSON",value:function(){return{rows:this.rows,columns:this.columns,weights:this.weights.slice(0)}}},{key:"weightsToArray",value:function(){for(var g=[],v=0,p=0,E=0;E<this.weights.length;E++)p===0&&g.push([]),g[v].push(this.weights[E]),p++,p>=this.columns&&(p=0,v++);return g}},{key:"deltasToArray",value:function(){for(var g=[],v=0,p=0,E=0;E<this.deltas.length;E++)p===0&&g.push([]),g[v].push(this.deltas[E]),p++,p>=this.columns&&(p=0,v++);return g}}],[{key:"fromJSON",value:function(g){for(var v=new c(g.rows,g.columns),p=0,E=g.rows*g.columns;p<E;p++)v.weights[p]=g.weights[p];return v}},{key:"fromArray",value:function(g,v){var p=g.length,E=g[0].length,S=new c(p,E);v=v||g;for(var w=0;w<p;w++)for(var D=g[w],m=v[w],R=0;R<E;R++)S.setWeight(w,R,D[R]),S.setDeltas(w,R,m[R]);return S}}]),c}();return matrix.default=d,matrix}var randomMatrix={},random={},hasRequiredRandom;function requireRandom(){if(hasRequiredRandom)return random;hasRequiredRandom=1,Object.defineProperty(random,"__esModule",{value:!0}),random.randomF=r,random.randomI=i,random.randomN=s;function r(l,d){return Math.random()*(d-l)+l}function i(l,d){return Math.floor(Math.random()*(d-l)+l)}function s(l,d){return l+o()*d}function o(){if(o.returnV)return o.returnV=!1,o.vVal;var l=2*Math.random()-1,d=2*Math.random()-1,c=l*l+d*d;if(c==0||c>1)return o();var f=Math.sqrt(-2*Math.log(c)/c);return o.vVal=d*f,o.returnV=!0,l*f}return o.returnV=!1,o.vVal=0,random}var hasRequiredRandomMatrix;function requireRandomMatrix(){if(hasRequiredRandomMatrix)return randomMatrix;hasRequiredRandomMatrix=1,Object.defineProperty(randomMatrix,"__esModule",{value:!0});var r=requireMatrix(),i=o(r),s=requireRandom();function o(g){return g&&g.__esModule?g:{default:g}}function l(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){c(v,g);function v(p,E,S){l(this,v);var w=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,p,E));w.rows=p,w.columns=E,w.std=S;for(var D=0,m=w.weights.length;D<m;D++)w.weights[D]=(0,s.randomF)(-S,S);return w}return v}(i.default);return randomMatrix.default=f,randomMatrix}var equation={},onesMatrix={},ones={},hasRequiredOnes;function requireOnes(){if(hasRequiredOnes)return ones;hasRequiredOnes=1,Object.defineProperty(ones,"__esModule",{value:!0}),ones.default=r;function r(i){if(typeof Float32Array<"u")return new Float32Array(i).fill(1);for(var s=new Array(i),o=0;o<i;o++)s[o]=1;return s}return ones}var hasRequiredOnesMatrix;function requireOnesMatrix(){if(hasRequiredOnesMatrix)return onesMatrix;hasRequiredOnesMatrix=1,Object.defineProperty(onesMatrix,"__esModule",{value:!0});var r=requireMatrix(),i=l(r),s=requireOnes(),o=l(s);function l(v){return v&&v.__esModule?v:{default:v}}function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function f(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var g=function(v){f(p,v);function p(E,S){d(this,p);var w=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E,S));return w.rows=E,w.columns=S,w.weights=(0,o.default)(E*S),w.deltas=(0,o.default)(E*S),w}return p}(i.default);return onesMatrix.default=g,onesMatrix}var copy={},hasRequiredCopy;function requireCopy(){if(hasRequiredCopy)return copy;hasRequiredCopy=1,Object.defineProperty(copy,"__esModule",{value:!0}),copy.default=r;function r(i,s){i.rows=parseInt(s.rows),i.columns=parseInt(s.columns),i.weights=s.weights.slice(0),i.deltas=s.deltas.slice(0)}return copy}var cloneNegative={},hasRequiredCloneNegative;function requireCloneNegative(){if(hasRequiredCloneNegative)return cloneNegative;hasRequiredCloneNegative=1,Object.defineProperty(cloneNegative,"__esModule",{value:!0}),cloneNegative.default=r;function r(i,s){i.rows=parseInt(s.rows),i.columns=parseInt(s.columns),i.weights=s.weights.slice(0),i.deltas=s.deltas.slice(0);for(var o=0;o<s.weights.length;o++)i.weights[o]=-s.weights[o],i.deltas[o]=0}return cloneNegative}var add={},hasRequiredAdd;function requireAdd(){if(hasRequiredAdd)return add;hasRequiredAdd=1,Object.defineProperty(add,"__esModule",{value:!0}),add.default=r;function r(i,s,o){for(var l=0;l<s.weights.length;l++)i.weights[l]=s.weights[l]+o.weights[l],i.deltas[l]=0}return add}var addB={},hasRequiredAddB;function requireAddB(){if(hasRequiredAddB)return addB;hasRequiredAddB=1,Object.defineProperty(addB,"__esModule",{value:!0}),addB.default=r;function r(i,s,o){for(var l=0;l<i.deltas.length;l++)s.deltas[l]=i.deltas[l],o.deltas[l]=i.deltas[l]}return addB}var allOnes={},hasRequiredAllOnes;function requireAllOnes(){if(hasRequiredAllOnes)return allOnes;hasRequiredAllOnes=1,Object.defineProperty(allOnes,"__esModule",{value:!0}),allOnes.default=r;function r(i){for(var s=0;s<i.weights.length;s++)i.weights[s]=1,i.deltas[s]=0}return allOnes}var multiply={},hasRequiredMultiply;function requireMultiply(){if(hasRequiredMultiply)return multiply;hasRequiredMultiply=1,Object.defineProperty(multiply,"__esModule",{value:!0}),multiply.default=r;function r(i,s,o){for(var l=s.rows,d=s.columns,c=o.columns,f=0;f<l;f++)for(var g=d*f,v=c*f,p=0;p<c;p++){for(var E=0,S=0;S<d;S++){var w=c*S,D=g+S,m=w+p;E+=s.weights[D]*o.weights[m],s.deltas[D]=0,o.deltas[m]=0}i.weights[v+p]=E}}return multiply}var multiplyB={},hasRequiredMultiplyB;function requireMultiplyB(){if(hasRequiredMultiplyB)return multiplyB;hasRequiredMultiplyB=1,Object.defineProperty(multiplyB,"__esModule",{value:!0}),multiplyB.default=r;function r(i,s,o){for(var l=s.rows,d=s.columns,c=o.columns,f=0;f<l;f++)for(var g=d*f,v=c*f,p=0;p<c;p++)for(var E=0;E<d;E++){var S=c*E,w=g+E,D=S+p,m=i.deltas[v+p];s.deltas[w]+=o.weights[D]*m,o.deltas[D]+=s.weights[w]*m}}return multiplyB}var multiplyElement={},hasRequiredMultiplyElement;function requireMultiplyElement(){if(hasRequiredMultiplyElement)return multiplyElement;hasRequiredMultiplyElement=1,Object.defineProperty(multiplyElement,"__esModule",{value:!0}),multiplyElement.default=r;function r(i,s,o){for(var l=s.weights,d=0;d<l.length;d++)i.weights[d]=s.weights[d]*o.weights[d],i.deltas[d]=0}return multiplyElement}var multiplyElementB={},hasRequiredMultiplyElementB;function requireMultiplyElementB(){if(hasRequiredMultiplyElementB)return multiplyElementB;hasRequiredMultiplyElementB=1,Object.defineProperty(multiplyElementB,"__esModule",{value:!0}),multiplyElementB.default=r;function r(i,s,o){for(var l=0;l<s.weights.length;l++)s.deltas[l]=o.weights[l]*i.deltas[l],o.deltas[l]=s.weights[l]*i.deltas[l]}return multiplyElementB}var relu={},hasRequiredRelu;function requireRelu(){if(hasRequiredRelu)return relu;hasRequiredRelu=1,Object.defineProperty(relu,"__esModule",{value:!0}),relu.default=r;function r(i,s){for(var o=0;o<s.weights.length;o++)i.weights[o]=Math.max(0,s.weights[o]),i.deltas[o]=0}return relu}var reluB={},hasRequiredReluB;function requireReluB(){if(hasRequiredReluB)return reluB;hasRequiredReluB=1,Object.defineProperty(reluB,"__esModule",{value:!0}),reluB.default=r;function r(i,s){for(var o=0;o<i.deltas.length;o++)s.deltas[o]=s.weights[o]>0?i.deltas[o]:0}return reluB}var rowPluck={},hasRequiredRowPluck;function requireRowPluck(){if(hasRequiredRowPluck)return rowPluck;hasRequiredRowPluck=1,Object.defineProperty(rowPluck,"__esModule",{value:!0}),rowPluck.default=r;function r(i,s,o){for(var l=s.columns,d=l*o,c=0;c<l;c++)i.weights[c]=s.weights[d+c],i.deltas[c]=0}return rowPluck}var rowPluckB={},hasRequiredRowPluckB;function requireRowPluckB(){if(hasRequiredRowPluckB)return rowPluckB;hasRequiredRowPluckB=1,Object.defineProperty(rowPluckB,"__esModule",{value:!0}),rowPluckB.default=r;function r(i,s,o){for(var l=s.columns,d=l*o,c=0;c<l;c++)s.deltas[d+c]=i.deltas[c]}return rowPluckB}var sigmoid={},hasRequiredSigmoid;function requireSigmoid(){if(hasRequiredSigmoid)return sigmoid;hasRequiredSigmoid=1,Object.defineProperty(sigmoid,"__esModule",{value:!0}),sigmoid.default=r;function r(i,s){for(var o=0;o<s.weights.length;o++)i.weights[o]=1/(1+Math.exp(-s.weights[o])),i.deltas[o]=0}return sigmoid}var sigmoidB={},hasRequiredSigmoidB;function requireSigmoidB(){if(hasRequiredSigmoidB)return sigmoidB;hasRequiredSigmoidB=1,Object.defineProperty(sigmoidB,"__esModule",{value:!0}),sigmoidB.default=r;function r(i,s){for(var o=0;o<i.deltas.length;o++){var l=i.weights[o];s.deltas[o]=l*(1-l)*i.deltas[o]}}return sigmoidB}var tanh={},hasRequiredTanh;function requireTanh(){if(hasRequiredTanh)return tanh;hasRequiredTanh=1,Object.defineProperty(tanh,"__esModule",{value:!0}),tanh.default=r;function r(i,s){for(var o=0;o<s.weights.length;o++)i.weights[o]=Math.tanh(s.weights[o]),i.deltas[o]=0}return tanh}var tanhB={},hasRequiredTanhB;function requireTanhB(){if(hasRequiredTanhB)return tanhB;hasRequiredTanhB=1,Object.defineProperty(tanhB,"__esModule",{value:!0}),tanhB.default=r;function r(i,s){for(var o=0;o<i.deltas.length;o++){var l=i.weights[o];s.deltas[o]=(1-l*l)*i.deltas[o]}}return tanhB}var softmax={},hasRequiredSoftmax;function requireSoftmax(){if(hasRequiredSoftmax)return softmax;hasRequiredSoftmax=1,Object.defineProperty(softmax,"__esModule",{value:!0}),softmax.default=o;var r=requireMatrix(),i=s(r);function s(l){return l&&l.__esModule?l:{default:l}}function o(l){for(var d=new i.default(l.rows,l.columns),c=-999999,f=0;f<l.weights.length;f++)l.weights[f]>c&&(c=l.weights[f]);for(var g=0,v=0;v<l.weights.length;v++)d.weights[v]=Math.exp(l.weights[v]-c),g+=d.weights[v];for(var p=0;p<l.weights.length;p++)d.weights[p]/=g;return d}return softmax}var hasRequiredEquation;function requireEquation(){if(hasRequiredEquation)return equation;hasRequiredEquation=1,Object.defineProperty(equation,"__esModule",{value:!0});var r=function(){function X(Y,Q){for(var J=0;J<Q.length;J++){var de=Q[J];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(Y,de.key,de)}}return function(Y,Q,J){return Q&&X(Y.prototype,Q),J&&X(Y,J),Y}}(),i=requireMatrix(),s=ae(i),o=requireOnesMatrix();ae(o);var l=requireCopy();ae(l);var d=requireCloneNegative(),c=ae(d),f=requireAdd(),g=ae(f),v=requireAddB(),p=ae(v),E=requireAllOnes(),S=ae(E),w=requireMultiply(),D=ae(w),m=requireMultiplyB(),R=ae(m),_=requireMultiplyElement(),b=ae(_),h=requireMultiplyElementB(),k=ae(h),M=requireRelu(),z=ae(M),Z=requireReluB(),W=ae(Z),H=requireRowPluck(),L=ae(H),A=requireRowPluckB(),N=ae(A),j=requireSigmoid(),q=ae(j),K=requireSigmoidB(),V=ae(K),G=requireTanh(),te=ae(G),ue=requireTanhB(),B=ae(ue),ee=requireSoftmax(),oe=ae(ee);function ae(X){return X&&X.__esModule?X:{default:X}}function ce(X,Y){if(!(X instanceof Y))throw new TypeError("Cannot call a class as a function")}var xe=function(){function X(){ce(this,X),this.inputRow=0,this.inputValue=null,this.states=[]}return r(X,[{key:"add",value:function(Q,J){if(Q.weights.length!==J.weights.length)throw new Error("misaligned matrices");var de=new s.default(Q.rows,Q.columns);return this.states.push({left:Q,right:J,product:de,forwardFn:g.default,backpropagationFn:p.default}),de}},{key:"allOnes",value:function(Q,J){var de=new s.default(Q,J);return this.states.push({left:de,product:de,forwardFn:S.default}),de}},{key:"cloneNegative",value:function(Q){var J=new s.default(Q.rows,Q.columns);return this.states.push({left:Q,product:J,forwardFn:c.default}),J}},{key:"subtract",value:function(Q,J){if(Q.weights.length!==J.weights.length)throw new Error("misaligned matrices");return this.add(this.add(this.allOnes(Q.rows,Q.columns),this.cloneNegative(Q)),J)}},{key:"multiply",value:function(Q,J){if(Q.columns!==J.rows)throw new Error("misaligned matrices");var de=new s.default(Q.rows,J.columns);return this.states.push({left:Q,right:J,product:de,forwardFn:D.default,backpropagationFn:R.default}),de}},{key:"multiplyElement",value:function(Q,J){if(Q.weights.length!==J.weights.length)throw new Error("misaligned matrices");var de=new s.default(Q.rows,Q.columns);return this.states.push({left:Q,right:J,product:de,forwardFn:b.default,backpropagationFn:k.default}),de}},{key:"relu",value:function(Q){var J=new s.default(Q.rows,Q.columns);return this.states.push({left:Q,product:J,forwardFn:z.default,backpropagationFn:W.default}),J}},{key:"input",value:function(Q){var J=this;return this.states.push({product:Q,forwardFn:function(P){P.weights=Q.weights=J.inputValue}}),Q}},{key:"inputMatrixToRow",value:function(Q){var J=this,de=new s.default(Q.columns,1);return this.states.push({left:Q,get right(){return J.inputRow},product:de,forwardFn:L.default,backpropagationFn:N.default}),de}},{key:"sigmoid",value:function(Q){var J=new s.default(Q.rows,Q.columns);return this.states.push({left:Q,product:J,forwardFn:q.default,backpropagationFn:V.default}),J}},{key:"tanh",value:function(Q){var J=new s.default(Q.rows,Q.columns);return this.states.push({left:Q,product:J,forwardFn:te.default,backpropagationFn:B.default}),J}},{key:"observe",value:function(Q){return this.states.push({forwardFn:function(){},backpropagationFn:function(){}}),Q}},{key:"runIndex",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.inputRow=Q;for(var J=void 0,de=0,P=this.states.length;de<P;de++)J=this.states[de],J.hasOwnProperty("forwardFn")&&J.forwardFn(J.product,J.left,J.right);return J.product}},{key:"runInput",value:function(Q){this.inputValue=Q;for(var J=void 0,de=0,P=this.states.length;de<P;de++)J=this.states[de],J.hasOwnProperty("forwardFn")&&J.forwardFn(J.product,J.left,J.right);return J.product}},{key:"backpropagate",value:function(){for(var Q=this.states.length,J=void 0;Q-- >0;)J=this.states[Q],J.hasOwnProperty("backpropagationFn")&&J.backpropagationFn(J.product,J.left,J.right);return J.product}},{key:"backpropagateIndex",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.inputRow=Q;for(var J=this.states.length,de=void 0;J-- >0;)de=this.states[J],de.hasOwnProperty("backpropagationFn")&&de.backpropagationFn(de.product,de.left,de.right);return de.product}},{key:"predictTarget",value:function(Q,J){for(var de=this.runInput(Q),P=0,F=0;F<de.weights.length;F++){var pe=de.weights[F]-J[F];P+=Math.abs(pe),de.deltas[F]=pe}return P}},{key:"predictTargetIndex",value:function(Q,J){var de=this.runIndex(Q),P=de,F=(0,oe.default)(de);return P.deltas=F.weights.slice(0),P.deltas[J]-=1,-Math.log2(F.weights[J])}}]),X}();return equation.default=xe,equation}var rnn={},sampleI={},hasRequiredSampleI;function requireSampleI(){if(hasRequiredSampleI)return sampleI;hasRequiredSampleI=1,Object.defineProperty(sampleI,"__esModule",{value:!0}),sampleI.default=s;var r=requireRandom(),i=r.randomF;function s(o){for(var l=i(0,1),d=0,c=0,f=o.weights;;){if(d+=f[c],d>l)return c;c++}}return sampleI}var maxI={},hasRequiredMaxI;function requireMaxI(){if(hasRequiredMaxI)return maxI;hasRequiredMaxI=1,Object.defineProperty(maxI,"__esModule",{value:!0}),maxI.default=r;function r(i){for(var s=i.weights,o=s[0],l=0,d=1;d<s.length;d++){var c=s[d];c<o||(l=d,o=c)}return l}return maxI}var dataFormatter={},hasRequiredDataFormatter;function requireDataFormatter(){if(hasRequiredDataFormatter)return dataFormatter;hasRequiredDataFormatter=1,Object.defineProperty(dataFormatter,"__esModule",{value:!0});var r=function(){function l(d,c){for(var f=0;f<c.length;f++){var g=c[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,f){return c&&l(d.prototype,c),f&&l(d,f),d}}();function i(l){if(Array.isArray(l)){for(var d=0,c=Array(l.length);d<l.length;d++)c[d]=l[d];return c}else return Array.from(l)}function s(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;s(this,l),d!==void 0&&(this.values=d,this.indexTable={},this.characterTable={},this.characters=[],this.specialIndexes=[],this.buildCharactersFromIterable(d),this.buildTables(c))}return r(l,[{key:"buildCharactersFromIterable",value:function(c){for(var f={},g=0,v=c.length;g<v;g++){var p=c[g];if(p.hasOwnProperty("length"))for(var E=0,S=p.length;E<S;E++){var w=p[E];f.hasOwnProperty(w)||(f[w]=!0,this.characters.push(w))}else{var D=c[g];if(f.hasOwnProperty(D))continue;f[g]=!0,this.characters.push(D)}}}},{key:"buildTables",value:function(c){for(var f=this.characters.length,g=0;g<f;g++){var v=this.characters[g];g>=c&&(this.indexTable[v]=g,this.characterTable[g]=v)}}},{key:"toIndexes",value:function(c){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=[],v=this.indexTable,p=0,E=c.length;p<E;p++){var S=c[p],w=v[S];if(w===void 0)if(v.unrecognized)w=v.unrecognized;else throw new Error('unrecognized character "'+S+'"');w<f||g.push(w)}return g}},{key:"toIndexesInputOutput",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=void 0;return typeof c=="string"?v=this.toIndexes(c.split("").concat(["stop-input","start-output"]),g):v=this.toIndexes(c.concat(["stop-input","start-output"]),g),f===null?v:typeof f=="string"?v.concat(this.toIndexes(f.split(""),g)):v.concat(this.toIndexes(f,g))}},{key:"toCharacters",value:function(c){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=[],v=this.characterTable,p=this.indexTable,E=0,S=c.length;E<S;E++){var w=c[E];if(!(w<f)){var D=v[w];if(D===void 0)if(p.unrecognized)D=v[p.unrecognized];else throw new Error('unrecognized index "'+w+'"');else D!==null&&g.push(D)}}return g}},{key:"toString",value:function(c,f){return this.toCharacters(c,f).join("")}},{key:"addInputOutput",value:function(){this.addSpecial("stop-input"),this.addSpecial("start-output")}},{key:"addUnrecognized",value:function(){this.addSpecial("unrecognized")}},{key:"addSpecial",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=this.indexTable[c]=this.characters.length;this.characterTable[g]=f,this.specialIndexes.push(this.characters.length),this.characters.push(c)}},{key:"countSpecial",value:function(c){for(var f=0,g=0;g<this.specialIndexes;g++)for(var v=-1;v=c.indexOf(this.specialIndexes[g],v)>-1;)f++;return f}},{key:"toFunctionString",value:function(){return`
var characterTable = `+JSON.stringify(this.characterTable)+`;
var indexTable = `+JSON.stringify(this.indexTable)+`;
var characters = `+JSON.stringify(this.characters)+`;
`+this.toIndexes.toString().replace(/(let|var) indexTable = this[.]indexTable;\n/,"").replace(/this[.]/g,"")+`
`+this.toIndexesInputOutput.toString().replace(/this[.]/g,"")+`
`+this.toCharacters.toString().replace(/(let|var) characterTable = this[.]characterTable;\n/g,"").replace(/this[.]/,"")+`
`}}],[{key:"fromAllPrintable",value:function(c){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[`
`],g=32;g<=126;g++)f.push(String.fromCharCode(g));return new l(f,c)}},{key:"fromAllPrintableInputOutput",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[`
`],g=l.fromAllPrintable(c,f);return g.addInputOutput(),g}},{key:"fromStringInputOutput",value:function(c,f){var g,v=(g=String.prototype).concat.apply(g,i(new Set(c))),p=new l(v,f);return p.addInputOutput(),p}},{key:"fromArrayInputOutput",value:function(c,f){var g=new l(c.filter(function(v,p,E){return E.indexOf(v)===p}).sort(),f);return g.addInputOutput(),g}},{key:"fromString",value:function(c,f){var g,v=(g=String.prototype).concat.apply(g,i(new Set(c)));return new l(v,f)}},{key:"fromJSON",value:function(c){var f=new l;return f.indexTable=c.indexTable,f.characterTable=c.characterTable,f.values=c.values,f.characters=c.characters,f.specialIndexes=c.specialIndexes,f}}]),l}();return dataFormatter.default=o,dataFormatter}var hasRequiredRnn;function requireRnn(){if(hasRequiredRnn)return rnn;hasRequiredRnn=1,Object.defineProperty(rnn,"__esModule",{value:!0});var r=function(){function H(L,A){for(var N=0;N<A.length;N++){var j=A[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(L,j.key,j)}}return function(L,A,N){return A&&H(L.prototype,A),N&&H(L,N),L}}(),i=requireMatrix(),s=z(i),o=requireRandomMatrix(),l=z(o),d=requireEquation(),c=z(d),f=requireSampleI(),g=z(f),v=requireMaxI(),p=z(v),E=requireSoftmax(),S=z(E),w=requireCopy(),D=z(w),m=requireRandom(),R=requireZeros(),_=z(R),b=requireDataFormatter(),h=z(b),k=requireNeuralNetwork(),M=z(k);function z(H){return H&&H.__esModule?H:{default:H}}function Z(H,L){if(!(H instanceof L))throw new TypeError("Cannot call a class as a function")}var W=function(){function H(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z(this,H);var A=this.constructor.defaults;Object.assign(this,A,L),this.trainOpts={},this.updateTrainingOptions(Object.assign({},this.constructor.trainDefaults,L)),this.stepCache={},this.runs=0,this.ratioClipped=null,this.model=null,this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null,L.json&&this.fromJSON(L.json)}return r(H,[{key:"initialize",value:function(){this.model={input:null,hiddenLayers:[],output:null,equations:[],allMatrices:[],equationConnections:[],outputConnector:null},this.dataFormatter&&(this.inputSize=this.inputRange=this.outputSize=this.dataFormatter.characters.length),this.mapModel()}},{key:"createHiddenLayers",value:function(){this.model.hiddenLayers.push(this.getModel(this.hiddenLayers[0],this.inputSize));for(var A=this.hiddenLayers[0],N=1;N<this.hiddenLayers.length;N++){var j=this.hiddenLayers[N];this.model.hiddenLayers.push(this.getModel(j,A)),A=j}}},{key:"getModel",value:function(A,N){return{weight:new l.default(A,N,.08),transition:new l.default(A,A,.08),bias:new s.default(A,1)}}},{key:"getEquation",value:function(A,N,j,q){var K=A.relu.bind(A),V=A.add.bind(A),G=A.multiply.bind(A);return K(V(V(G(q.weight,N),G(q.transition,j)),q.bias))}},{key:"createInputMatrix",value:function(){this.model.input=new l.default(this.inputRange+1,this.inputSize,.08)}},{key:"createOutputMatrix",value:function(){var A=this.model,N=this.outputSize,j=this.hiddenLayers[this.hiddenLayers.length-1];A.outputConnector=new l.default(N+1,j,.08),A.output=new s.default(N+1,1)}},{key:"bindEquation",value:function(){var A=this.model,N=new c.default,j=[],q=A.equationConnections.length>0?A.equationConnections[A.equationConnections.length-1]:this.initialLayerInputs,K=this.getEquation(N,N.inputMatrixToRow(A.input),q[0],A.hiddenLayers[0]);j.push(K);for(var V=1,G=this.hiddenLayers.length;V<G;V++)K=this.getEquation(N,K,q[V],A.hiddenLayers[V]),j.push(K);A.equationConnections.push(j),N.add(N.multiply(A.outputConnector,K),A.output),A.equations.push(N)}},{key:"mapModel",value:function(){var A=this.model,N=A.hiddenLayers,j=A.allMatrices;if(this.initialLayerInputs=this.hiddenLayers.map(function(te){return new s.default(te,1)}),this.createInputMatrix(),!A.input)throw new Error("net.model.input not set");if(j.push(A.input),this.createHiddenLayers(),!A.hiddenLayers.length)throw new Error("net.hiddenLayers not set");for(var q=0,K=N.length;q<K;q++){var V=N[q];for(var G in V)V.hasOwnProperty(G)&&j.push(V[G])}if(this.createOutputMatrix(),!A.outputConnector)throw new Error("net.model.outputConnector not set");if(!A.output)throw new Error("net.model.output not set");j.push(A.outputConnector),j.push(A.output)}},{key:"trainPattern",value:function(A,N){var j=this.trainInput(A);if(this.backpropagate(A),this.adjustWeights(),N)return j}},{key:"trainInput",value:function(A){this.runs++;for(var N=this.model,j=A.length,q=0,K=void 0;N.equations.length<=A.length+1;)this.bindEquation();for(var V=-1,G=A.length;V<G;V++){var te=V+1;K=N.equations[te];var ue=V===-1?0:A[V]+1,B=V===j-1?0:A[V+1]+1;q+=K.predictTargetIndex(ue,B)}return Math.pow(2,q/(j-1))/100}},{key:"backpropagate",value:function(A){for(var N=A.length,j=this.model,q=j.equations;N>0;)q[N].backpropagateIndex(A[N-1]+1),N--;q[0].backpropagateIndex(0)}},{key:"adjustWeights",value:function(){for(var A=this.regc,N=this.clipval,j=this.model,q=this.decayRate,K=this.stepCache,V=this.smoothEps,G=this.trainOpts,te=G.learningRate,ue=j.allMatrices,B=0,ee=0,oe=0;oe<ue.length;oe++){var ae=ue[oe],ce=ae.weights,xe=ae.deltas;oe in K||(K[oe]=(0,_.default)(ae.rows*ae.columns));for(var X=K[oe],Y=0;Y<ce.length;Y++){var Q=xe[Y],J=ce[Y];X[Y]=X[Y]*q+(1-q)*Q*Q,Q>N&&(Q=N,B++),Q<-N&&(Q=-N,B++),ee++,ce[Y]=J+-te*Q/Math.sqrt(X[Y]+V)-A*J}}this.ratioClipped=B/ee}},{key:"run",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,q=this.maxPredictionLength+A.length+(this.dataFormatter?this.dataFormatter.specialIndexes.length:0);if(!this.isRunnable)return null;for(var K=this.formatDataIn(A),V=this.model,G=[],te=0;;){for(var ue=te===0?0:te<K.length?K[te-1]+1:G[te-1];V.equations.length<=te;)this.bindEquation();var B=V.equations[te],ee=B.runIndex(ue),oe=new s.default(V.output.rows,V.output.columns);if((0,D.default)(oe,ee),j!==1&&N)for(var ae=0,ce=oe.weights.length;ae<ce;ae++)oe.weights[ae]/=j;var xe=(0,S.default)(oe),X=N?(0,g.default)(xe):(0,p.default)(xe);if(te++,X===0||te>=q)break;G.push(X)}return this.formatDataOut(K,G.slice(K.length).map(function(Y){return Y-1}))}},{key:"verifyIsInitialized",value:function(A){this.model||this.initialize()}},{key:"updateTrainingOptions",value:function(A){var N=this;Object.keys(this.constructor.trainDefaults).forEach(function(j){return N.trainOpts[j]=A.hasOwnProperty(j)?A[j]:N.trainOpts[j]}),this.validateTrainingOptions(this.trainOpts),this.setLogMethod(A.log||this.trainOpts.log),this.activation=A.activation||this.activation}},{key:"validateTrainingOptions",value:function(A){M.default.prototype.validateTrainingOptions.call(this,A)}},{key:"setLogMethod",value:function(A){typeof A=="function"?this.trainOpts.log=A:A?this.trainOpts.log=console.log:this.trainOpts.log=!1}},{key:"prepTraining",value:function(A,N){this.updateTrainingOptions(N),A=this.formatData(A);var j=Date.now()+this.trainOpts.timeout,q={error:1,iterations:0};return this.verifyIsInitialized(A),{data:A,status:q,endTime:j}}},{key:"train",value:function(A){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.trainOpts=N=Object.assign({},this.constructor.trainDefaults,N);var j=N.iterations,q=N.errorThresh,K=N.log===!0?console.log:N.log,V=N.logPeriod,G=N.callback,te=N.callbackPeriod,ue=1/0,B=void 0;for(this.hasOwnProperty("setupData")&&(A=this.setupData(A)),this.verifyIsInitialized(),B=0;B<j&&ue>q;B++){for(var ee=0,oe=0;oe<A.length;oe++){var ae=this.trainPattern(A[oe],!0);ee+=ae}if(ue=ee/A.length,isNaN(ue))throw new Error("network error rate is unexpected NaN, check network configurations and try again");K&&B%V===0&&K("iterations: "+B+", training error: "+ue),G&&B%te===0&&G({error:ue,iterations:B})}return{error:ue,iterations:B}}},{key:"addFormat",value:function(){throw new Error("not yet implemented")}},{key:"toJSON",value:function(){var A=this.constructor.defaults;this.model||this.initialize();var N=this.model,j={};for(var q in A)A.hasOwnProperty(q)&&(j[q]=this[q]);return{type:this.constructor.name,options:j,input:N.input.toJSON(),hiddenLayers:N.hiddenLayers.map(function(K){var V={};for(var G in K)V[G]=K[G].toJSON();return V}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}},{key:"fromJSON",value:function(A){var N=this.constructor.defaults,j=A.options;this.model=null,this.hiddenLayers=null;var q=[],K=s.default.fromJSON(A.input);q.push(K);var V=[];(A.hiddenLayers||A.hiddenSizes).forEach(function(ue){var B={};for(var ee in ue)B[ee]=s.default.fromJSON(ue[ee]),q.push(B[ee]);V.push(B)});var G=s.default.fromJSON(A.outputConnector);q.push(G);var te=s.default.fromJSON(A.output);q.push(te),Object.assign(this,N,j),j.hiddenSizes&&(this.hiddenLayers=j.hiddenSizes),j.dataFormatter&&(this.dataFormatter=h.default.fromJSON(j.dataFormatter)),this.model={input:K,hiddenLayers:V,output:te,allMatrices:q,outputConnector:G,equations:[],equationConnections:[]},this.initialLayerInputs=this.hiddenLayers.map(function(ue){return new s.default(ue,1)}),this.bindEquation()}},{key:"toFunction",value:function(){var A=this.model,N=this.model.equations,j=N[1],q=j.states,K=JSON.stringify(this.toJSON());function V(J,de){for(var P=0,F=q.length;P<F;P++){var pe=q[P];if(P===de){var be=G(J);switch(J){case pe.left:if(be>-1)return"typeof prevStates["+be+"] === 'object' ? prevStates["+be+"].product : new Matrix("+J.rows+", "+J.columns+")";case pe.right:if(be>-1)return"typeof prevStates["+be+"] === 'object' ? prevStates["+be+"].product : new Matrix("+J.rows+", "+J.columns+")";case pe.product:return"new Matrix("+J.rows+", "+J.columns+")";default:throw Error("unknown state")}}if(J===pe.product)return"states["+P+"].product";if(J===pe.right)return"states["+P+"].right";if(J===pe.left)return"states["+P+"].left"}}function G(J){for(var de=A.equationConnections[0],P=N[0].states,F=0,pe=P.length;F<pe;F++)if(P[F].product===J)return F;return de.indexOf(J)}function te(J,de){if(!J||!J.rows||!J.columns)return"null";if(J===A.input)return"json.input";if(J===A.outputConnector)return"json.outputConnector";if(J===A.output)return"json.output";for(var P=0,F=A.hiddenLayers.length;P<F;P++){var pe=A.hiddenLayers[P];for(var be in pe)if(pe.hasOwnProperty(be)&&pe[be]===J)return"json.hiddenLayers["+P+"]."+be}return V(J,de)}function ue(J){return J=J.toString().split("{"),J.shift(),J=J.join("{"),J=J.split("}"),J.pop(),J.join("}").split(`
`).join(`
        `).replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function B(J){return"src/recurrent/matrix/"+J.replace(/[A-Z]/g,function(de){return"-"+de.toLowerCase()})+".js"}for(var ee=[],oe={},ae=[],ce=0,xe=q.length;ce<xe;ce++){var X=q[ce];ee.push("states["+ce+`] = {
      name: '`+X.forwardFn.name+`',
      left: `+te(X.left,ce)+`,
      right: `+te(X.right,ce)+`,
      product: `+te(X.product,ce)+`
    }`);var Y=X.forwardFn.name;oe[Y]||(oe[Y]=!0,ae.push("        case '"+Y+"': //compiled from "+B(Y)+`
          `+ue(X.forwardFn.toString())+`
          break;`))}var Q=`
  if (typeof rawInput === 'undefined') rawInput = [];
  if (typeof isSampleI === 'undefined') isSampleI = false;
  if (typeof temperature === 'undefined') temperature = 1;
  `+(this.dataFormatter?this.dataFormatter.toFunctionString():"")+`
  
  var input = `+(this.dataFormatter&&typeof this.formatDataIn=="function"?"formatDataIn(rawInput)":"rawInput")+`;
  var json = `+K+`;
  var maxPredictionLength = input.length + `+this.maxPredictionLength+`;
  var _i = 0;
  var output = [];
  var states = [];
  var prevStates;
  while (true) {
    var previousIndex = (_i === 0
        ? 0
        : _i < input.length
          ? input[_i - 1] + 1
          : output[_i - 1])
          ;
    var rowPluckIndex = previousIndex;
    var state;
    prevStates = states;
    states = [];
    `+ee.join(`;
    `)+`;
    for (var stateIndex = 0, stateMax = `+ee.length+`; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      
      switch (state.name) {
`+ae.join(`
`)+`
      }
    }
    
    var logProbabilities = state.product;
    if (temperature !== 1 && isSampleI) {
      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {
        logProbabilities.weights[q] /= temperature;
      }
    }

    var probs = softmax(logProbabilities);
    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);
    
    _i++;
    if (nextIndex === 0) {
      break;
    }
    if (_i >= maxPredictionLength) {
      break;
    }

    output.push(nextIndex);
  }
  `+(this.dataFormatter&&typeof this.formatDataOut=="function"?"return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))":"return output.slice(input.length).map(function(value) { return value - 1; })")+`;
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  `+(this.dataFormatter&&typeof this.formatDataIn=="function"?"function formatDataIn(input, output) { "+ue(this.formatDataIn.toString()).replace(/this[.]dataFormatter[\n\s]+[.]/g,"").replace(/this[.]dataFormatter[.]/g,"").replace(/this[.]dataFormatter/g,"true")+" }":"")+`
  `+(this.dataFormatter!==null&&typeof this.formatDataOut=="function"?"function formatDataOut(input, output) { "+ue(this.formatDataOut.toString()).replace(/this[.]dataFormatter[\n\s]+[.]/g,"").replace(/this[.]dataFormatter[.]/g,"").replace(/this[.]dataFormatter/g,"true")+" }":"")+`
  `+_.default.toString()+`
  `+S.default.toString().replace("_2.default","Matrix")+`
  `+m.randomF.toString()+`
  `+g.default.toString()+`
  `+p.default.toString();return new Function("rawInput","isSampleI","temperature",Q)}},{key:"isRunnable",get:function(){return this.model.equations.length===0?(console.error("No equations bound, did you run train()?"),!1):!0}}]),H}();return rnn.default=W,W.defaults={inputSize:20,inputRange:20,hiddenLayers:[20,20],outputSize:20,decayRate:.999,smoothEps:1e-8,regc:1e-6,clipval:5,maxPredictionLength:100,setupData:function(L){if(typeof L[0]!="string"&&!Array.isArray(L[0])&&(!L[0].hasOwnProperty("input")||!L[0].hasOwnProperty("output")))return L;var A=[],N=[];if(typeof L[0]=="string"||Array.isArray(L[0])){if(!this.dataFormatter){for(var j=0;j<L.length;j++)A.push(L[j]);this.dataFormatter=new h.default(A)}for(var q=0,K=L.length;q<K;q++)N.push(this.formatDataIn(L[q]))}else{if(!this.dataFormatter){for(var V=0;V<L.length;V++)A.push(L[V].input),A.push(L[V].output);this.dataFormatter=h.default.fromArrayInputOutput(A),this.dataFormatter.addUnrecognized()}for(var G=0,te=L.length;G<te;G++)N.push(this.formatDataIn(L[G].input,L[G].output))}return N},formatDataIn:function(L){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.dataFormatter?this.dataFormatter.indexTable.hasOwnProperty("stop-input")?this.dataFormatter.toIndexesInputOutput(L,A):this.dataFormatter.toIndexes(L):L},formatDataOut:function(L,A){return this.dataFormatter?this.dataFormatter.toCharacters(A).join(""):A},dataFormatter:null},W.trainDefaults={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.01,callback:null,callbackPeriod:10},rnn}var arrayLookupTable={},hasRequiredArrayLookupTable;function requireArrayLookupTable(){if(hasRequiredArrayLookupTable)return arrayLookupTable;hasRequiredArrayLookupTable=1,Object.defineProperty(arrayLookupTable,"__esModule",{value:!0}),arrayLookupTable.default=r;function r(i,s){this.length=0,this.prop=s;for(var o=this.table={},l=0;l<i.length;l++)for(var d=i[l],c=d[s],f=0;f<c.length;f++)for(var g in c[f])o.hasOwnProperty(g)||(o[g]=this.length++)}return arrayLookupTable}var hasRequiredRnnTimeStep;function requireRnnTimeStep(){if(hasRequiredRnnTimeStep)return rnnTimeStep;hasRequiredRnnTimeStep=1,Object.defineProperty(rnnTimeStep,"__esModule",{value:!0});var r=function(){function q(K,V){for(var G=0;G<V.length;G++){var te=V[G];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(K,te.key,te)}}return function(K,V,G){return V&&q(K.prototype,V),G&&q(K,G),K}}(),i=requireMatrix(),s=H(i),o=requireRandomMatrix(),l=H(o),d=requireEquation(),c=H(d),f=requireRnn(),g=H(f),v=requireZeros(),p=H(v),E=requireSoftmax(),S=H(E),w=requireRandom(),D=requireSampleI(),m=H(D),R=requireMaxI(),_=H(R),b=requireLookup(),h=H(b),k=requireLookupTable(),M=H(k),z=requireArrayLookupTable(),Z=H(z),W=requireCast();function H(q){return q&&q.__esModule?q:{default:q}}function L(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function A(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function N(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var j=function(q){N(K,q);function K(){return L(this,K),A(this,(K.__proto__||Object.getPrototypeOf(K)).apply(this,arguments))}return r(K,[{key:"createOutputMatrix",value:function(){var G=this.model,te=this.outputSize,ue=this.hiddenLayers[this.hiddenLayers.length-1];G.outputConnector=new l.default(te,ue,.08),G.output=new l.default(te,1,.08)}},{key:"bindEquation",value:function(){var G=this.model,te=this.hiddenLayers,ue=G.hiddenLayers,B=new c.default,ee=[],oe=G.equationConnections.length>0?G.equationConnections[G.equationConnections.length-1]:this.initialLayerInputs,ae=this.getEquation(B,B.input(new s.default(this.inputSize,1)),oe[0],ue[0]);ee.push(ae);for(var ce=1,xe=te.length;ce<xe;ce++)ae=this.getEquation(B,ae,oe[ce],ue[ce]),ee.push(ae);G.equationConnections.push(ee),B.add(B.multiply(G.outputConnector,ae),G.output),G.equations.push(B)}},{key:"mapModel",value:function(){var G=this.model,te=G.hiddenLayers,ue=G.allMatrices;if(this.initialLayerInputs=this.hiddenLayers.map(function(ce){return new s.default(ce,1)}),this.createHiddenLayers(),!G.hiddenLayers.length)throw new Error("net.hiddenLayers not set");for(var B=0,ee=te.length;B<ee;B++){var oe=te[B];for(var ae in oe)oe.hasOwnProperty(ae)&&ue.push(oe[ae])}if(this.createOutputMatrix(),!G.outputConnector)throw new Error("net.model.outputConnector not set");if(!G.output)throw new Error("net.model.output not set");ue.push(G.outputConnector),ue.push(G.output)}},{key:"backpropagate",value:function(){for(var G=this.model.equations.length-1;G>-1;G--)this.model.equations[G].backpropagate()}},{key:"run",value:function(G){return this.inputSize===1?this.outputLookup?(this.run=this.runObject,this.runObject(G)):(this.run=this.runNumbers,this.runNumbers(G)):(this.run=this.runArrays,this.runArrays(G))}},{key:"forecast",value:function(G,te){return this.inputSize===1?this.outputLookup?(this.forecast=this.runObject,this.runObject(G)):(this.forecast=this.forecastNumbers,this.forecastNumbers(G,te)):this.outputLookup?(this.forecast=this.forecastObjects,this.forecastObjects(G,te)):(this.forecast=this.forecastArrays,this.forecastArrays(G,te))}},{key:"train",value:function(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.trainOpts=te=Object.assign({},this.constructor.trainDefaults,te);var ue=te.iterations,B=te.errorThresh,ee=te.log===!0?console.log:te.log,oe=te.logPeriod,ae=te.callback,ce=te.callbackPeriod;(this.inputSize===1||!this.inputSize)&&this.setSize(G),G=this.formatData(G);var xe=1/0,X=void 0;for(this.verifyIsInitialized(G),X=0;X<ue&&xe>B;X++){for(var Y=0,Q=0;Q<G.length;Q++){var J=this.trainPattern(G[Q],!0);Y+=J}if(xe=Y/G.length,isNaN(xe))throw new Error("network error rate is unexpected NaN, check network configurations and try again");ee&&X%oe===0&&ee("iterations: "+X+", training error: "+xe),ae&&X%ce===0&&ae({error:xe,iterations:X})}return{error:xe,iterations:X}}},{key:"verifyIsInitialized",value:function(G){G[0].input?this.trainInput=this.trainInputOutput:G[0].length>0&&(G[0][0].length>0?this.trainInput=this.trainArrays:this.inputSize>1?this.trainInput=this.trainArrays:this.trainInput=this.trainNumbers),this.model||this.initialize()}},{key:"setSize",value:function(G){var te=h.default.dataShape(G).join(",");switch(te){case"array,array,number":case"array,object,number":case"array,datum,array,number":case"array,datum,object,number":break;case"array,array,array,number":this.inputSize=this.outputSize=G[0][0].length;break;case"array,array,object,number":this.inputSize=this.outputSize=Object.keys(h.default.toTable2D(G)).length;break;case"array,datum,array,array,number":this.inputSize=this.outputSize=G[0].input[0].length;break;case"array,datum,array,object,number":this.inputSize=Object.keys(h.default.toInputTable2D(G)).length,this.outputSize=Object.keys(h.default.toOutputTable2D(G)).length;break;default:throw new Error("unknown data shape or configuration")}}},{key:"trainNumbers",value:function(G){for(var te=this.model,ue=te.equations;ue.length<G.length;)this.bindEquation();for(var B=0,ee=0,oe=G.length-1;ee<oe;ee++)B+=ue[ee].predictTarget(G[ee],G[ee+1]);return this.end(),B/G.length}},{key:"runNumbers",value:function(G){if(!this.isRunnable)return null;var te=this.model,ue=te.equations;for(this.inputLookup&&(G=h.default.toArray(this.inputLookup,G,this.inputLookupLength));ue.length<=G.length;)this.bindEquation();for(var B=void 0,ee=0;ee<G.length;ee++)B=ue[ee].runInput([G[ee]]);return this.end(),B.weights[0]}},{key:"forecastNumbers",value:function(G,te){if(!this.isRunnable)return null;for(var ue=this.model,B=ue.equations,ee=G.length+te;B.length<=ee;)this.bindEquation();for(var oe=void 0,ae=0,ce=0;ce<G.length;ce++)oe=B[ae++].runInput([G[ce]]);for(var xe=[oe.weights[0]],X=0,Y=te-1;X<Y;X++)oe=B[ae++].runInput(oe.weights),xe.push(oe.weights[0]);return this.end(),xe}},{key:"runObject",value:function(G){if(this.inputLookup===this.outputLookup){var te=h.default.toArrayShort(this.inputLookup,G);return h.default.toObjectPartial(this.outputLookup,this.forecastNumbers(te,this.outputLookupLength-te.length),te.length)}return h.default.toObject(this.outputLookup,this.forecastNumbers(h.default.toArray(this.inputLookup,G,this.inputLookupLength),this.outputLookupLength))}},{key:"forecastObjects",value:function(G,te){var ue=this;return G=G.map(function(B){return h.default.toArray(ue.outputLookup,B,ue.outputLookupLength)}),this.forecastArrays(G,te).map(function(B){return h.default.toObject(ue.outputLookup,B)})}},{key:"trainInputOutput",value:function(G){for(var te=this.model,ue=G.input,B=G.output,ee=ue.length+B.length,oe=te.equations;oe.length<ee;)this.bindEquation();for(var ae=0,ce=0,xe=0,X=ue.length-1;xe<X;xe++)ae+=oe[ce++].predictTarget(ue[xe],ue[xe+1]);ae+=oe[ce++].predictTarget(ue[ue.length-1],B[0]);for(var Y=0,Q=B.length-1;Y<Q;Y++)ae+=oe[ce++].predictTarget(B[Y],B[Y+1]);return this.end(),ae/ee}},{key:"trainArrays",value:function(G){for(var te=this.model,ue=te.equations;ue.length<G.length;)this.bindEquation();for(var B=0,ee=0,oe=G.length-1;ee<oe;ee++)B+=ue[ee].predictTarget(G[ee],G[ee+1]);return this.end(),B/G.length}},{key:"runArrays",value:function(G){if(!this.isRunnable)return null;for(var te=this.model,ue=te.equations;ue.length<=G.length;)this.bindEquation();this.inputLookup&&(G=h.default.toArrays(this.inputLookup,G,this.inputLookupLength));for(var B=void 0,ee=0;ee<G.length;ee++){var oe=ue[ee].runInput(G[ee]);B=oe.weights}return this.end(),this.outputLookup?h.default.toObject(this.outputLookup,B):B}},{key:"forecastArrays",value:function(G,te){if(!this.isRunnable)return null;for(var ue=this.model,B=ue.equations,ee=G.length+te;B.length<=ee;)this.bindEquation();for(var oe=void 0,ae=0,ce=0;ce<G.length;ce++)oe=B[ae++].runInput(G[ce]);for(var xe=[oe.weights],X=0,Y=te-1;X<Y;X++)oe=B[ae++].runInput(oe.weights),xe.push(oe.weights.slice(0));return this.end(),xe}},{key:"end",value:function(){this.model.equations[this.model.equations.length-1].runInput(new Float32Array(this.outputSize))}},{key:"formatData",value:function(G){var te=h.default.dataShape(G).join(","),ue=[];switch(te){case"array,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");for(var B=0;B<G.length;B++)ue.push(Float32Array.from([G[B]]));return[ue]}case"array,array,number":{if(this.inputSize===1&&this.outputSize===1){for(var ee=0;ee<G.length;ee++)ue.push((0,W.arrayToFloat32Arrays)(G[ee]));return ue}if(this.inputSize!==G[0].length)throw new Error("inputSize must match data input size");if(this.outputSize!==G[0].length)throw new Error("outputSize must match data input size");for(var oe=0;oe<G.length;oe++)ue.push(Float32Array.from(G[oe]));return[ue]}case"array,object,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");if(!this.inputLookup){var ae=new M.default(G);this.inputLookup=this.outputLookup=ae.table,this.inputLookupLength=this.outputLookupLength=ae.length}for(var ce=0;ce<G.length;ce++)ue.push((0,W.objectToFloat32Arrays)(G[ce]));return ue}case"array,datum,array,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");for(var xe=0;xe<G.length;xe++){var X=G[xe];ue.push({input:(0,W.arrayToFloat32Arrays)(X.input),output:(0,W.arrayToFloat32Arrays)(X.output)})}return ue}case"array,datum,object,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");if(!this.inputLookup){var Y=new M.default(G,"input");this.inputLookup=Y.table,this.inputLookupLength=Y.length}if(!this.outputLookup){var Q=new M.default(G,"output");this.outputLookup=Q.table,this.outputLookupLength=Q.length}for(var J=0;J<G.length;J++){var de=G[J];ue.push({input:(0,W.objectToFloat32Arrays)(de.input),output:(0,W.objectToFloat32Arrays)(de.output)})}return ue}case"array,array,array,number":{for(var P=0;P<G.length;P++)ue.push((0,W.arraysToFloat32Arrays)(G[P]));return ue}case"array,array,object,number":{if(!this.inputLookup){var F=new M.default(G);this.inputLookup=this.outputLookup=F.table,this.inputLookupLength=this.outputLookupLength=F.length}for(var pe=0;pe<G.length;pe++){for(var be=[],Me=0;Me<G[pe].length;Me++)be.push((0,W.objectToFloat32Array)(G[pe][Me],this.inputLookup,this.inputLookupLength));ue.push(be)}return ue}case"array,datum,array,array,number":{if(this.inputSize===1&&this.outputSize===1)for(var Ee=0;Ee<G.length;Ee++){var Oe=G[Ee];ue.push({input:Float32Array.from(Oe.input),output:Float32Array.from(Oe.output)})}else{if(this.inputSize!==G[0].input[0].length)throw new Error("inputSize must match data input size");if(this.outputSize!==G[0].output[0].length)throw new Error("outputSize must match data output size");for(var Ie=0;Ie<G.length;Ie++){var We=G[Ie];ue.push({input:(0,W.arraysToFloat32Arrays)(We.input),output:(0,W.arraysToFloat32Arrays)(We.output)})}}return ue}case"array,datum,array,object,number":{if(!this.inputLookup){var Ve=new Z.default(G,"input");this.inputLookup=Ve.table,this.inputLookupLength=Ve.length}if(!this.outputLookup){var st=new Z.default(G,"output");this.outputLookup=st.table,this.outputLookupLength=st.length}for(var Je=0;Je<G.length;Je++){var Ae=G[Je];ue.push({input:(0,W.objectsToFloat32Arrays)(Ae.input,this.inputLookup,this.inputLookupLength),output:(0,W.objectsToFloat32Arrays)(Ae.output,this.outputLookup,this.outputLookupLength)})}return ue}default:throw new Error("unknown data shape or configuration")}}},{key:"test",value:function(G){var te=this.formatData(G),ue=[],B=0,ee=h.default.dataShape(G).join(",");switch(ee){case"array,array,number":{if(this.inputSize===1){for(var oe=0;oe<te.length;oe++){var ae=te[oe],ce=this.run(ae.splice(0,ae.length-1)),xe=ae[ae.length-1][0],X=xe-ce,Y=X*X;B+=Y;var Q=Math.abs(Y);if(Q>this.trainOpts.errorThresh){var J=G[oe];Object.assign(J,{value:ae,actual:ce}),ue.push(J)}}break}throw new Error("unknown data shape or configuration")}case"array,array,array,number":{for(var de=0;de<te.length;de++){for(var P=te[de],F=this.run(P.splice(0,P.length-1)),pe=P[P.length-1],be=0,Me=0,Ee=0;Ee<F.length;Ee++){Me++;var Oe=pe[Ee]-F[Ee];be+=Oe*Oe}B+=be/Me;var Ie=Math.abs(be);if(Ie>this.trainOpts.errorThresh){var We=G[de];ue.push({value:We,actual:F})}}break}case"array,object,number":{for(var Ve=0;Ve<te.length;Ve++){var st=te[Ve],Je=this.run(h.default.toObjectPartial(this.outputLookup,st,0,st.length-1)),Ae=st[st.length-1],He=0,ze=void 0;for(ze in Je);var nt=Ae[Ve]-Je[ze];He+=nt*nt,B+=He;var C=Math.abs(He);if(C>this.trainOpts.errorThresh){var x=G[Ve];ue.push({value:x,actual:Je})}}break}case"array,array,object,number":{for(var T=0;T<te.length;T++){var I=te[T],re=this.run(I.slice(0,I.length-1)),he=G[T][I.length-1],ge=0,Re=0;for(var $e in re){var Be=he[$e]-re[$e];ge+=Be*Be,Re++}B+=ge/Re;var Ce=Math.abs(ge);if(Ce>this.trainOpts.errorThresh){var je=G[T];ue.push({value:je,actual:re})}}break}case"array,datum,array,number":case"array,datum,object,number":{for(var br=0;br<te.length;br++){for(var ei=te[br],rn=this.forecast(ei.input,ei.output.length),Tn=0,Yt=0,an=0;an<rn.length;an++){var wn=ei.output[an][0]-rn[an];Tn+=wn*wn,Yt++}B+=Tn/Yt;var ou=Math.abs(Tn);if(ou>this.trainOpts.errorThresh){var ti=G[br];Object.assign(ti,{actual:this.outputLookup?h.default.toObject(this.outputLookup,rn):rn}),ue.push(ti)}}break}case"array,datum,array,array,number":{for(var Yn=0;Yn<te.length;Yn++){for(var Wn=te[Yn],Wt=this.forecast(Wn.input,Wn.output.length),ni=0,Rn=0;Rn<Wt.length;Rn++)for(var Qn=0;Qn<Wt[Rn].length;Qn++){var ri=Wn.output[Rn][Qn]-Wt[Rn][Qn];ni+=ri*ri}B+=ni;var Wi=Math.abs(ni);if(Wi>this.trainOpts.errorThresh){var Qi=G[Yn];ue.push({input:Qi.input,output:Qi.output,actual:Wt})}}break}case"array,datum,array,object,number":{for(var wt=0;wt<te.length;wt++){for(var ct=te[wt],ht=this.forecast(ct.input,ct.output.length),Qt=0,un=0;un<ht.length;un++)for(var Zi in ht[un]){var Ji=G[wt].output[un][Zi]-ht[un][Zi];Qt+=Ji*Ji}B+=Qt;var ea=Math.abs(Qt);if(ea>this.trainOpts.errorThresh){var On=G[wt];ue.push({input:On.input,output:On.output,actual:ht})}}break}default:throw new Error("unknown data shape or configuration")}return{error:B/te.length,misclasses:ue,total:te.length}}},{key:"addFormat",value:function(G){var te=h.default.dataShape(G).join(",");switch(te){case"array,array,number":case"datum,array,array,number":case"array,number":case"datum,array,number":return;case"datum,object,number":{this.inputLookup=h.default.addKeys(G.input,this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=h.default.addKeys(G.output,this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}case"object,number":{this.inputLookup=this.outputLookup=h.default.addKeys(G,this.inputLookup),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"array,object,number":{for(var ue=0;ue<G.length;ue++)this.inputLookup=this.outputLookup=h.default.addKeys(G[ue],this.inputLookup),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"datum,array,object,number":{for(var B=0;B<G.input.length;B++)this.inputLookup=h.default.addKeys(G.input[B],this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length);for(var ee=0;ee<G.output.length;ee++)this.outputLookup=h.default.addKeys(G.output[ee],this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}default:throw new Error("unknown data shape or configuration")}}},{key:"toJSON",value:function(){var G=this.constructor.defaults;this.model||this.initialize();var te=this.model,ue={};for(var B in G)G.hasOwnProperty(B)&&(ue[B]=this[B]);return{type:this.constructor.name,options:ue,hiddenLayers:te.hiddenLayers.map(function(ee){var oe={};for(var ae in ee)oe[ae]=ee[ae].toJSON();return oe}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}},{key:"fromJSON",value:function(G){var te=this.constructor.defaults,ue=G.options;this.model=null,this.hiddenLayers=null;var B=[],ee=[];(G.hiddenLayers||G.hiddenSizes).forEach(function(ce){var xe={};for(var X in ce)xe[X]=s.default.fromJSON(ce[X]),B.push(xe[X]);ee.push(xe)});var oe=s.default.fromJSON(G.outputConnector);B.push(oe);var ae=s.default.fromJSON(G.output);B.push(ae),Object.assign(this,te,ue),ue.hiddenSizes&&(this.hiddenLayers=ue.hiddenSizes),this.model={hiddenLayers:ee,output:ae,allMatrices:B,outputConnector:oe,equations:[],equationConnections:[]},this.initialLayerInputs=this.hiddenLayers.map(function(ce){return new s.default(ce,1)}),this.bindEquation()}},{key:"toFunction",value:function(){var G=this.model,te=this.model.equations,ue=this.inputSize,B=this.inputLookup,ee=this.inputLookupLength,oe=this.outputLookup,ae=this.outputLookupLength,ce=te[1],xe=ce.states,X=JSON.stringify(this.toJSON());function Y(Ae,He){for(var ze=0,nt=xe.length;ze<nt;ze++){var C=xe[ze];if(ze===He){var x=Q(Ae);switch(Ae){case C.left:if(x>-1)return"typeof prevStates["+x+"] === 'object' ? prevStates["+x+"].product : new Matrix("+Ae.rows+", "+Ae.columns+")";case C.right:if(x>-1)return"typeof prevStates["+x+"] === 'object' ? prevStates["+x+"].product : new Matrix("+Ae.rows+", "+Ae.columns+")";case C.product:return"new Matrix("+Ae.rows+", "+Ae.columns+")";default:throw Error("unknown state")}}if(Ae===C.product)return"states["+ze+"].product";if(Ae===C.right)return"states["+ze+"].right";if(Ae===C.left)return"states["+ze+"].left"}}function Q(Ae){for(var He=G.equationConnections[0],ze=te[0].states,nt=0,C=ze.length;nt<C;nt++)if(ze[nt].product===Ae)return nt;return He.indexOf(Ae)}function J(Ae,He){if(!Ae||!Ae.rows||!Ae.columns)return"null";if(Ae===G.outputConnector)return"json.outputConnector";if(Ae===G.output)return"json.output";for(var ze=0,nt=G.hiddenLayers.length;ze<nt;ze++){var C=G.hiddenLayers[ze];for(var x in C)if(C.hasOwnProperty(x)&&C[x]===Ae)return"json.hiddenLayers["+ze+"]."+x}return Y(Ae,He)}function de(){return B?ue===1?B===oe?`function lookupInput(input) {
            var table = `+JSON.stringify(B)+`;
            var result = [];
            for (var p in table) {
              if (!input.hasOwnProperty(p)) break;
              result.push(Float32Array.from([input[p]]));
            }
            return result;
          }`:`function lookupInput(input) {
          var table = `+JSON.stringify(B)+`;
          var result = [];
          for (var p in table) {
            result.push(Float32Array.from([input[p]]));
          }
          return result;
        }`:`function lookupInput(rawInputs) {
        var table = `+JSON.stringify(B)+`;
        var result = [];
        for (var i = 0; i < rawInputs.length; i++) {
          var rawInput = rawInputs[i];
          var input = new Float32Array(`+ee+`);
          for (var p in table) {
            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;
          }
          result.push(input);
        }
        return result;
      }`:""}function P(){return oe?ue===1?B===oe?`function lookupOutputPartial(output, input) {
            var table = `+JSON.stringify(oe)+`;
            var offset = input.length;
            var result = {};
            var i = 0;
            for (var p in table) {
              if (i++ < offset) continue;
              result[p] = output[table[p] - offset][0];
            }
            return result;
          }`:`function lookupOutput(output) {
          var table = `+JSON.stringify(oe)+`;
          var result = {};
          for (var p in table) {
            result[p] = output[table[p]][0];
          }
          return result;
        }`:`function lookupOutput(output) {
        var table = `+JSON.stringify(oe)+`;
        var result = {};
        for (var p in table) {
          result[p] = output[table[p]];
        }
        return result;
      }`:""}function F(Ae){return Ae=Ae.toString().split("{"),Ae.shift(),Ae=Ae.join("{"),Ae=Ae.split("}"),Ae.pop(),Ae.join("}").split(`
`).join(`
        `).replace("product.weights = _input.weights = _this.inputValue;",B&&ue===1?"product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;":ue===1?"product.weights = [input[_i]];":"product.weights = input[_i];").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function pe(Ae){return"src/recurrent/matrix/"+Ae.replace(/[A-Z]/g,function(He){return"-"+He.toLowerCase()})+".js"}for(var be=[],Me={},Ee=[],Oe=0,Ie=xe.length;Oe<Ie;Oe++){var We=xe[Oe];be.push("states["+Oe+`] = {
      name: '`+We.forwardFn.name+`',
      left: `+J(We.left,Oe)+`,
      right: `+J(We.right,Oe)+`,
      product: `+J(We.product,Oe)+`
    }`);var Ve=We.forwardFn.name;Me[Ve]||(Me[Ve]=!0,Ee.push("        case '"+Ve+"':"+(Ve!=="forwardFn"?" //compiled from "+pe(Ve):"")+`
          `+F(We.forwardFn.toString())+`
          break;`))}var st=this.inputSize===1&&this.outputLookup,Je=`
  var input = `+(this.inputLookup?"lookupInput(rawInput)":"rawInput")+`;
  var json = `+X+`;
  var output = [];
  var states = [];
  var prevStates;
  var state;
  var max = `+(st?B===oe?ee:"input.length + "+(ae-1):"input.length")+`;
  for (var _i = 0; _i < max; _i++) {
    prevStates = states;
    states = [];
    `+be.join(`;
    `)+`;
    for (var stateIndex = 0, stateMax = `+be.length+`; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      
      switch (state.name) {
`+Ee.join(`
`)+`
      }
    }
    `+(ue===1&&B?"if (_i >= input.length - 1) { output.push(state.product.weights); }":"output = state.product.weights;")+`
  }
  `+(oe?oe===B?"return lookupOutputPartial(output, input)":"return lookupOutput(output)":ue===1?"return output[0]":"return output")+`;
  `+de()+`
  `+P()+`
  
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  `+p.default.toString()+`
  `+S.default.toString().replace("_2.default","Matrix")+`
  `+w.randomF.toString()+`
  `+m.default.toString()+`
  `+_.default.toString();return new Function("rawInput",Je)}}]),K}(g.default);return rnnTimeStep.default=j,j.defaults={inputSize:1,hiddenLayers:[20],outputSize:1,learningRate:g.default.defaults.learningRate,decayRate:g.default.defaults.decayRate,smoothEps:g.default.defaults.smoothEps,regc:g.default.defaults.regc,clipval:g.default.defaults.clipval},j.trainDefaults=g.default.trainDefaults,rnnTimeStep}var lstmTimeStep={},lstm={},hasRequiredLstm;function requireLstm(){if(hasRequiredLstm)return lstm;hasRequiredLstm=1,Object.defineProperty(lstm,"__esModule",{value:!0});var r=function(){function S(w,D){for(var m=0;m<D.length;m++){var R=D[m];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,D,m){return D&&S(w.prototype,D),m&&S(w,m),w}}(),i=requireMatrix(),s=f(i),o=requireRandomMatrix(),l=f(o),d=requireRnn(),c=f(d);function f(S){return S&&S.__esModule?S:{default:S}}function g(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var E=function(S){p(w,S);function w(){return g(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return r(w,[{key:"getModel",value:function(m,R){return{inputMatrix:new l.default(m,R,.08),inputHidden:new l.default(m,m,.08),inputBias:new s.default(m,1),forgetMatrix:new l.default(m,R,.08),forgetHidden:new l.default(m,m,.08),forgetBias:new s.default(m,1),outputMatrix:new l.default(m,R,.08),outputHidden:new l.default(m,m,.08),outputBias:new s.default(m,1),cellActivationMatrix:new l.default(m,R,.08),cellActivationHidden:new l.default(m,m,.08),cellActivationBias:new s.default(m,1)}}},{key:"getEquation",value:function(m,R,_,b){var h=m.sigmoid.bind(m),k=m.add.bind(m),M=m.multiply.bind(m),z=m.multiplyElement.bind(m),Z=m.tanh.bind(m),W=h(k(k(M(b.inputMatrix,R),M(b.inputHidden,_)),b.inputBias)),H=h(k(k(M(b.forgetMatrix,R),M(b.forgetHidden,_)),b.forgetBias)),L=h(k(k(M(b.outputMatrix,R),M(b.outputHidden,_)),b.outputBias)),A=Z(k(k(M(b.cellActivationMatrix,R),M(b.cellActivationHidden,_)),b.cellActivationBias)),N=z(H,_),j=z(W,A),q=k(N,j);return z(L,Z(q))}}]),w}(c.default);return lstm.default=E,lstm}var hasRequiredLstmTimeStep;function requireLstmTimeStep(){if(hasRequiredLstmTimeStep)return lstmTimeStep;hasRequiredLstmTimeStep=1,Object.defineProperty(lstmTimeStep,"__esModule",{value:!0});var r=function(){function E(S,w){for(var D=0;D<w.length;D++){var m=w[D];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(S,m.key,m)}}return function(S,w,D){return w&&E(S.prototype,w),D&&E(S,D),S}}(),i=requireMatrix();c(i);var s=requireLstm(),o=c(s),l=requireRnnTimeStep(),d=c(l);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function v(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var p=function(E){v(S,E);function S(){return f(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return r(S,[{key:"getModel",value:function(D,m){return o.default.prototype.getModel.call(this,D,m)}},{key:"getEquation",value:function(D,m,R,_){return o.default.prototype.getEquation.call(this,D,m,R,_)}}]),S}(d.default);return lstmTimeStep.default=p,lstmTimeStep}var gruTimeStep={},gru={},hasRequiredGru;function requireGru(){if(hasRequiredGru)return gru;hasRequiredGru=1,Object.defineProperty(gru,"__esModule",{value:!0});var r=function(){function S(w,D){for(var m=0;m<D.length;m++){var R=D[m];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,D,m){return D&&S(w.prototype,D),m&&S(w,m),w}}(),i=requireMatrix(),s=f(i),o=requireRandomMatrix(),l=f(o),d=requireRnn(),c=f(d);function f(S){return S&&S.__esModule?S:{default:S}}function g(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var E=function(S){p(w,S);function w(){return g(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return r(w,[{key:"getModel",value:function(m,R){return{updateGateInputMatrix:new l.default(m,R,.08),updateGateHiddenMatrix:new l.default(m,m,.08),updateGateBias:new s.default(m,1),resetGateInputMatrix:new l.default(m,R,.08),resetGateHiddenMatrix:new l.default(m,m,.08),resetGateBias:new s.default(m,1),cellWriteInputMatrix:new l.default(m,R,.08),cellWriteHiddenMatrix:new l.default(m,m,.08),cellWriteBias:new s.default(m,1)}}},{key:"getEquation",value:function(m,R,_,b){var h=m.sigmoid.bind(m),k=m.add.bind(m),M=m.multiply.bind(m),z=m.multiplyElement.bind(m),Z=m.tanh.bind(m),W=m.allOnes.bind(m),H=m.cloneNegative.bind(m),L=h(k(k(M(b.updateGateInputMatrix,R),M(b.updateGateHiddenMatrix,_)),b.updateGateBias)),A=h(k(k(M(b.resetGateInputMatrix,R),M(b.resetGateHiddenMatrix,_)),b.resetGateBias)),N=Z(k(k(M(b.cellWriteInputMatrix,R),M(b.cellWriteHiddenMatrix,z(A,_))),b.cellWriteBias));return k(z(k(W(L.rows,L.columns),H(L)),N),z(_,L))}}]),w}(c.default);return gru.default=E,gru}var hasRequiredGruTimeStep;function requireGruTimeStep(){if(hasRequiredGruTimeStep)return gruTimeStep;hasRequiredGruTimeStep=1,Object.defineProperty(gruTimeStep,"__esModule",{value:!0});var r=function(){function E(S,w){for(var D=0;D<w.length;D++){var m=w[D];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(S,m.key,m)}}return function(S,w,D){return w&&E(S.prototype,w),D&&E(S,D),S}}(),i=requireMatrix();c(i);var s=requireGru(),o=c(s),l=requireRnnTimeStep(),d=c(l);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function v(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var p=function(E){v(S,E);function S(){return f(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return r(S,[{key:"getModel",value:function(D,m){return o.default.prototype.getModel(D,m)}},{key:"getEquation",value:function(D,m,R,_){return o.default.prototype.getEquation(D,m,R,_)}}]),S}(d.default);return gruTimeStep.default=p,gruTimeStep}var toSvg={},hasRequiredToSvg;function requireToSvg(){if(hasRequiredToSvg)return toSvg;hasRequiredToSvg=1,Object.defineProperty(toSvg,"__esModule",{value:!0}),toSvg.default=i;function r(s){if(Array.isArray(s)){for(var o=0,l=Array(s.length);o<s.length;o++)l[o]=s[o];return l}else return Array.from(s)}function i(s,o){var l={line:{width:"0.5",color:"black"},inputs:{color:"rgba(0, 128, 0, 0.5)",label:!1},outputs:{color:"rgba(100, 149, 237, 0.5)"},hidden:{color:"rgba(255, 127, 80, 0.5)"},fontSize:"14px",radius:"8",width:"400",height:"250"},d=typeof s.inputSize=="number"&&typeof s.outputSize=="number"&&s.inputSize>0&&s.outputSize>0?[s.inputSize].concat(r(s.hiddenLayers),[s.outputSize]):!1;if(o=Object.assign(l,o),o.inputs.label=o.inputs.label.length==s.inputSize?o.inputs.label:!1,d){var c='<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="'+o.width+'" height="'+o.height+'">',f=o.width/d.length;return d.forEach(function(g,v){var p=o.height/g;[].concat(r(Array(g))).forEach(function(E,S){if(v==0)c+='<rect x="'+(f/2-o.radius)+'" y="'+(p/2+S*p-o.radius)+'" width="'+2*o.radius+'" height="'+2*o.radius+'" stroke="black" stroke-width="1" fill="'+o.inputs.color+'" />',c+='<line x1="'+f/4+'" y1="'+(p/2+S*p)+'" x2="'+(f/2-o.radius)+'" y2="'+(p/2+S*p)+'" style="stroke:'+o.line.color+";stroke-width:"+o.line.width+'" />',o.inputs.label&&(c+='<text x="'+f/8+'" y="'+(p/2+S*p-5)+'" fill="black" font-size= "'+o.fontSize+'">'+o.inputs.label[S]+"</text>");else{var w=o.height/d[v-1];v==d.length-1?(c+='<circle cx="'+(f/2+v*f)+'" cy="'+(p/2+S*p)+'" r="'+o.radius+'" stroke="black" stroke-width="1" fill="'+o.outputs.color+'" />',c+='<line x1="'+(f/2+v*f+o.radius)+'" y1="'+(p/2+S*p)+'" x2="'+(f/2+v*f+f/4)+'" y2="'+(p/2+S*p)+'" style="stroke:'+o.line.color+";stroke-width:"+o.line.width+'" />'):c+='<circle cx="'+(f/2+v*f)+'" cy="'+(p/2+S*p)+'" r="'+o.radius+'" stroke="black" stroke-width="1" fill="'+o.hidden.color+'" />';for(var D=0;D<d[v-1];D++)c+='<line x1="'+(f/2+(v-1)*f+o.radius)+'" y1="'+(w/2+D*w)+'" x2="'+(f/2+v*f-o.radius)+'" y2="'+(p/2+S*p)+'" style="stroke:'+o.line.color+";stroke-width:"+o.line.width+'" />'}})}),c+="</svg>",c}else return!1}return toSvg}var hasRequiredBrain_js;function requireBrain_js(){return hasRequiredBrain_js||(hasRequiredBrain_js=1,function(r){var i=requireCrossValidate().default,s=requireLikely().default,o=requireLookup().default,l=requireNeuralNetwork().default,d=requireNeuralNetworkGpu().default,c=requireTrainStream().default,f=requireRnnTimeStep().default,g=requireLstmTimeStep().default,v=requireGruTimeStep().default,p=requireRnn().default,E=requireLstm().default,S=requireGru().default,w={max:requireMax().default,mse:requireMse().default,ones:requireOnes().default,random:requireRandom().default,randomWeight:requireRandomWeight().default,randos:requireRandos().default,range:requireRange().default,toArray:requireToArray().default,DataFormatter:requireDataFormatter().default,zeros:requireZeros().default,toSVG:requireToSvg().default},D={CrossValidate:i,likely:s,lookup:o,NeuralNetwork:l,NeuralNetworkGPU:d,TrainStream:c,recurrent:{RNNTimeStep:f,LSTMTimeStep:g,GRUTimeStep:v,RNN:p,LSTM:E,GRU:S},utilities:w};typeof window<"u"&&(window.brain=D),typeof self<"u"&&(self.brain=D),r.exports=D}(brain_js)),brain_js.exports}var brain_jsExports=requireBrain_js();const validateBinaryProperty=(r,i)=>{if(i===null)throw new Error('Value for key "'+r+'" cannot be null.');if(i===void 0)throw new Error('Value for key "'+r+'" cannot be undefined.');if(typeof i!="number")throw new Error('Value for key "'+r+'" must be a number.');if(isNaN(i))throw new Error('`Value for key "'+r+'" cannot be NaN.');if(!isFinite(i))throw new Error('Value for key "'+r+'" cannot be Infinity or -Infinity.');if(i!==0&&i!==1)throw new Error('Value for key "'+r+'" must be either 0 or 1.')},filterRandomTrainingData=r=>Object.keys(r).reduce((i,s)=>{const o=r[s];return s!=="year"&&(i[s]=o,validateBinaryProperty(s,o)),i},{}),generateTrainingObjects=(r,i,s,o)=>{const c=[];for(let f=0;f<s.length;f++){const g=r+Math.random()*10,v=(Math.random()<.5?-1:1)*.25*Math.random(),p=i*(1+v),E=Math.floor(Math.random()*s.length),S=s[E].input,w=filterRandomTrainingData(S),D={year:g*yearNormalizationFactor,...w};c.push({input:D,output:{price:p/o}})}return c};function useNeuralNetwork(r,i,s,o,l){const d=reactExports.useRef(gameNeuralNetworkConfig),c=reactExports.useRef(gameTrainingOptions),f=reactExports.useRef(!1),g=reactExports.useRef(gameObjectGenerationOptions),v=reactExports.useRef(gameSerializedNeuralNetwork),p=reactExports.useRef(gameTrainingData.slice()),E=reactExports.useRef(neuralNetworkYearRanges[i]),S=reactExports.useRef(neuralNetworkPriceModifiers[i]),w=R=>f.current=R,D=()=>{try{d.current=neuralNetworkSettings[`${i}NeuralNetworkConfig`],c.current=neuralNetworkSettings[`${i}TrainingOptions`],c.current.callback=()=>f.current=!1,g.current=neuralNetworkSettings[`${i}ObjectGenerationOptions`],v.current=serializedNeuralNetworks[`${i}SerializedNeuralNetwork`],p.current=trainingData[`${i}TrainingData`],E.current=neuralNetworkYearRanges[i],S.current=neuralNetworkPriceModifiers[i],s({year:new Date().getFullYear().toString()}),r(""),o("?"),l("")}catch(R){console.error(R),r("An error occurred while loading the neural network.")}},m=()=>{try{const R=new brain_jsExports.NeuralNetwork(d.current),_=p.current.length;p.current.forEach(({input:b})=>{Object.keys(b).forEach(h=>{const k=b[h];h!=="year"&&validateBinaryProperty(h,k)})});for(const[b,h]of g.current){const k=generateTrainingObjects(b,h,p.current,S.current);p.current.splice(p.current.length,0,...k)}return R.train(p.current,c.current),p.current.length=_,R}catch(R){console.error(R),r("An error occurred while training the neural network.")}};return reactExports.useEffect(D,[i,r,s,o,l]),{trainingStatusRef:f,updateTrainingStatus:w,serializedNeuralNetwork:v,neuralNetworkYearRange:E,priceModifier:S,trainNeuralNetwork:m}}var compilerRuntime={exports:{}},reactCompilerRuntime_production={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactCompilerRuntime_production;function requireReactCompilerRuntime_production(){if(hasRequiredReactCompilerRuntime_production)return reactCompilerRuntime_production;hasRequiredReactCompilerRuntime_production=1;var r=requireReact().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return reactCompilerRuntime_production.c=function(i){return r.H.useMemoCache(i)},reactCompilerRuntime_production}var hasRequiredCompilerRuntime;function requireCompilerRuntime(){return hasRequiredCompilerRuntime||(hasRequiredCompilerRuntime=1,compilerRuntime.exports=requireReactCompilerRuntime_production()),compilerRuntime.exports}var compilerRuntimeExports=requireCompilerRuntime();function ErrorPanel(r){const i=compilerRuntimeExports.c(6),{errMsgTxt:s}=r;let o;i[0]===Symbol.for("react.memo_cache_sentinel")?(o=jsxRuntimeExports.jsx("h3",{children:""}),i[0]=o):o=i[0];let l;i[1]!==s?(l=jsxRuntimeExports.jsx("div",{className:"sized-box",children:s}),i[1]=s,i[2]=l):l=i[2];let d;i[3]===Symbol.for("react.memo_cache_sentinel")?(d=jsxRuntimeExports.jsx("button",{onClick:_temp$1,children:"Refresh"}),i[3]=d):d=i[3];let c;return i[4]!==l?(c=jsxRuntimeExports.jsxs("div",{className:"panel",children:[o,l,d]}),i[4]=l,i[5]=c):c=i[5],c}function _temp$1(){return window.location.reload(!0)}function LandingPage(r){const i=compilerRuntimeExports.c(5),{continueToApp:s}=r;let o;i[0]===Symbol.for("react.memo_cache_sentinel")?(o=jsxRuntimeExports.jsx("div",{className:"box",children:jsxRuntimeExports.jsxs("div",{className:"box-row",children:[jsxRuntimeExports.jsx("h3",{children:"Welcome to the Pricecinerator price prediction application!"}),jsxRuntimeExports.jsx("p",{children:"This application utilizes a neural network to forecast product prices, taking into account the product year and attributes."})]})}),i[0]=o):o=i[0];let l,d;i[1]===Symbol.for("react.memo_cache_sentinel")?(l=jsxRuntimeExports.jsxs("ol",{className:"box",children:[jsxRuntimeExports.jsx("li",{children:"Select the neural network type for your product by clicking the corresponding button."}),jsxRuntimeExports.jsx("li",{children:"Enter the product year in the input field."}),jsxRuntimeExports.jsx("li",{children:"Choose any specific product attributes using the checkboxes."}),jsxRuntimeExports.jsx("li",{children:"Click Predict Price to see the estimated price."})]}),d=jsxRuntimeExports.jsx("p",{className:"box",children:"You can also use Training Mode to train and run a new neural network."}),i[1]=l,i[2]=d):(l=i[1],d=i[2]);let c;return i[3]!==s?(c=jsxRuntimeExports.jsxs("div",{className:"panel",children:[o,l,d,jsxRuntimeExports.jsx("button",{onClick:s,children:"Continue"})]}),i[3]=s,i[4]=c):c=i[4],c}function PredictionInput(r){const i=compilerRuntimeExports.c(37),{neuralNetworkType:s,predictionObjectInput:o,setPredictionObjectInput:l,predictionOptions:d,setPredictionOptions:c}=r,f=s.charAt(0).toUpperCase()+s.slice(1)+" ";let g;i[0]!==f?(g=jsxRuntimeExports.jsxs("h3",{children:[f,"Input"]}),i[0]=f,i[1]=g):g=i[1];const v=isNaN(o.year)?"":o.year;let p;i[2]!==o||i[3]!==l?(p=z=>l({...o,year:z.target.value}),i[2]=o,i[3]=l,i[4]=p):p=i[4];let E;i[5]!==v||i[6]!==p?(E=jsxRuntimeExports.jsx("div",{className:"box-row",children:jsxRuntimeExports.jsxs("label",{htmlFor:"year",children:["Year:",jsxRuntimeExports.jsx("input",{type:"number",id:"year",name:"year",value:v,onChange:p,onKeyDown:_temp})]})}),i[5]=v,i[6]=p,i[7]=E):E=i[7];let S;i[8]!==s?(S=Object.keys(trainingData[s+"TrainingData"][0].input),i[8]=s,i[9]=S):S=i[9];let w;i[10]!==o||i[11]!==l||i[12]!==S?(w=jsxRuntimeExports.jsx("div",{className:"box-row",children:S.map(z=>z!=="year"?jsxRuntimeExports.jsxs("label",{htmlFor:z,children:[z.charAt(0).toUpperCase()+z.slice(1).replace(/_/g," "),":",jsxRuntimeExports.jsx("input",{type:"checkbox",id:z,name:z,onChange:Z=>l({...o,[z]:Z.target.checked})})]},z):null)}),i[10]=o,i[11]=l,i[12]=S,i[13]=w):w=i[13];let D;i[14]!==g||i[15]!==E||i[16]!==w?(D=jsxRuntimeExports.jsxs("div",{className:"box",children:[g,E,w]}),i[14]=g,i[15]=E,i[16]=w,i[17]=D):D=i[17];let m;i[18]===Symbol.for("react.memo_cache_sentinel")?(m=jsxRuntimeExports.jsx("h3",{children:"Prediction Options"}),i[18]=m):m=i[18];let R;i[19]!==d||i[20]!==c?(R=z=>c({...d,performanceMode:z.target.checked,trainingMode:!z.target.checked}),i[19]=d,i[20]=c,i[21]=R):R=i[21];let _;i[22]!==d.performanceMode||i[23]!==R?(_=jsxRuntimeExports.jsxs("label",{htmlFor:"performance-mode",children:["Performance Mode:",jsxRuntimeExports.jsx("input",{type:"radio",id:"performance-mode",name:"mode",value:d.performanceMode,defaultChecked:!0,onChange:R})]}),i[22]=d.performanceMode,i[23]=R,i[24]=_):_=i[24];let b;i[25]!==d||i[26]!==c?(b=z=>c({...d,performanceMode:!z.target.checked,trainingMode:z.target.checked}),i[25]=d,i[26]=c,i[27]=b):b=i[27];let h;i[28]!==d.trainingMode||i[29]!==b?(h=jsxRuntimeExports.jsxs("label",{htmlFor:"training-mode",children:["Training Mode:",jsxRuntimeExports.jsx("input",{type:"radio",id:"training-mode",name:"mode",value:d.trainingMode,onChange:b})]}),i[28]=d.trainingMode,i[29]=b,i[30]=h):h=i[30];let k;i[31]!==_||i[32]!==h?(k=jsxRuntimeExports.jsxs("div",{className:"box",children:[m,jsxRuntimeExports.jsxs("div",{className:"box-row",children:[_,h]})]}),i[31]=_,i[32]=h,i[33]=k):k=i[33];let M;return i[34]!==k||i[35]!==D?(M=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("form",{children:[D,k]})}),i[34]=k,i[35]=D,i[36]=M):M=i[36],M}function _temp(r){return r.key==="Enter"?r.preventDefault():void 0}const yearNormalizationFactor=1e-4;function App(){const[r,i]=reactExports.useState(""),[s,o]=reactExports.useState(!0),[l,d]=reactExports.useState({year:new Date().getFullYear().toString()}),[c,f]=reactExports.useState({performanceMode:!0,trainingMode:!1}),[g,v]=reactExports.useState(neuralNetworkTypes.game),[p,E]=reactExports.useState("?"),[S,w]=reactExports.useState(""),D=reactExports.useRef(0),{trainingStatusRef:m,updateTrainingStatus:R,serializedNeuralNetwork:_,neuralNetworkYearRange:b,priceModifier:h,trainNeuralNetwork:k}=useNeuralNetwork(i,g,d,E,w),M=()=>{f({performanceMode:!0,trainingMode:!1}),o(!1)},z=()=>{const{min:A,max:N}=b.current,j=parseFloat(l.year),q=Math.max(A,Math.min(N,j));return j!==q&&(d({...l,year:q}),w(`Year must be between ${A} and ${N}.`)),q},Z=A=>{try{const N=h.current*_.current.run(A).price;E(N.toFixed(2))}catch(N){console.error(N),i("An error occurred while running the neural network in Performance Mode.")}},W=A=>{try{R(!0);const N=k(A.year);if(w("Your device may not be performant enough for Training Mode. Your training wasn't used."),m.current){Z(A);return}const j=N.toFunction().toString();w(j);const q=h.current*N.run(A).price;E(q.toFixed(2))}catch(N){console.error(N),i("An error occurred while running the neural network in Training Mode.")}},H=()=>{const A={year:z()*yearNormalizationFactor};for(const N in l)N!=="year"&&(A[N]=l[N]?1:0);if(c.performanceMode){Z(A);return}W(A)},L=()=>{i(""),E(""),w(""),clearTimeout(D.current),D.current=setTimeout(H,neuralNetworkTimeoutDelay)};return reactExports.useEffect(()=>clearTimeout(D.current),[]),r?jsxRuntimeExports.jsx(ErrorPanel,{errMsgTxt:r}):s?jsxRuntimeExports.jsx(LandingPage,{continueToApp:M}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"panel",children:[jsxRuntimeExports.jsxs("div",{className:"menu",children:[Object.keys(neuralNetworkTypes).map(A=>jsxRuntimeExports.jsx("button",{onClick:()=>v(A),children:A.charAt(0).toUpperCase()+A.slice(1)},A)),jsxRuntimeExports.jsx("button",{onClick:()=>o(!0),children:"Help"})]}),jsxRuntimeExports.jsx(PredictionInput,{neuralNetworkType:g,predictionObjectInput:l,setPredictionObjectInput:d,predictionOptions:c,setPredictionOptions:f}),p?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:L,children:"Predict Price"}),jsxRuntimeExports.jsxs("h3",{children:["Price: $",p]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"loader"})}),S?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"sized-box",children:[jsxRuntimeExports.jsx("h3",{children:"Neural Network Status:"}),S]})}):null]})})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
