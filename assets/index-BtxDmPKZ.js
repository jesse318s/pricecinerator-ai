(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const y of o)if(y.type==="childList")for(const f of y.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const y={};return o.integrity&&(y.integrity=o.integrity),o.referrerPolicy&&(y.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?y.credentials="include":o.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function l(o){if(o.ep)return;o.ep=!0;const y=s(o);fetch(o.href,y)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function l(){return this instanceof l?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var o=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,o.get?o:{enumerable:!0,get:function(){return r[l]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,o,y){var f=null;if(y!==void 0&&(f=""+y),o.key!==void 0&&(f=""+o.key),"key"in o){y={};for(var g in o)g!=="key"&&(y[g]=o[g])}else y=o;return o=y.ref,{$$typeof:r,type:l,key:f,ref:o!==void 0?o:null,props:y}}return reactJsxRuntime_production.Fragment=i,reactJsxRuntime_production.jsx=s,reactJsxRuntime_production.jsxs=s,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),S=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,m={};function E(L,Q,ie){this.props=L,this.context=Q,this.refs=m,this.updater=ie||T}E.prototype.isReactComponent={},E.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function _(){}_.prototype=E.prototype;function b(L,Q,ie){this.props=L,this.context=Q,this.refs=m,this.updater=ie||T}var c=b.prototype=new _;c.constructor=b,O(c,E.prototype),c.isPureReactComponent=!0;var A=Array.isArray,U={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function ne(L,Q,ie,J,ue,de){return ie=de.ref,{$$typeof:r,type:L,key:Q,ref:ie!==void 0?ie:null,props:de}}function Y(L,Q){return ne(L.type,Q,void 0,void 0,void 0,L.props)}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function k(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return Q[ie]})}var R=/\/+/g;function D(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):Q.toString(36)}function B(){}function M(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(B,B):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function j(L,Q,ie,J,ue){var de=typeof L;(de==="undefined"||de==="boolean")&&(L=null);var P=!1;if(L===null)P=!0;else switch(de){case"bigint":case"string":case"number":P=!0;break;case"object":switch(L.$$typeof){case r:case i:P=!0;break;case d:return P=L._init,j(P(L._payload),Q,ie,J,ue)}}if(P)return ue=ue(L),P=J===""?"."+D(L,0):J,A(ue)?(ie="",P!=null&&(ie=P.replace(R,"$&/")+"/"),j(ue,Q,ie,"",function($){return $})):ue!=null&&(H(ue)&&(ue=Y(ue,ie+(ue.key==null||L&&L.key===ue.key?"":(""+ue.key).replace(R,"$&/")+"/")+P)),Q.push(ue)),1;P=0;var I=J===""?".":J+":";if(A(L))for(var X=0;X<L.length;X++)J=L[X],de=I+D(J,X),P+=j(J,Q,ie,de,ue);else if(X=x(L),typeof X=="function")for(L=X.call(L),X=0;!(J=L.next()).done;)J=J.value,de=I+D(J,X++),P+=j(J,Q,ie,de,ue);else if(de==="object"){if(typeof L.then=="function")return j(M(L),Q,ie,J,ue);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return P}function z(L,Q,ie){if(L==null)return L;var J=[],ue=0;return j(L,J,"","",function(de){return Q.call(ie,de,ue++)}),J}function q(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var K=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ee(){}return react_production.Children={map:z,forEach:function(L,Q,ie){z(L,function(){Q.apply(this,arguments)},ie)},count:function(L){var Q=0;return z(L,function(){Q++}),Q},toArray:function(L){return z(L,function(Q){return Q})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},react_production.Component=E,react_production.Fragment=s,react_production.Profiler=o,react_production.PureComponent=b,react_production.StrictMode=l,react_production.Suspense=v,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(L){return function(){return L.apply(null,arguments)}},react_production.cloneElement=function(L,Q,ie){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var J=O({},L.props),ue=L.key,de=void 0;if(Q!=null)for(P in Q.ref!==void 0&&(de=void 0),Q.key!==void 0&&(ue=""+Q.key),Q)!V.call(Q,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&Q.ref===void 0||(J[P]=Q[P]);var P=arguments.length-2;if(P===1)J.children=ie;else if(1<P){for(var I=Array(P),X=0;X<P;X++)I[X]=arguments[X+2];J.children=I}return ne(L.type,ue,void 0,void 0,de,J)},react_production.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:y,_context:L},L},react_production.createElement=function(L,Q,ie){var J,ue={},de=null;if(Q!=null)for(J in Q.key!==void 0&&(de=""+Q.key),Q)V.call(Q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ue[J]=Q[J]);var P=arguments.length-2;if(P===1)ue.children=ie;else if(1<P){for(var I=Array(P),X=0;X<P;X++)I[X]=arguments[X+2];ue.children=I}if(L&&L.defaultProps)for(J in P=L.defaultProps,P)ue[J]===void 0&&(ue[J]=P[J]);return ne(L,de,void 0,void 0,null,ue)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(L){return{$$typeof:g,render:L}},react_production.isValidElement=H,react_production.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:q}},react_production.memo=function(L,Q){return{$$typeof:p,type:L,compare:Q===void 0?null:Q}},react_production.startTransition=function(L){var Q=U.T,ie={};U.T=ie;try{var J=L(),ue=U.S;ue!==null&&ue(ie,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ee,K)}catch(de){K(de)}finally{U.T=Q}},react_production.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},react_production.use=function(L){return U.H.use(L)},react_production.useActionState=function(L,Q,ie){return U.H.useActionState(L,Q,ie)},react_production.useCallback=function(L,Q){return U.H.useCallback(L,Q)},react_production.useContext=function(L){return U.H.useContext(L)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(L,Q){return U.H.useDeferredValue(L,Q)},react_production.useEffect=function(L,Q){return U.H.useEffect(L,Q)},react_production.useId=function(){return U.H.useId()},react_production.useImperativeHandle=function(L,Q,ie){return U.H.useImperativeHandle(L,Q,ie)},react_production.useInsertionEffect=function(L,Q){return U.H.useInsertionEffect(L,Q)},react_production.useLayoutEffect=function(L,Q){return U.H.useLayoutEffect(L,Q)},react_production.useMemo=function(L,Q){return U.H.useMemo(L,Q)},react_production.useOptimistic=function(L,Q){return U.H.useOptimistic(L,Q)},react_production.useReducer=function(L,Q,ie){return U.H.useReducer(L,Q,ie)},react_production.useRef=function(L){return U.H.useRef(L)},react_production.useState=function(L){return U.H.useState(L)},react_production.useSyncExternalStore=function(L,Q,ie){return U.H.useSyncExternalStore(L,Q,ie)},react_production.useTransition=function(){return U.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(r){function i(z,q){var K=z.length;z.push(q);e:for(;0<K;){var ee=K-1>>>1,L=z[ee];if(0<o(L,q))z[ee]=q,z[K]=L,K=ee;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var q=z[0],K=z.pop();if(K!==q){z[0]=K;e:for(var ee=0,L=z.length,Q=L>>>1;ee<Q;){var ie=2*(ee+1)-1,J=z[ie],ue=ie+1,de=z[ue];if(0>o(J,K))ue<L&&0>o(de,J)?(z[ee]=de,z[ue]=K,ee=ue):(z[ee]=J,z[ie]=K,ee=ie);else if(ue<L&&0>o(de,K))z[ee]=de,z[ue]=K,ee=ue;else break e}}return q}function o(z,q){var K=z.sortIndex-q.sortIndex;return K!==0?K:z.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;r.unstable_now=function(){return y.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var v=[],p=[],d=1,S=null,x=3,T=!1,O=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function c(z){for(var q=s(p);q!==null;){if(q.callback===null)l(p);else if(q.startTime<=z)l(p),q.sortIndex=q.expirationTime,i(v,q);else break;q=s(p)}}function A(z){if(m=!1,c(z),!O)if(s(v)!==null)O=!0,M();else{var q=s(p);q!==null&&j(A,q.startTime-z)}}var U=!1,V=-1,ne=5,Y=-1;function H(){return!(r.unstable_now()-Y<ne)}function k(){if(U){var z=r.unstable_now();Y=z;var q=!0;try{e:{O=!1,m&&(m=!1,_(V),V=-1),T=!0;var K=x;try{t:{for(c(z),S=s(v);S!==null&&!(S.expirationTime>z&&H());){var ee=S.callback;if(typeof ee=="function"){S.callback=null,x=S.priorityLevel;var L=ee(S.expirationTime<=z);if(z=r.unstable_now(),typeof L=="function"){S.callback=L,c(z),q=!0;break t}S===s(v)&&l(v),c(z)}else l(v);S=s(v)}if(S!==null)q=!0;else{var Q=s(p);Q!==null&&j(A,Q.startTime-z),q=!1}}break e}finally{S=null,x=K,T=!1}q=void 0}}finally{q?R():U=!1}}}var R;if(typeof b=="function")R=function(){b(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,B=D.port2;D.port1.onmessage=k,R=function(){B.postMessage(null)}}else R=function(){E(k,0)};function M(){U||(U=!0,R())}function j(z,q){V=E(function(){z(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){O||T||(O=!0,M())},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return s(v)},r.unstable_next=function(z){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var K=x;x=q;try{return z()}finally{x=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=x;x=z;try{return q()}finally{x=K}},r.unstable_scheduleCallback=function(z,q,K){var ee=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,z={id:d++,callback:q,priorityLevel:z,startTime:K,expirationTime:L,sortIndex:-1},K>ee?(z.sortIndex=K,i(p,z),s(v)===null&&z===s(p)&&(m?(_(V),V=-1):m=!0,j(A,K-ee))):(z.sortIndex=L,i(v,z),O||T||(O=!0,M())),z},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(z){var q=x;return function(){var K=x;x=q;try{return z.apply(this,arguments)}finally{x=K}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var r=requireReact();function i(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)p+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function y(v,p,d){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:p,implementation:d}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,reactDom_production.createPortal=function(v,p){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return y(v,p,null,d)},reactDom_production.flushSync=function(v){var p=f.T,d=l.p;try{if(f.T=null,l.p=2,v)return v()}finally{f.T=p,l.p=d,l.d.f()}},reactDom_production.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(v,p))},reactDom_production.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},reactDom_production.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var d=p.as,S=g(d,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;d==="style"?l.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:T}):d==="script"&&l.d.X(v,{crossOrigin:S,integrity:x,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},reactDom_production.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var d=g(p.as,p.crossOrigin);l.d.M(v,{crossOrigin:d,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(v)},reactDom_production.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var d=p.as,S=g(d,p.crossOrigin);l.d.L(v,d,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},reactDom_production.preloadModule=function(v,p){if(typeof v=="string")if(p){var d=g(p.as,p.crossOrigin);l.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:d,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(v)},reactDom_production.requestFormReset=function(v){l.d.r(v)},reactDom_production.unstable_batchedUpdates=function(v,p){return v(p)},reactDom_production.useFormState=function(v,p,d){return f.H.useFormState(v,p,d)},reactDom_production.useFormStatus=function(){return f.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var r=requireScheduler(),i=requireReact(),s=requireReactDom();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var y=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),c=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case g:return"Portal";case d:return"Profiler";case p:return"StrictMode";case m:return"Suspense";case E:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var H=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,R,D;function B(e){if(R===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||"",D=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+e+D}var M=!1;function j(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ae=oe}Reflect.construct(e,[],pe)}else{try{pe.call()}catch(oe){ae=oe}e.call(pe.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(pe=e())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),w=h[0],C=h[1];if(w&&C){var F=w.split(`
`),Z=C.split(`
`);for(u=a=0;a<F.length&&!F[a].includes("DetermineComponentFrameRoot");)a++;for(;u<Z.length&&!Z[u].includes("DetermineComponentFrameRoot");)u++;if(a===F.length||u===Z.length)for(a=F.length-1,u=Z.length-1;1<=a&&0<=u&&F[a]!==Z[u];)u--;for(;1<=a&&0<=u;a--,u--)if(F[a]!==Z[u]){if(a!==1||u!==1)do if(a--,u--,0>u||F[a]!==Z[u]){var fe=`
`+F[a].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=a&&0<=u);break}}}finally{M=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?B(n):""}function z(e){switch(e.tag){case 26:case 27:case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return e=j(e.type,!1),e;case 11:return e=j(e.type.render,!1),e;case 1:return e=j(e.type,!0),e;default:return""}}function q(e){try{var t="";do t+=z(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function K(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ee(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L(e){if(K(e)!==e)throw Error(l(188))}function Q(e){var t=e.alternate;if(!t){if(t=K(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var u=n.return;if(u===null)break;var h=u.alternate;if(h===null){if(a=u.return,a!==null){n=a;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===n)return L(u),e;if(h===a)return L(u),t;h=h.sibling}throw Error(l(188))}if(n.return!==a.return)n=u,a=h;else{for(var w=!1,C=u.child;C;){if(C===n){w=!0,n=u,a=h;break}if(C===a){w=!0,a=u,n=h;break}C=C.sibling}if(!w){for(C=h.child;C;){if(C===n){w=!0,n=h,a=u;break}if(C===a){w=!0,a=h,n=u;break}C=C.sibling}if(!w)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function ie(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ie(e),t!==null)return t;e=e.sibling}return null}var J=Array.isArray,ue=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},P=[],I=-1;function X(e){return{current:e}}function $(e){0>I||(e.current=P[I],P[I]=null,I--)}function le(e,t){I++,P[I]=e.current,e.current=t}var N=X(null),G=X(null),se=X(null),he=X(null);function Ee(e,t){switch(le(se,t),le(G,e),le(N,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?vc(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=vc(e),t=gc(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(N),le(N,t)}function ge(){$(N),$(G),$(se)}function _e(e){e.memoizedState!==null&&le(he,e);var t=N.current,n=gc(t,e.type);t!==n&&(le(G,e),le(N,n))}function Ce(e){G.current===e&&($(N),$(G)),he.current===e&&($(he),Fi._currentValue=de)}var ze=Object.prototype.hasOwnProperty,Be=r.unstable_scheduleCallback,ht=r.unstable_cancelCallback,gt=r.unstable_shouldYield,xe=r.unstable_requestPaint,Ne=r.unstable_now,Pe=r.unstable_getCurrentPriorityLevel,Ye=r.unstable_ImmediatePriority,je=r.unstable_UserBlockingPriority,Fe=r.unstable_NormalPriority,In=r.unstable_LowPriority,dr=r.unstable_IdlePriority,Wr=r.log,uu=r.unstable_setDisableYieldValue,Wt=null,ft=null;function Ki(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Wt,e,void 0,(e.current.flags&128)===128)}catch{}}function Gt(e){if(typeof Wr=="function"&&uu(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Wt,e)}catch{}}var pt=Math.clz32?Math.clz32:Qr,su=Math.log,vr=Math.LN2;function Qr(e){return e>>>=0,e===0?32:31-(su(e)/vr|0)|0}var Qt=128,mn=4194304;function Ft(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zt(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,u=e.suspendedLanes,h=e.pingedLanes,w=e.warmLanes;e=e.finishedLanes!==0;var C=n&134217727;return C!==0?(n=C&~u,n!==0?a=Ft(n):(h&=C,h!==0?a=Ft(h):e||(w=C&~w,w!==0&&(a=Ft(w))))):(C=n&~u,C!==0?a=Ft(C):h!==0?a=Ft(h):e||(w=n&~w,w!==0&&(a=Ft(w)))),a===0?0:t!==0&&t!==a&&(t&u)===0&&(u=a&-a,w=t&-t,u>=w||u===32&&(w&4194176)!==0)?t:a}function bn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lu(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var e=Qt;return Qt<<=1,(Qt&4194176)===0&&(Qt=128),e}function Vn(){var e=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),e}function Hn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function It(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jr(e,t,n,a,u,h){var w=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,F=e.expirationTimes,Z=e.hiddenUpdates;for(n=w&~n;0<n;){var fe=31-pt(n),pe=1<<fe;C[fe]=0,F[fe]=-1;var ae=Z[fe];if(ae!==null)for(Z[fe]=null,fe=0;fe<ae.length;fe++){var oe=ae[fe];oe!==null&&(oe.lane&=-536870913)}n&=~pe}a!==0&&_n(e,a,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(w&~t))}function _n(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194218}function Xn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pt(n),u=1<<a;u&t|e[a]&t&&(e[a]|=t),n&=~u}}function ei(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:qc(e.type))}function Yi(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var yt=Math.random().toString(36).slice(2),Je="__reactFiber$"+yt,et="__reactProps$"+yt,Vt="__reactContainer$"+yt,Jt="__reactEvents$"+yt,Wi="__reactListeners$"+yt,Qi="__reactHandles$"+yt,Zi="__reactResources$"+yt,xn="__reactMarker$"+yt;function ou(e){delete e[Je],delete e[et],delete e[Jt],delete e[Wi],delete e[Qi]}function Kn(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[Je])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function gr(e){if(e=e[Je]||e[Vt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ti(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function yr(e){var t=e[Zi];return t||(t=e[Zi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[xn]=!0}var hl=new Set,pl={};function $n(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(pl[e]=t,e=0;e<t.length;e++)hl.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},vl={};function jc(e){return ze.call(vl,e)?!0:ze.call(dl,e)?!1:Pc.test(e)?vl[e]=!0:(dl[e]=!0,!1)}function Ji(e,t,n){if(jc(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ea(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fc(e){var t=gl(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(w){a=""+w,h.call(this,w)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ta(e){e._valueTracker||(e._valueTracker=Fc(e))}function yl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=gl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function na(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ic=/[\n"\\]/g;function Rt(e){return e.replace(Ic,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fu(e,t,n,a,u,h,w,C){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?cu(e,w,wt(t)):n!=null?cu(e,w,wt(n)):a!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+wt(C):e.removeAttribute("name")}function ml(e,t,n,a,u,h,w,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null))return;n=n!=null?""+wt(n):"",t=t!=null?""+wt(t):n,C||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=C?e.checked:!!a,e.defaultChecked=!!a,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function cu(e,t,n){t==="number"&&na(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function br(e,t,n,a){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&a&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function bl(e,t,n){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wt(n):""}function _l(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(l(92));if(J(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=wt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function _r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Vc.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sl(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&n[u]!==a&&xl(e,u,a)}else for(var h in t)t.hasOwnProperty(h)&&xl(e,h,t[h])}function hu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return Xc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pu=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xr=null,Sr=null;function El(e){var t=gr(e);if(t&&(e=t.stateNode)){var n=e[et]||null;e:switch(e=t.stateNode,t.type){case"input":if(fu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var u=a[et]||null;if(!u)throw Error(l(90));fu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&yl(a)}break e;case"textarea":bl(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&br(e,!!n.multiple,t,!1)}}}var vu=!1;function Tl(e,t,n){if(vu)return e(t,n);vu=!0;try{var a=e(t);return a}finally{if(vu=!1,(xr!==null||Sr!==null)&&(Pa(),xr&&(t=xr,e=Sr,Sr=xr=null,El(t),e)))for(t=0;t<e.length;t++)El(e[t])}}function ni(e,t){var n=e.stateNode;if(n===null)return null;var a=n[et]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var gu=!1;if(en)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){gu=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{gu=!1}var Sn=null,yu=null,ia=null;function wl(){if(ia)return ia;var e,t=yu,n=t.length,a,u="value"in Sn?Sn.value:Sn.textContent,h=u.length;for(e=0;e<n&&t[e]===u[e];e++);var w=n-e;for(a=1;a<=w&&t[n-a]===u[h-a];a++);return ia=u.slice(e,1<a?1-a:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ua(){return!0}function Rl(){return!1}function mt(e){function t(n,a,u,h,w){this._reactName=n,this._targetInst=u,this.type=a,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ua:Rl,this.isPropagationStopped=Rl,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=mt(Yn),ii=k({},Yn,{view:0,detail:0}),Kc=mt(ii),mu,bu,ai,la=k({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(mu=e.screenX-ai.screenX,bu=e.screenY-ai.screenY):bu=mu=0,ai=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:bu}}),Ol=mt(la),$c=k({},la,{dataTransfer:0}),Yc=mt($c),Wc=k({},ii,{relatedTarget:0}),_u=mt(Wc),Qc=k({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zc=mt(Qc),Jc=k({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eh=mt(Jc),th=k({},Yn,{data:0}),kl=mt(th),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ih[e])?!!t[e]:!1}function xu(){return ah}var uh=k({},ii,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sh=mt(uh),lh=k({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=mt(lh),oh=k({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),fh=mt(oh),ch=k({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=mt(ch),ph=k({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dh=mt(ph),vh=k({},Yn,{newState:0,oldState:0}),gh=mt(vh),yh=[9,13,27,32],Su=en&&"CompositionEvent"in window,ui=null;en&&"documentMode"in document&&(ui=document.documentMode);var mh=en&&"TextEvent"in window&&!ui,Dl=en&&(!Su||ui&&8<ui&&11>=ui),Ml=" ",Ll=!1;function Cl(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ql(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function bh(e,t){switch(e){case"compositionend":return ql(t);case"keypress":return t.which!==32?null:(Ll=!0,Ml);case"textInput":return e=t.data,e===Ml&&Ll?null:e;default:return null}}function _h(e,t){if(Er)return e==="compositionend"||!Su&&Cl(e,t)?(e=wl(),ia=yu=Sn=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dl&&t.locale!=="ko"?null:t.data;default:return null}}var xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xh[e.type]:t==="textarea"}function Ul(e,t,n,a){xr?Sr?Sr.push(a):Sr=[a]:xr=a,t=Ha(t,"onChange"),0<t.length&&(n=new sa("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var si=null,li=null;function Sh(e){fc(e,0)}function oa(e){var t=ti(e);if(yl(t))return e}function Gl(e,t){if(e==="change")return t}var Bl=!1;if(en){var Eu;if(en){var Tu="oninput"in document;if(!Tu){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),Tu=typeof zl.oninput=="function"}Eu=Tu}else Eu=!1;Bl=Eu&&(!document.documentMode||9<document.documentMode)}function Pl(){si&&(si.detachEvent("onpropertychange",jl),li=si=null)}function jl(e){if(e.propertyName==="value"&&oa(li)){var t=[];Ul(t,li,e,du(e)),Tl(Sh,t)}}function Eh(e,t,n){e==="focusin"?(Pl(),si=t,li=n,si.attachEvent("onpropertychange",jl)):e==="focusout"&&Pl()}function Th(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oa(li)}function wh(e,t){if(e==="click")return oa(t)}function Rh(e,t){if(e==="input"||e==="change")return oa(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Oh;function oi(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var u=n[a];if(!ze.call(t,u)||!_t(e[u],t[u]))return!1}return!0}function Fl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Il(e,t){var n=Fl(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fl(n)}}function Vl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hl(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=na(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=na(e.document)}return t}function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kh(e,t){var n=Hl(t);t=e.focusedElem;var a=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Vl(t.ownerDocument.documentElement,t)){if(a!==null&&wu(t)){if(e=a.start,n=a.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var u=t.textContent.length,h=Math.min(a.start,u);a=a.end===void 0?h:Math.min(a.end,u),!n.extend&&h>a&&(u=a,a=h,h=u),u=Il(t,h);var w=Il(t,a);u&&w&&(n.rangeCount!==1||n.anchorNode!==u.node||n.anchorOffset!==u.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(e=e.createRange(),e.setStart(u.node,u.offset),n.removeAllRanges(),h>a?(n.addRange(e),n.extend(w.node,w.offset)):(e.setEnd(w.node,w.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ah=en&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ru=null,fi=null,Ou=!1;function Xl(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ou||Tr==null||Tr!==na(a)||(a=Tr,"selectionStart"in a&&wu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),fi&&oi(fi,a)||(fi=a,a=Ha(Ru,"onSelect"),0<a.length&&(t=new sa("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Tr)))}function Wn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},ku={},Kl={};en&&(Kl=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Qn(e){if(ku[e])return ku[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kl)return ku[e]=t[n];return e}var $l=Qn("animationend"),Yl=Qn("animationiteration"),Wl=Qn("animationstart"),Dh=Qn("transitionrun"),Mh=Qn("transitionstart"),Lh=Qn("transitioncancel"),Ql=Qn("transitionend"),Zl=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bt(e,t){Zl.set(e,t),$n(t,[e])}var Ot=[],Rr=0,Au=0;function fa(){for(var e=Rr,t=Au=Rr=0;t<e;){var n=Ot[t];Ot[t++]=null;var a=Ot[t];Ot[t++]=null;var u=Ot[t];Ot[t++]=null;var h=Ot[t];if(Ot[t++]=null,a!==null&&u!==null){var w=a.pending;w===null?u.next=u:(u.next=w.next,w.next=u),a.pending=u}h!==0&&eo(n,u,h)}}function ca(e,t,n,a){Ot[Rr++]=e,Ot[Rr++]=t,Ot[Rr++]=n,Ot[Rr++]=a,Au|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Du(e,t,n,a){return ca(e,t,n,a),ha(e)}function En(e,t){return ca(e,null,null,t),ha(e)}function eo(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var u=!1,h=e.return;h!==null;)h.childLanes|=n,a=h.alternate,a!==null&&(a.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;u&&t!==null&&e.tag===3&&(h=e.stateNode,u=31-pt(n),h=h.hiddenUpdates,e=h[u],e===null?h[u]=[t]:e.push(t),t.lane=n|536870912)}function ha(e){if(50<Ni)throw Ni=0,Us=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Or={},to=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var n=to.get(e);return n!==void 0?n:(t={value:e,source:t,stack:q(t)},to.set(e,t),t)}return{value:e,source:t,stack:q(t)}}var kr=[],Ar=0,pa=null,da=0,At=[],Dt=0,Zn=null,nn=1,rn="";function Jn(e,t){kr[Ar++]=da,kr[Ar++]=pa,pa=e,da=t}function no(e,t,n){At[Dt++]=nn,At[Dt++]=rn,At[Dt++]=Zn,Zn=e;var a=nn;e=rn;var u=32-pt(a)-1;a&=~(1<<u),n+=1;var h=32-pt(t)+u;if(30<h){var w=u-u%5;h=(a&(1<<w)-1).toString(32),a>>=w,u-=w,nn=1<<32-pt(t)+u|n<<u|a,rn=h+e}else nn=1<<h|n<<u|a,rn=e}function Mu(e){e.return!==null&&(Jn(e,1),no(e,1,0))}function Lu(e){for(;e===pa;)pa=kr[--Ar],kr[Ar]=null,da=kr[--Ar],kr[Ar]=null;for(;e===Zn;)Zn=At[--Dt],At[Dt]=null,rn=At[--Dt],At[Dt]=null,nn=At[--Dt],At[Dt]=null}var dt=null,st=null,Ae=!1,zt=null,Ht=!1,Cu=Error(l(519));function er(e){var t=Error(l(418,""));throw pi(kt(t,e)),Cu}function ro(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Je]=e,t[et]=a,n){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(n=0;n<Gi.length;n++)Oe(Gi[n],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),ml(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ta(t);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),_l(t,a.value,a.defaultValue,a.children),ta(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||dc(t.textContent,n)?(a.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),a.onScroll!=null&&Oe("scroll",t),a.onScrollEnd!=null&&Oe("scrollend",t),a.onClick!=null&&(t.onclick=Xa),t=!0):t=!1,t||er(e)}function io(e){for(dt=e.return;dt;)switch(dt.tag){case 3:case 27:Ht=!0;return;case 5:case 13:Ht=!1;return;default:dt=dt.return}}function ci(e){if(e!==dt)return!1;if(!Ae)return io(e),Ae=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Js(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&st&&er(e),io(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){st=jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}st=null}}else st=dt?jt(e.stateNode.nextSibling):null;return!0}function hi(){st=dt=null,Ae=!1}function pi(e){zt===null?zt=[e]:zt.push(e)}var di=Error(l(460)),ao=Error(l(474)),qu={then:function(){}};function uo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function va(){}function so(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(va,va),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===di?Error(l(483)):e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===di?Error(l(483)):e}throw vi=t,di}}var vi=null;function lo(){if(vi===null)throw Error(l(459));var e=vi;return vi=null,e}var Dr=null,gi=0;function ga(e){var t=gi;return gi+=1,Dr===null&&(Dr=[]),so(Dr,e,t)}function yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ya(e,t){throw t.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function oo(e){var t=e._init;return t(e._payload)}function fo(e){function t(te,W){if(e){var re=te.deletions;re===null?(te.deletions=[W],te.flags|=16):re.push(W)}}function n(te,W){if(!e)return null;for(;W!==null;)t(te,W),W=W.sibling;return null}function a(te){for(var W=new Map;te!==null;)te.key!==null?W.set(te.key,te):W.set(te.index,te),te=te.sibling;return W}function u(te,W){return te=Nn(te,W),te.index=0,te.sibling=null,te}function h(te,W,re){return te.index=re,e?(re=te.alternate,re!==null?(re=re.index,re<W?(te.flags|=33554434,W):re):(te.flags|=33554434,W)):(te.flags|=1048576,W)}function w(te){return e&&te.alternate===null&&(te.flags|=33554434),te}function C(te,W,re,ce){return W===null||W.tag!==6?(W=ks(re,te.mode,ce),W.return=te,W):(W=u(W,re),W.return=te,W)}function F(te,W,re,ce){var ve=re.type;return ve===v?fe(te,W,re.props.children,ce,re.key):W!==null&&(W.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&oo(ve)===W.type)?(W=u(W,re.props),yi(W,re),W.return=te,W):(W=Na(re.type,re.key,re.props,null,te.mode,ce),yi(W,re),W.return=te,W)}function Z(te,W,re,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==re.containerInfo||W.stateNode.implementation!==re.implementation?(W=As(re,te.mode,ce),W.return=te,W):(W=u(W,re.children||[]),W.return=te,W)}function fe(te,W,re,ce,ve){return W===null||W.tag!==7?(W=fr(re,te.mode,ce,ve),W.return=te,W):(W=u(W,re),W.return=te,W)}function pe(te,W,re){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=ks(""+W,te.mode,re),W.return=te,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return re=Na(W.type,W.key,W.props,null,te.mode,re),yi(re,W),re.return=te,re;case g:return W=As(W,te.mode,re),W.return=te,W;case b:var ce=W._init;return W=ce(W._payload),pe(te,W,re)}if(J(W)||V(W))return W=fr(W,te.mode,re,null),W.return=te,W;if(typeof W.then=="function")return pe(te,ga(W),re);if(W.$$typeof===T)return pe(te,La(te,W),re);ya(te,W)}return null}function ae(te,W,re,ce){var ve=W!==null?W.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return ve!==null?null:C(te,W,""+re,ce);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case f:return re.key===ve?F(te,W,re,ce):null;case g:return re.key===ve?Z(te,W,re,ce):null;case b:return ve=re._init,re=ve(re._payload),ae(te,W,re,ce)}if(J(re)||V(re))return ve!==null?null:fe(te,W,re,ce,null);if(typeof re.then=="function")return ae(te,W,ga(re),ce);if(re.$$typeof===T)return ae(te,W,La(te,re),ce);ya(te,re)}return null}function oe(te,W,re,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return te=te.get(re)||null,C(W,te,""+ce,ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case f:return te=te.get(ce.key===null?re:ce.key)||null,F(W,te,ce,ve);case g:return te=te.get(ce.key===null?re:ce.key)||null,Z(W,te,ce,ve);case b:var we=ce._init;return ce=we(ce._payload),oe(te,W,re,ce,ve)}if(J(ce)||V(ce))return te=te.get(re)||null,fe(W,te,ce,ve,null);if(typeof ce.then=="function")return oe(te,W,re,ga(ce),ve);if(ce.$$typeof===T)return oe(te,W,re,La(W,ce),ve);ya(W,ce)}return null}function ye(te,W,re,ce){for(var ve=null,we=null,me=W,be=W=0,ut=null;me!==null&&be<re.length;be++){me.index>be?(ut=me,me=null):ut=me.sibling;var De=ae(te,me,re[be],ce);if(De===null){me===null&&(me=ut);break}e&&me&&De.alternate===null&&t(te,me),W=h(De,W,be),we===null?ve=De:we.sibling=De,we=De,me=ut}if(be===re.length)return n(te,me),Ae&&Jn(te,be),ve;if(me===null){for(;be<re.length;be++)me=pe(te,re[be],ce),me!==null&&(W=h(me,W,be),we===null?ve=me:we.sibling=me,we=me);return Ae&&Jn(te,be),ve}for(me=a(me);be<re.length;be++)ut=oe(me,te,be,re[be],ce),ut!==null&&(e&&ut.alternate!==null&&me.delete(ut.key===null?be:ut.key),W=h(ut,W,be),we===null?ve=ut:we.sibling=ut,we=ut);return e&&me.forEach(function(Fn){return t(te,Fn)}),Ae&&Jn(te,be),ve}function Se(te,W,re,ce){if(re==null)throw Error(l(151));for(var ve=null,we=null,me=W,be=W=0,ut=null,De=re.next();me!==null&&!De.done;be++,De=re.next()){me.index>be?(ut=me,me=null):ut=me.sibling;var Fn=ae(te,me,De.value,ce);if(Fn===null){me===null&&(me=ut);break}e&&me&&Fn.alternate===null&&t(te,me),W=h(Fn,W,be),we===null?ve=Fn:we.sibling=Fn,we=Fn,me=ut}if(De.done)return n(te,me),Ae&&Jn(te,be),ve;if(me===null){for(;!De.done;be++,De=re.next())De=pe(te,De.value,ce),De!==null&&(W=h(De,W,be),we===null?ve=De:we.sibling=De,we=De);return Ae&&Jn(te,be),ve}for(me=a(me);!De.done;be++,De=re.next())De=oe(me,te,be,De.value,ce),De!==null&&(e&&De.alternate!==null&&me.delete(De.key===null?be:De.key),W=h(De,W,be),we===null?ve=De:we.sibling=De,we=De);return e&&me.forEach(function(Kp){return t(te,Kp)}),Ae&&Jn(te,be),ve}function Ke(te,W,re,ce){if(typeof re=="object"&&re!==null&&re.type===v&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case f:e:{for(var ve=re.key;W!==null;){if(W.key===ve){if(ve=re.type,ve===v){if(W.tag===7){n(te,W.sibling),ce=u(W,re.props.children),ce.return=te,te=ce;break e}}else if(W.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&oo(ve)===W.type){n(te,W.sibling),ce=u(W,re.props),yi(ce,re),ce.return=te,te=ce;break e}n(te,W);break}else t(te,W);W=W.sibling}re.type===v?(ce=fr(re.props.children,te.mode,ce,re.key),ce.return=te,te=ce):(ce=Na(re.type,re.key,re.props,null,te.mode,ce),yi(ce,re),ce.return=te,te=ce)}return w(te);case g:e:{for(ve=re.key;W!==null;){if(W.key===ve)if(W.tag===4&&W.stateNode.containerInfo===re.containerInfo&&W.stateNode.implementation===re.implementation){n(te,W.sibling),ce=u(W,re.children||[]),ce.return=te,te=ce;break e}else{n(te,W);break}else t(te,W);W=W.sibling}ce=As(re,te.mode,ce),ce.return=te,te=ce}return w(te);case b:return ve=re._init,re=ve(re._payload),Ke(te,W,re,ce)}if(J(re))return ye(te,W,re,ce);if(V(re)){if(ve=V(re),typeof ve!="function")throw Error(l(150));return re=ve.call(re),Se(te,W,re,ce)}if(typeof re.then=="function")return Ke(te,W,ga(re),ce);if(re.$$typeof===T)return Ke(te,W,La(te,re),ce);ya(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,W!==null&&W.tag===6?(n(te,W.sibling),ce=u(W,re),ce.return=te,te=ce):(n(te,W),ce=ks(re,te.mode,ce),ce.return=te,te=ce),w(te)):n(te,W)}return function(te,W,re,ce){try{gi=0;var ve=Ke(te,W,re,ce);return Dr=null,ve}catch(me){if(me===di)throw me;var we=qt(29,me,null,te.mode);return we.lanes=ce,we.return=te,we}finally{}}}var tr=fo(!0),co=fo(!1),Mr=X(null),ma=X(0);function ho(e,t){e=vn,le(ma,e),le(Mr,t),vn=e|t.baseLanes}function Nu(){le(ma,vn),le(Mr,Mr.current)}function Uu(){vn=ma.current,$(Mr),$(ma)}var Mt=X(null),Xt=null;function Tn(e){var t=e.alternate;le(tt,tt.current&1),le(Mt,e),Xt===null&&(t===null||Mr.current!==null||t.memoizedState!==null)&&(Xt=e)}function po(e){if(e.tag===22){if(le(tt,tt.current),le(Mt,e),Xt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xt=e)}}else wn()}function wn(){le(tt,tt.current),le(Mt,Mt.current)}function an(e){$(Mt),Xt===e&&(Xt=null),$(tt)}var tt=X(0);function ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},qh=r.unstable_scheduleCallback,Nh=r.unstable_NormalPriority,nt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new Ch,data:new Map,refCount:0}}function mi(e){e.refCount--,e.refCount===0&&qh(Nh,function(){e.controller.abort()})}var bi=null,Bu=0,Lr=0,Cr=null;function Uh(e,t){if(bi===null){var n=bi=[];Bu=0,Lr=Vs(),Cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Bu++,t.then(vo,vo),t}function vo(){if(--Bu===0&&bi!==null){Cr!==null&&(Cr.status="fulfilled");var e=bi;bi=null,Lr=0,Cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gh(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),a}var go=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Uh(e,t),go!==null&&go(e,t)};var nr=X(null);function zu(){var e=nr.current;return e!==null?e:Ue.pooledCache}function _a(e,t){t===null?le(nr,nr.current):le(nr,t.pool)}function yo(){var e=zu();return e===null?null:{parent:nt._currentValue,pool:e}}var Rn=0,Te=null,Me=null,We=null,xa=!1,qr=!1,rr=!1,Sa=0,_i=0,Nr=null,Bh=0;function $e(){throw Error(l(321))}function Pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function ju(e,t,n,a,u,h){return Rn=h,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?ir:On,rr=!1,h=n(a,u),rr=!1,qr&&(h=bo(t,n,a,u)),mo(e),h}function mo(e){H.H=Kt;var t=Me!==null&&Me.next!==null;if(Rn=0,We=Me=Te=null,xa=!1,_i=0,Nr=null,t)throw Error(l(300));e===null||it||(e=e.dependencies,e!==null&&Ma(e)&&(it=!0))}function bo(e,t,n,a){Te=e;var u=0;do{if(qr&&(Nr=null),_i=0,qr=!1,25<=u)throw Error(l(301));if(u+=1,We=Me=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=ar,h=t(n,a)}while(qr);return h}function zh(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?xi(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(Te.flags|=1024),t}function Fu(){var e=Sa!==0;return Sa=0,e}function Iu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vu(e){if(xa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xa=!1}Rn=0,We=Me=Te=null,qr=!1,_i=Sa=0,Nr=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=e:We=We.next=e,We}function Qe(){if(Me===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=We===null?Te.memoizedState:We.next;if(t!==null)We=t,Me=e;else{if(e===null)throw Te.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},We===null?Te.memoizedState=We=e:We=We.next=e}return We}var Ea;Ea=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xi(e){var t=_i;return _i+=1,Nr===null&&(Nr=[]),e=so(Nr,e,t),t=Te,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?ir:On),e}function Ta(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xi(e);if(e.$$typeof===T)return ct(e)}throw Error(l(438,String(e)))}function Hu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Te.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ea(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=A;return t.index++,n}function un(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=Qe();return Xu(t,Me,e)}function Xu(e,t,n){var a=e.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var u=e.baseQueue,h=a.pending;if(h!==null){if(u!==null){var w=u.next;u.next=h.next,h.next=w}t.baseQueue=u=h,a.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var C=w=null,F=null,Z=t,fe=!1;do{var pe=Z.lane&-536870913;if(pe!==Z.lane?(ke&pe)===pe:(Rn&pe)===pe){var ae=Z.revertLane;if(ae===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),pe===Lr&&(fe=!0);else if((Rn&ae)===ae){Z=Z.next,ae===Lr&&(fe=!0);continue}else pe={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(C=F=pe,w=h):F=F.next=pe,Te.lanes|=ae,Un|=ae;pe=Z.action,rr&&n(h,pe),h=Z.hasEagerState?Z.eagerState:n(h,pe)}else ae={lane:pe,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(C=F=ae,w=h):F=F.next=ae,Te.lanes|=pe,Un|=pe;Z=Z.next}while(Z!==null&&Z!==t);if(F===null?w=h:F.next=C,!_t(h,e.memoizedState)&&(it=!0,fe&&(n=Cr,n!==null)))throw n;e.memoizedState=h,e.baseState=w,e.baseQueue=F,a.lastRenderedState=h}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ku(e){var t=Qe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,u=n.pending,h=t.memoizedState;if(u!==null){n.pending=null;var w=u=u.next;do h=e(h,w.action),w=w.next;while(w!==u);_t(h,t.memoizedState)||(it=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,a]}function _o(e,t,n){var a=Te,u=Qe(),h=Ae;if(h){if(n===void 0)throw Error(l(407));n=n()}else n=t();var w=!_t((Me||u).memoizedState,n);if(w&&(u.memoizedState=n,it=!0),u=u.queue,Wu(Eo.bind(null,a,u,e),[e]),u.getSnapshot!==t||w||We!==null&&We.memoizedState.tag&1){if(a.flags|=2048,Ur(9,So.bind(null,a,u,n,t),{destroy:void 0},null),Ue===null)throw Error(l(349));h||(Rn&60)!==0||xo(a,t,n)}return n}function xo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Ea(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function So(e,t,n,a){t.value=n,t.getSnapshot=a,To(t)&&wo(e)}function Eo(e,t,n){return n(function(){To(t)&&wo(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function wo(e){var t=En(e,2);t!==null&&vt(t,e,2)}function $u(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),rr){Gt(!0);try{n()}finally{Gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},t}function Ro(e,t,n,a){return e.baseState=n,Xu(e,Me,typeof a=="function"?a:un)}function Ph(e,t,n,a,u){if(ka(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){h.listeners.push(w)}};H.T!==null?n(!0):h.isTransition=!1,a(h),n=t.pending,n===null?(h.next=t.pending=h,Oo(t,h)):(h.next=n.next,t.pending=n.next=h)}}function Oo(e,t){var n=t.action,a=t.payload,u=e.state;if(t.isTransition){var h=H.T,w={};H.T=w;try{var C=n(u,a),F=H.S;F!==null&&F(w,C),ko(e,t,C)}catch(Z){Yu(e,t,Z)}finally{H.T=h}}else try{h=n(u,a),ko(e,t,h)}catch(Z){Yu(e,t,Z)}}function ko(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Ao(e,t,a)},function(a){return Yu(e,t,a)}):Ao(e,t,n)}function Ao(e,t,n){t.status="fulfilled",t.value=n,Do(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Oo(e,n)))}function Yu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Do(t),t=t.next;while(t!==a)}e.action=null}function Do(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Mo(e,t){return t}function Lo(e,t){if(Ae){var n=Ue.formState;if(n!==null){e:{var a=Te;if(Ae){if(st){t:{for(var u=st,h=Ht;u.nodeType!==8;){if(!h){u=null;break t}if(u=jt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){st=jt(u.nextSibling),a=u.data==="F!";break e}}er(a)}a=!1}a&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},n.queue=a,n=Wo.bind(null,Te,a),a.dispatch=n,a=$u(!1),h=ts.bind(null,Te,!1,a.queue),a=bt(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,n=Ph.bind(null,Te,u,h,n),u.dispatch=n,a.memoizedState=e,[t,n,!1]}function Co(e){var t=Qe();return qo(t,Me,e)}function qo(e,t,n){t=Xu(e,t,Mo)[0],e=wa(un)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?xi(t):t;var a=Qe(),u=a.queue,h=u.dispatch;return n!==a.memoizedState&&(Te.flags|=2048,Ur(9,jh.bind(null,u,n),{destroy:void 0},null)),[t,h,e]}function jh(e,t){e.action=t}function No(e){var t=Qe(),n=Me;if(n!==null)return qo(t,n,e);Qe(),t=t.memoizedState,n=Qe();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ur(e,t,n,a){return e={tag:e,create:t,inst:n,deps:a,next:null},t=Te.updateQueue,t===null&&(t=Ea(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Uo(){return Qe().memoizedState}function Ra(e,t,n,a){var u=bt();Te.flags|=e,u.memoizedState=Ur(1|t,n,{destroy:void 0},a===void 0?null:a)}function Oa(e,t,n,a){var u=Qe();a=a===void 0?null:a;var h=u.memoizedState.inst;Me!==null&&a!==null&&Pu(a,Me.memoizedState.deps)?u.memoizedState=Ur(t,n,h,a):(Te.flags|=e,u.memoizedState=Ur(1|t,n,h,a))}function Go(e,t){Ra(8390656,8,e,t)}function Wu(e,t){Oa(2048,8,e,t)}function Bo(e,t){return Oa(4,2,e,t)}function zo(e,t){return Oa(4,4,e,t)}function Po(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jo(e,t,n){n=n!=null?n.concat([e]):null,Oa(4,4,Po.bind(null,t,e),n)}function Qu(){}function Fo(e,t){var n=Qe();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Pu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=Qe();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Pu(t,a[1]))return a[0];if(a=e(),rr){Gt(!0);try{e()}finally{Gt(!1)}}return n.memoizedState=[a,t],a}function Zu(e,t,n){return n===void 0||(Rn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Xf(),Te.lanes|=e,Un|=e,n)}function Vo(e,t,n,a){return _t(n,t)?n:Mr.current!==null?(e=Zu(e,n,a),_t(e,t)||(it=!0),e):(Rn&42)===0?(it=!0,e.memoizedState=n):(e=Xf(),Te.lanes|=e,Un|=e,t)}function Ho(e,t,n,a,u){var h=ue.p;ue.p=h!==0&&8>h?h:8;var w=H.T,C={};H.T=C,ts(e,!1,t,n);try{var F=u(),Z=H.S;if(Z!==null&&Z(C,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var fe=Gh(F,a);Si(e,t,fe,Tt(e))}else Si(e,t,a,Tt(e))}catch(pe){Si(e,t,{then:function(){},status:"rejected",reason:pe},Tt())}finally{ue.p=h,H.T=w}}function Fh(){}function Ju(e,t,n,a){if(e.tag!==5)throw Error(l(476));var u=Xo(e).queue;Ho(e,u,t,de,n===null?Fh:function(){return Ko(e),n(a)})}function Xo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ko(e){var t=Xo(e).next.queue;Si(e,t,{},Tt())}function es(){return ct(Fi)}function $o(){return Qe().memoizedState}function Yo(){return Qe().memoizedState}function Ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Tt();e=Dn(n);var a=Mn(t,e,n);a!==null&&(vt(a,t,n),wi(a,t,n)),t={cache:Gu()},e.payload=t;return}t=t.return}}function Vh(e,t,n){var a=Tt();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ka(e)?Qo(t,n):(n=Du(e,t,n,a),n!==null&&(vt(n,e,a),Zo(n,t,a)))}function Wo(e,t,n){var a=Tt();Si(e,t,n,a)}function Si(e,t,n,a){var u={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ka(e))Qo(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var w=t.lastRenderedState,C=h(w,n);if(u.hasEagerState=!0,u.eagerState=C,_t(C,w))return ca(e,t,u,0),Ue===null&&fa(),!1}catch{}finally{}if(n=Du(e,t,u,a),n!==null)return vt(n,e,a),Zo(n,t,a),!0}return!1}function ts(e,t,n,a){if(a={lane:2,revertLane:Vs(),action:a,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(l(479))}else t=Du(e,n,a,2),t!==null&&vt(t,e,2)}function ka(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Qo(e,t){qr=xa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if((n&4194176)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Xn(e,n)}}var Kt={readContext:ct,use:Ta,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e};Kt.useCacheRefresh=$e,Kt.useMemoCache=$e,Kt.useHostTransitionStatus=$e,Kt.useFormState=$e,Kt.useActionState=$e,Kt.useOptimistic=$e;var ir={readContext:ct,use:Ta,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Go,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ra(4194308,4,Po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){Ra(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var a=e();if(rr){Gt(!0);try{e()}finally{Gt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=bt();if(n!==void 0){var u=n(t);if(rr){Gt(!0);try{n(t)}finally{Gt(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=Vh.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=$u(e);var t=e.queue,n=Wo.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qu,useDeferredValue:function(e,t){var n=bt();return Zu(n,e,t)},useTransition:function(){var e=$u(!1);return e=Ho.bind(null,Te,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Te,u=bt();if(Ae){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Ue===null)throw Error(l(349));(ke&60)!==0||xo(a,t,n)}u.memoizedState=n;var h={value:n,getSnapshot:t};return u.queue=h,Go(Eo.bind(null,a,h,e),[e]),a.flags|=2048,Ur(9,So.bind(null,a,h,n,t),{destroy:void 0},null),n},useId:function(){var e=bt(),t=Ue.identifierPrefix;if(Ae){var n=rn,a=nn;n=(a&~(1<<32-pt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bt().memoizedState=Ih.bind(null,Te)}};ir.useMemoCache=Hu,ir.useHostTransitionStatus=es,ir.useFormState=Lo,ir.useActionState=Lo,ir.useOptimistic=function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ts.bind(null,Te,!0,n),n.dispatch=t,[e,t]};var On={readContext:ct,use:Ta,useCallback:Fo,useContext:ct,useEffect:Wu,useImperativeHandle:jo,useInsertionEffect:Bo,useLayoutEffect:zo,useMemo:Io,useReducer:wa,useRef:Uo,useState:function(){return wa(un)},useDebugValue:Qu,useDeferredValue:function(e,t){var n=Qe();return Vo(n,Me.memoizedState,e,t)},useTransition:function(){var e=wa(un)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:xi(e),t]},useSyncExternalStore:_o,useId:$o};On.useCacheRefresh=Yo,On.useMemoCache=Hu,On.useHostTransitionStatus=es,On.useFormState=Co,On.useActionState=Co,On.useOptimistic=function(e,t){var n=Qe();return Ro(n,Me,e,t)};var ar={readContext:ct,use:Ta,useCallback:Fo,useContext:ct,useEffect:Wu,useImperativeHandle:jo,useInsertionEffect:Bo,useLayoutEffect:zo,useMemo:Io,useReducer:Ku,useRef:Uo,useState:function(){return Ku(un)},useDebugValue:Qu,useDeferredValue:function(e,t){var n=Qe();return Me===null?Zu(n,e,t):Vo(n,Me.memoizedState,e,t)},useTransition:function(){var e=Ku(un)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:xi(e),t]},useSyncExternalStore:_o,useId:$o};ar.useCacheRefresh=Yo,ar.useMemoCache=Hu,ar.useHostTransitionStatus=es,ar.useFormState=No,ar.useActionState=No,ar.useOptimistic=function(e,t){var n=Qe();return Me!==null?Ro(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])};function ns(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:k({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return(e=e._reactInternals)?K(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Tt(),u=Dn(a);u.payload=t,n!=null&&(u.callback=n),t=Mn(e,u,a),t!==null&&(vt(t,e,a),wi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Tt(),u=Dn(a);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Mn(e,u,a),t!==null&&(vt(t,e,a),wi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),a=Dn(n);a.tag=2,t!=null&&(a.callback=t),t=Mn(e,a,n),t!==null&&(vt(t,e,n),wi(t,e,n))}};function Jo(e,t,n,a,u,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,w):t.prototype&&t.prototype.isPureReactComponent?!oi(n,a)||!oi(u,h):!0}function ef(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ur(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=k({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}var Aa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tf(e){Aa(e)}function nf(e){console.error(e)}function rf(e){Aa(e)}function Da(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function af(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function is(e,t,n){return n=Dn(n),n.tag=3,n.payload={element:null},n.callback=function(){Da(e,t)},n}function uf(e){return e=Dn(e),e.tag=3,e}function sf(e,t,n,a){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var h=a.value;e.payload=function(){return u(h)},e.callback=function(){af(t,n,a)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){af(t,n,a),typeof u!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function Hh(e,t,n,a,u){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ti(t,n,u,!0),n=Mt.current,n!==null){switch(n.tag){case 13:return Xt===null?zs():n.alternate===null&&Xe===0&&(Xe=3),n.flags&=-257,n.flags|=65536,n.lanes=u,a===qu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),js(e,a,u)),!1;case 22:return n.flags|=65536,a===qu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),js(e,a,u)),!1}throw Error(l(435,n.tag))}return js(e,a,u),zs(),!1}if(Ae)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==Cu&&(e=Error(l(422),{cause:a}),pi(kt(e,n)))):(a!==Cu&&(t=Error(l(423),{cause:a}),pi(kt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=kt(a,n),u=is(e.stateNode,a,u),bs(e,u),Xe!==4&&(Xe=2)),!1;var h=Error(l(520),{cause:a});if(h=kt(h,n),Ci===null?Ci=[h]:Ci.push(h),Xe!==4&&(Xe=2),t===null)return!0;a=kt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=is(n.stateNode,a,e),bs(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Gn===null||!Gn.has(h))))return n.flags|=65536,u&=-u,n.lanes|=u,u=uf(u),sf(u,e,n,a),bs(n,u),!1}n=n.return}while(n!==null);return!1}var lf=Error(l(461)),it=!1;function lt(e,t,n,a){t.child=e===null?co(t,null,n,a):tr(t,e.child,n,a)}function of(e,t,n,a,u){n=n.render;var h=t.ref;if("ref"in a){var w={};for(var C in a)C!=="ref"&&(w[C]=a[C])}else w=a;return lr(t),a=ju(e,t,n,w,h,u),C=Fu(),e!==null&&!it?(Iu(e,t,u),sn(e,t,u)):(Ae&&C&&Mu(t),t.flags|=1,lt(e,t,a,u),t.child)}function ff(e,t,n,a,u){if(e===null){var h=n.type;return typeof h=="function"&&!Os(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,cf(e,t,h,a,u)):(e=Na(n.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!ps(e,u)){var w=h.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(w,a)&&e.ref===t.ref)return sn(e,t,u)}return t.flags|=1,e=Nn(h,a),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,n,a,u){if(e!==null){var h=e.memoizedProps;if(oi(h,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=h,ps(e,u))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,sn(e,t,u)}return as(e,t,n,a,u)}function hf(e,t,n){var a=t.pendingProps,u=a.children,h=(t.stateNode._pendingVisibility&2)!==0,w=e!==null?e.memoizedState:null;if(Ei(e,t),a.mode==="hidden"||h){if((t.flags&128)!==0){if(a=w!==null?w.baseLanes|n:n,e!==null){for(u=t.child=e.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;t.childLanes=h&~a}else t.childLanes=0,t.child=null;return pf(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_a(t,w!==null?w.cachePool:null),w!==null?ho(t,w):Nu(),po(t);else return t.lanes=t.childLanes=536870912,pf(e,t,w!==null?w.baseLanes|n:n,n)}else w!==null?(_a(t,w.cachePool),ho(t,w),wn(),t.memoizedState=null):(e!==null&&_a(t,null),Nu(),wn());return lt(e,t,u,n),t.child}function pf(e,t,n,a){var u=zu();return u=u===null?null:{parent:nt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&_a(t,null),Nu(),po(t),e!==null&&Ti(e,t,a,!0),null}function Ei(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function as(e,t,n,a,u){return lr(t),n=ju(e,t,n,a,void 0,u),a=Fu(),e!==null&&!it?(Iu(e,t,u),sn(e,t,u)):(Ae&&a&&Mu(t),t.flags|=1,lt(e,t,n,u),t.child)}function df(e,t,n,a,u,h){return lr(t),t.updateQueue=null,n=bo(t,a,n,u),mo(e),a=Fu(),e!==null&&!it?(Iu(e,t,h),sn(e,t,h)):(Ae&&a&&Mu(t),t.flags|=1,lt(e,t,n,h),t.child)}function vf(e,t,n,a,u){if(lr(t),t.stateNode===null){var h=Or,w=n.contextType;typeof w=="object"&&w!==null&&(h=ct(w)),h=new n(a,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rs,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=a,h.state=t.memoizedState,h.refs={},ys(t),w=n.contextType,h.context=typeof w=="object"&&w!==null?ct(w):Or,h.state=t.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(ns(t,n,w,a),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(w=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),w!==h.state&&rs.enqueueReplaceState(h,h.state,null),Oi(t,a,h,u),Ri(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){h=t.stateNode;var C=t.memoizedProps,F=ur(n,C);h.props=F;var Z=h.context,fe=n.contextType;w=Or,typeof fe=="object"&&fe!==null&&(w=ct(fe));var pe=n.getDerivedStateFromProps;fe=typeof pe=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,fe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||Z!==w)&&ef(t,h,a,w),An=!1;var ae=t.memoizedState;h.state=ae,Oi(t,a,h,u),Ri(),Z=t.memoizedState,C||ae!==Z||An?(typeof pe=="function"&&(ns(t,n,pe,a),Z=t.memoizedState),(F=An||Jo(t,n,F,a,ae,Z,w))?(fe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),h.props=a,h.state=Z,h.context=w,a=F):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,ms(e,t),w=t.memoizedProps,fe=ur(n,w),h.props=fe,pe=t.pendingProps,ae=h.context,Z=n.contextType,F=Or,typeof Z=="object"&&Z!==null&&(F=ct(Z)),C=n.getDerivedStateFromProps,(Z=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==pe||ae!==F)&&ef(t,h,a,F),An=!1,ae=t.memoizedState,h.state=ae,Oi(t,a,h,u),Ri();var oe=t.memoizedState;w!==pe||ae!==oe||An||e!==null&&e.dependencies!==null&&Ma(e.dependencies)?(typeof C=="function"&&(ns(t,n,C,a),oe=t.memoizedState),(fe=An||Jo(t,n,fe,a,ae,oe,F)||e!==null&&e.dependencies!==null&&Ma(e.dependencies))?(Z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,oe,F),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,oe,F)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=oe),h.props=a,h.state=oe,h.context=F,a=fe):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),a=!1)}return h=a,Ei(e,t),a=(t.flags&128)!==0,h||a?(h=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&a?(t.child=tr(t,e.child,null,u),t.child=tr(t,null,n,u)):lt(e,t,n,u),t.memoizedState=h.state,e=t.child):e=sn(e,t,u),e}function gf(e,t,n,a){return hi(),t.flags|=256,lt(e,t,n,a),t.child}var us={dehydrated:null,treeContext:null,retryLane:0};function ss(e){return{baseLanes:e,cachePool:yo()}}function ls(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Nt),e}function yf(e,t,n){var a=t.pendingProps,u=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),w&&(u=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(u?Tn(t):wn(),Ae){var C=st,F;if(F=C){e:{for(F=C,C=Ht;F.nodeType!==8;){if(!C){C=null;break e}if(F=jt(F.nextSibling),F===null){C=null;break e}}C=F}C!==null?(t.memoizedState={dehydrated:C,treeContext:Zn!==null?{id:nn,overflow:rn}:null,retryLane:536870912},F=qt(18,null,null,0),F.stateNode=C,F.return=t,t.child=F,dt=t,st=null,F=!0):F=!1}F||er(t)}if(C=t.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?t.lanes=16:t.lanes=536870912,null;an(t)}return C=a.children,a=a.fallback,u?(wn(),u=t.mode,C=fs({mode:"hidden",children:C},u),a=fr(a,u,n,null),C.return=t,a.return=t,C.sibling=a,t.child=C,u=t.child,u.memoizedState=ss(n),u.childLanes=ls(e,w,n),t.memoizedState=us,a):(Tn(t),os(t,C))}if(F=e.memoizedState,F!==null&&(C=F.dehydrated,C!==null)){if(h)t.flags&256?(Tn(t),t.flags&=-257,t=cs(e,t,n)):t.memoizedState!==null?(wn(),t.child=e.child,t.flags|=128,t=null):(wn(),u=a.fallback,C=t.mode,a=fs({mode:"visible",children:a.children},C),u=fr(u,C,n,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,tr(t,e.child,null,n),a=t.child,a.memoizedState=ss(n),a.childLanes=ls(e,w,n),t.memoizedState=us,t=u);else if(Tn(t),C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Z=w.dgst;w=Z,a=Error(l(419)),a.stack="",a.digest=w,pi({value:a,source:null,stack:null}),t=cs(e,t,n)}else if(it||Ti(e,t,n,!1),w=(n&e.childLanes)!==0,it||w){if(w=Ue,w!==null){if(a=n&-n,(a&42)!==0)a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(a=(a&(w.suspendedLanes|n))!==0?0:a,a!==0&&a!==F.retryLane)throw F.retryLane=a,En(e,a),vt(w,e,a),lf}C.data==="$?"||zs(),t=cs(e,t,n)}else C.data==="$?"?(t.flags|=128,t.child=e.child,t=up.bind(null,e),C._reactRetry=t,t=null):(e=F.treeContext,st=jt(C.nextSibling),dt=t,Ae=!0,zt=null,Ht=!1,e!==null&&(At[Dt++]=nn,At[Dt++]=rn,At[Dt++]=Zn,nn=e.id,rn=e.overflow,Zn=t),t=os(t,a.children),t.flags|=4096);return t}return u?(wn(),u=a.fallback,C=t.mode,F=e.child,Z=F.sibling,a=Nn(F,{mode:"hidden",children:a.children}),a.subtreeFlags=F.subtreeFlags&31457280,Z!==null?u=Nn(Z,u):(u=fr(u,C,n,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,C=e.child.memoizedState,C===null?C=ss(n):(F=C.cachePool,F!==null?(Z=nt._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=yo(),C={baseLanes:C.baseLanes|n,cachePool:F}),u.memoizedState=C,u.childLanes=ls(e,w,n),t.memoizedState=us,a):(Tn(t),n=e.child,e=n.sibling,n=Nn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=n,t.memoizedState=null,n)}function os(e,t){return t=fs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fs(e,t){return If(e,t,0,null)}function cs(e,t,n){return tr(t,e.child,null,n),e=os(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mf(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),vs(e.return,t,n)}function hs(e,t,n,a,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=n,h.tailMode=u)}function bf(e,t,n){var a=t.pendingProps,u=a.revealOrder,h=a.tail;if(lt(e,t,a.children,n),a=tt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,n,t);else if(e.tag===19)mf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(le(tt,a),u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&ba(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),hs(t,!1,u,n,h);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ba(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}hs(t,!0,n,null,h);break;case"together":hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ti(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ps(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ma(e)))}function Xh(e,t,n){switch(t.tag){case 3:Ee(t,t.stateNode.containerInfo),kn(t,nt,e.memoizedState.cache),hi();break;case 27:case 5:_e(t);break;case 4:Ee(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Tn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?yf(e,t,n):(Tn(t),e=sn(e,t,n),e!==null?e.sibling:null);Tn(t);break;case 19:var u=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ti(e,t,n,!1),a=(n&t.childLanes)!==0),u){if(a)return bf(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),le(tt,tt.current),a)break;return null;case 22:case 23:return t.lanes=0,hf(e,t,n);case 24:kn(t,nt,e.memoizedState.cache)}return sn(e,t,n)}function _f(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!ps(e,n)&&(t.flags&128)===0)return it=!1,Xh(e,t,n);it=(e.flags&131072)!==0}else it=!1,Ae&&(t.flags&1048576)!==0&&no(t,da,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,u=a._init;if(a=u(a._payload),t.type=a,typeof a=="function")Os(a)?(e=ur(a,e),t.tag=1,t=vf(null,t,a,e,n)):(t.tag=0,t=as(null,t,a,e,n));else{if(a!=null){if(u=a.$$typeof,u===O){t.tag=11,t=of(null,t,a,e,n);break e}else if(u===_){t.tag=14,t=ff(null,t,a,e,n);break e}}throw t=Y(a)||a,Error(l(306,t,""))}}return t;case 0:return as(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,u=ur(a,t.pendingProps),vf(e,t,a,u,n);case 3:e:{if(Ee(t,t.stateNode.containerInfo),e===null)throw Error(l(387));var h=t.pendingProps;u=t.memoizedState,a=u.element,ms(e,t),Oi(t,h,null,n);var w=t.memoizedState;if(h=w.cache,kn(t,nt,h),h!==u.cache&&gs(t,[nt],n,!0),Ri(),h=w.element,u.isDehydrated)if(u={element:h,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=gf(e,t,h,n);break e}else if(h!==a){a=kt(Error(l(424)),t),pi(a),t=gf(e,t,h,n);break e}else for(st=jt(t.stateNode.containerInfo.firstChild),dt=t,Ae=!0,zt=null,Ht=!0,n=co(t,null,h,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),h===a){t=sn(e,t,n);break e}lt(e,t,h,n)}t=t.child}return t;case 26:return Ei(e,t),e===null?(n=Ec(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ae||(n=t.type,e=t.pendingProps,a=Ka(se.current).createElement(n),a[Je]=t,a[et]=e,ot(a,n,e),rt(a),t.stateNode=a):t.memoizedState=Ec(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&Ae&&(a=t.stateNode=_c(t.type,t.pendingProps,se.current),dt=t,Ht=!0,st=jt(a.firstChild)),a=t.pendingProps.children,e!==null||Ae?lt(e,t,a,n):t.child=tr(t,null,a,n),Ei(e,t),t.child;case 5:return e===null&&Ae&&((u=a=st)&&(a=Ep(a,t.type,t.pendingProps,Ht),a!==null?(t.stateNode=a,dt=t,st=jt(a.firstChild),Ht=!1,u=!0):u=!1),u||er(t)),_e(t),u=t.type,h=t.pendingProps,w=e!==null?e.memoizedProps:null,a=h.children,Js(u,h)?a=null:w!==null&&Js(u,w)&&(t.flags|=32),t.memoizedState!==null&&(u=ju(e,t,zh,null,null,n),Fi._currentValue=u),Ei(e,t),lt(e,t,a,n),t.child;case 6:return e===null&&Ae&&((e=n=st)&&(n=Tp(n,t.pendingProps,Ht),n!==null?(t.stateNode=n,dt=t,st=null,e=!0):e=!1),e||er(t)),null;case 13:return yf(e,t,n);case 4:return Ee(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=tr(t,null,a,n):lt(e,t,a,n),t.child;case 11:return of(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,kn(t,t.type,a.value),lt(e,t,a.children,n),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,lr(t),u=ct(u),a=a(u),t.flags|=1,lt(e,t,a,n),t.child;case 14:return ff(e,t,t.type,t.pendingProps,n);case 15:return cf(e,t,t.type,t.pendingProps,n);case 19:return bf(e,t,n);case 22:return hf(e,t,n);case 24:return lr(t),a=ct(nt),e===null?(u=zu(),u===null&&(u=Ue,h=Gu(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=n),u=h),t.memoizedState={parent:a,cache:u},ys(t),kn(t,nt,u)):((e.lanes&n)!==0&&(ms(e,t),Oi(t,null,null,n),Ri()),u=e.memoizedState,h=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),kn(t,nt,a)):(a=h.cache,kn(t,nt,a),a!==u.cache&&gs(t,[nt],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}var ds=X(null),sr=null,ln=null;function kn(e,t,n){le(ds,t._currentValue),t._currentValue=n}function on(e){e._currentValue=ds.current,$(ds)}function vs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function gs(e,t,n,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var w=u.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=u;for(var F=0;F<t.length;F++)if(C.context===t[F]){h.lanes|=n,C=h.alternate,C!==null&&(C.lanes|=n),vs(h.return,n,e),a||(w=null);break e}h=C.next}}else if(u.tag===18){if(w=u.return,w===null)throw Error(l(341));w.lanes|=n,h=w.alternate,h!==null&&(h.lanes|=n),vs(w,n,e),w=null}else w=u.child;if(w!==null)w.return=u;else for(w=u;w!==null;){if(w===e){w=null;break}if(u=w.sibling,u!==null){u.return=w.return,w=u;break}w=w.return}u=w}}function Ti(e,t,n,a){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var w=u.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var C=u.type;_t(u.pendingProps.value,w.value)||(e!==null?e.push(C):e=[C])}}else if(u===he.current){if(w=u.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Fi):e=[Fi])}u=u.return}e!==null&&gs(t,e,n,a),t.flags|=262144}function Ma(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function lr(e){sr=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return xf(sr,e)}function La(e,t){return sr===null&&lr(e),xf(e,t)}function xf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ln===null){if(e===null)throw Error(l(308));ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ln=ln.next=t;return n}var An=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ve&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=ha(e),eo(e,null,n),t}return ca(e,a,t,n),ha(e)}function wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Xn(e,n)}}function bs(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var u=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?u=h=w:h=h.next=w,n=n.next}while(n!==null);h===null?u=h=t:h=h.next=t}else u=h=t;n={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _s=!1;function Ri(){if(_s){var e=Cr;if(e!==null)throw e}}function Oi(e,t,n,a){_s=!1;var u=e.updateQueue;An=!1;var h=u.firstBaseUpdate,w=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var F=C,Z=F.next;F.next=null,w===null?h=Z:w.next=Z,w=F;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,C=fe.lastBaseUpdate,C!==w&&(C===null?fe.firstBaseUpdate=Z:C.next=Z,fe.lastBaseUpdate=F))}if(h!==null){var pe=u.baseState;w=0,fe=Z=F=null,C=h;do{var ae=C.lane&-536870913,oe=ae!==C.lane;if(oe?(ke&ae)===ae:(a&ae)===ae){ae!==0&&ae===Lr&&(_s=!0),fe!==null&&(fe=fe.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=e,Se=C;ae=t;var Ke=n;switch(Se.tag){case 1:if(ye=Se.payload,typeof ye=="function"){pe=ye.call(Ke,pe,ae);break e}pe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Se.payload,ae=typeof ye=="function"?ye.call(Ke,pe,ae):ye,ae==null)break e;pe=k({},pe,ae);break e;case 2:An=!0}}ae=C.callback,ae!==null&&(e.flags|=64,oe&&(e.flags|=8192),oe=u.callbacks,oe===null?u.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:C.tag,payload:C.payload,callback:C.callback,next:null},fe===null?(Z=fe=oe,F=pe):fe=fe.next=oe,w|=ae;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;oe=C,C=oe.next,oe.next=null,u.lastBaseUpdate=oe,u.shared.pending=null}}while(!0);fe===null&&(F=pe),u.baseState=F,u.firstBaseUpdate=Z,u.lastBaseUpdate=fe,h===null&&(u.shared.lanes=0),Un|=w,e.lanes=w,e.memoizedState=pe}}function Sf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ef(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Sf(n[e],t)}function ki(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var u=a.next;n=u;do{if((n.tag&e)===e){a=void 0;var h=n.create,w=n.inst;a=h(),w.destroy=a}n=n.next}while(n!==u)}}catch(C){qe(t,t.return,C)}}function Ln(e,t,n){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&e)===e){var w=a.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,u=t;var F=n;try{C()}catch(Z){qe(u,F,Z)}}}a=a.next}while(a!==h)}}catch(Z){qe(t,t.return,Z)}}function Tf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ef(t,n)}catch(a){qe(e,e.return,a)}}}function wf(e,t,n){n.props=ur(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){qe(e,t,a)}}function or(e,t){try{var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var u=a;break;default:u=a}typeof n=="function"?e.refCleanup=n(u):n.current=u}}catch(h){qe(e,t,h)}}function xt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(u){qe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){qe(e,t,u)}else n.current=null}function Rf(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(u){qe(e,e.return,u)}}function Of(e,t,n){try{var a=e.stateNode;mp(a,e.type,n,t),a[et]=t}catch(u){qe(e,e.return,u)}}function kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function xs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ss(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xa));else if(a!==4&&a!==27&&(e=e.child,e!==null))for(Ss(e,t,n),e=e.sibling;e!==null;)Ss(e,t,n),e=e.sibling}function Ca(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&a!==27&&(e=e.child,e!==null))for(Ca(e,t,n),e=e.sibling;e!==null;)Ca(e,t,n),e=e.sibling}var fn=!1,He=!1,Es=!1,Af=typeof WeakSet=="function"?WeakSet:Set,at=null,Df=!1;function Kh(e,t){if(e=e.containerInfo,Qs=Ja,e=Hl(e),wu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var u=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var w=0,C=-1,F=-1,Z=0,fe=0,pe=e,ae=null;t:for(;;){for(var oe;pe!==n||u!==0&&pe.nodeType!==3||(C=w+u),pe!==h||a!==0&&pe.nodeType!==3||(F=w+a),pe.nodeType===3&&(w+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ae=pe,pe=oe;for(;;){if(pe===e)break t;if(ae===n&&++Z===u&&(C=w),ae===h&&++fe===a&&(F=w),(oe=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=oe}n=C===-1||F===-1?null:{start:C,end:F}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zs={focusedElem:e,selectionRange:n},Ja=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,h=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,u=h.memoizedProps,h=h.memoizedState,a=n.stateNode;try{var ye=ur(n.type,u,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(ye,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(Se){qe(n,n.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nl(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nl(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}return ye=Df,Df=!1,ye}function Mf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n),a&4&&ki(5,n);break;case 1:if(hn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){qe(n,n.return,C)}else{var u=ur(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){qe(n,n.return,C)}}a&64&&Tf(n),a&512&&or(n,n.return);break;case 3:if(hn(e,n),a&64&&(a=n.updateQueue,a!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Ef(a,e)}catch(C){qe(n,n.return,C)}}break;case 26:hn(e,n),a&512&&or(n,n.return);break;case 27:case 5:hn(e,n),t===null&&a&4&&Rf(n),a&512&&or(n,n.return);break;case 12:hn(e,n);break;case 13:hn(e,n),a&4&&qf(e,n);break;case 22:if(u=n.memoizedState!==null||fn,!u){t=t!==null&&t.memoizedState!==null||He;var h=fn,w=He;fn=u,(He=t)&&!w?Cn(e,n,(n.subtreeFlags&8772)!==0):hn(e,n),fn=h,He=w}a&512&&(n.memoizedProps.mode==="manual"?or(n,n.return):xt(n,n.return));break;default:hn(e,n)}}function Lf(e){var t=e.alternate;t!==null&&(e.alternate=null,Lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ou(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,St=!1;function cn(e,t,n){for(n=n.child;n!==null;)Cf(e,t,n),n=n.sibling}function Cf(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Wt,n)}catch{}switch(n.tag){case 26:He||xt(n,t),cn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||xt(n,t);var a=Ze,u=St;for(Ze=n.stateNode,cn(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);ou(n),Ze=a,St=u;break;case 5:He||xt(n,t);case 6:u=Ze;var h=St;if(Ze=null,cn(e,t,n),Ze=u,St=h,Ze!==null)if(St)try{e=Ze,a=n.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)}catch(w){qe(n,t,w)}else try{Ze.removeChild(n.stateNode)}catch(w){qe(n,t,w)}break;case 18:Ze!==null&&(St?(t=Ze,n=n.stateNode,t.nodeType===8?tl(t.parentNode,n):t.nodeType===1&&tl(t,n),Xi(t)):tl(Ze,n.stateNode));break;case 4:a=Ze,u=St,Ze=n.stateNode.containerInfo,St=!0,cn(e,t,n),Ze=a,St=u;break;case 0:case 11:case 14:case 15:He||Ln(2,n,t),He||Ln(4,n,t),cn(e,t,n);break;case 1:He||(xt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&wf(n,t,a)),cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:He||xt(n,t),He=(a=He)||n.memoizedState!==null,cn(e,t,n),He=a;break;default:cn(e,t,n)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xi(e)}catch(n){qe(t,t.return,n)}}function $h(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Af),t;default:throw Error(l(435,e.tag))}}function Ts(e,t){var n=$h(e);t.forEach(function(a){var u=sp.bind(null,e,a);n.has(a)||(n.add(a),a.then(u,u))})}function Lt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var u=n[a],h=e,w=t,C=w;e:for(;C!==null;){switch(C.tag){case 27:case 5:Ze=C.stateNode,St=!1;break e;case 3:Ze=C.stateNode.containerInfo,St=!0;break e;case 4:Ze=C.stateNode.containerInfo,St=!0;break e}C=C.return}if(Ze===null)throw Error(l(160));Cf(h,w,u),Ze=null,St=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Nf(t,e),t=t.sibling}var Pt=null;function Nf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Ct(e),a&4&&(Ln(3,e,e.return),ki(3,e),Ln(5,e,e.return));break;case 1:Lt(t,e),Ct(e),a&512&&(He||n===null||xt(n,n.return)),a&64&&fn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var u=Pt;if(Lt(t,e),Ct(e),a&512&&(He||n===null||xt(n,n.return)),a&4){var h=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":h=u.getElementsByTagName("title")[0],(!h||h[xn]||h[Je]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(a),u.head.insertBefore(h,u.querySelector("head > title"))),ot(h,a,n),h[Je]=e,rt(h),a=h;break e;case"link":var w=Rc("link","href",u).get(a+(n.href||""));if(w){for(var C=0;C<w.length;C++)if(h=w[C],h.getAttribute("href")===(n.href==null?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(C,1);break t}}h=u.createElement(a),ot(h,a,n),u.head.appendChild(h);break;case"meta":if(w=Rc("meta","content",u).get(a+(n.content||""))){for(C=0;C<w.length;C++)if(h=w[C],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(C,1);break t}}h=u.createElement(a),ot(h,a,n),u.head.appendChild(h);break;default:throw Error(l(468,a))}h[Je]=e,rt(h),a=h}e.stateNode=a}else Oc(u,e.type,e.stateNode);else e.stateNode=wc(u,a,e.memoizedProps);else h!==a?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,a===null?Oc(u,e.type,e.stateNode):wc(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Of(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(a&4&&e.alternate===null){u=e.stateNode,h=e.memoizedProps;try{for(var F=u.firstChild;F;){var Z=F.nextSibling,fe=F.nodeName;F[xn]||fe==="HEAD"||fe==="BODY"||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&F.rel.toLowerCase()==="stylesheet"||u.removeChild(F),F=Z}for(var pe=e.type,ae=u.attributes;ae.length;)u.removeAttributeNode(ae[0]);ot(u,pe,h),u[Je]=e,u[et]=h}catch(ye){qe(e,e.return,ye)}}case 5:if(Lt(t,e),Ct(e),a&512&&(He||n===null||xt(n,n.return)),e.flags&32){u=e.stateNode;try{_r(u,"")}catch(ye){qe(e,e.return,ye)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,Of(e,u,n!==null?n.memoizedProps:u)),a&1024&&(Es=!0);break;case 6:if(Lt(t,e),Ct(e),a&4){if(e.stateNode===null)throw Error(l(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ye){qe(e,e.return,ye)}}break;case 3:if(Wa=null,u=Pt,Pt=$a(t.containerInfo),Lt(t,e),Pt=u,Ct(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Xi(t.containerInfo)}catch(ye){qe(e,e.return,ye)}Es&&(Es=!1,Uf(e));break;case 4:a=Pt,Pt=$a(e.stateNode.containerInfo),Lt(t,e),Ct(e),Pt=a;break;case 12:Lt(t,e),Ct(e);break;case 13:Lt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cs=Ne()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ts(e,a)));break;case 22:if(a&512&&(He||n===null||xt(n,n.return)),F=e.memoizedState!==null,Z=n!==null&&n.memoizedState!==null,fe=fn,pe=He,fn=fe||F,He=pe||Z,Lt(t,e),He=pe,fn=fe,Ct(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,a&8192&&(t._visibility=F?t._visibility&-2:t._visibility|1,F&&(t=fn||He,n===null||Z||t||Gr(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){Z=n=t;try{if(u=Z.stateNode,F)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{w=Z.stateNode,C=Z.memoizedProps.style;var oe=C!=null&&C.hasOwnProperty("display")?C.display:null;w.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ye){qe(Z,Z.return,ye)}}}else if(t.tag===6){if(n===null){Z=t;try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(ye){qe(Z,Z.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ts(e,n))));break;case 19:Lt(t,e),Ct(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ts(e,a)));break;case 21:break;default:Lt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var n=e.return;n!==null;){if(kf(n)){var a=n;break e}n=n.return}throw Error(l(160))}switch(a.tag){case 27:var u=a.stateNode,h=xs(e);Ca(e,h,u);break;case 5:var w=a.stateNode;a.flags&32&&(_r(w,""),a.flags&=-33);var C=xs(e);Ca(e,C,w);break;case 3:case 4:var F=a.stateNode.containerInfo,Z=xs(e);Ss(e,Z,F);break;default:throw Error(l(161))}}}catch(fe){qe(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Uf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mf(e,t.alternate,t),t=t.sibling}function Gr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ln(4,t,t.return),Gr(t);break;case 1:xt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&wf(t,t.return,n),Gr(t);break;case 26:case 27:case 5:xt(t,t.return),Gr(t);break;case 22:xt(t,t.return),t.memoizedState===null&&Gr(t);break;default:Gr(t)}e=e.sibling}}function Cn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,h=t,w=h.flags;switch(h.tag){case 0:case 11:case 15:Cn(u,h,n),ki(4,h);break;case 1:if(Cn(u,h,n),a=h,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Z){qe(a,a.return,Z)}if(a=h,u=a.updateQueue,u!==null){var C=a.stateNode;try{var F=u.shared.hiddenCallbacks;if(F!==null)for(u.shared.hiddenCallbacks=null,u=0;u<F.length;u++)Sf(F[u],C)}catch(Z){qe(a,a.return,Z)}}n&&w&64&&Tf(h),or(h,h.return);break;case 26:case 27:case 5:Cn(u,h,n),n&&a===null&&w&4&&Rf(h),or(h,h.return);break;case 12:Cn(u,h,n);break;case 13:Cn(u,h,n),n&&w&4&&qf(u,h);break;case 22:h.memoizedState===null&&Cn(u,h,n),or(h,h.return);break;default:Cn(u,h,n)}t=t.sibling}}function ws(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&mi(n))}function Rs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mi(e))}function qn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(e,t,n,a),t=t.sibling}function Gf(e,t,n,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:qn(e,t,n,a),u&2048&&ki(9,t);break;case 3:qn(e,t,n,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mi(e)));break;case 12:if(u&2048){qn(e,t,n,a),e=t.stateNode;try{var h=t.memoizedProps,w=h.id,C=h.onPostCommit;typeof C=="function"&&C(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){qe(t,t.return,F)}}else qn(e,t,n,a);break;case 23:break;case 22:h=t.stateNode,t.memoizedState!==null?h._visibility&4?qn(e,t,n,a):Ai(e,t):h._visibility&4?qn(e,t,n,a):(h._visibility|=4,Br(e,t,n,a,(t.subtreeFlags&10256)!==0)),u&2048&&ws(t.alternate,t);break;case 24:qn(e,t,n,a),u&2048&&Rs(t.alternate,t);break;default:qn(e,t,n,a)}}function Br(e,t,n,a,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var h=e,w=t,C=n,F=a,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Br(h,w,C,F,u),ki(8,w);break;case 23:break;case 22:var fe=w.stateNode;w.memoizedState!==null?fe._visibility&4?Br(h,w,C,F,u):Ai(h,w):(fe._visibility|=4,Br(h,w,C,F,u)),u&&Z&2048&&ws(w.alternate,w);break;case 24:Br(h,w,C,F,u),u&&Z&2048&&Rs(w.alternate,w);break;default:Br(h,w,C,F,u)}t=t.sibling}}function Ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,u=a.flags;switch(a.tag){case 22:Ai(n,a),u&2048&&ws(a.alternate,a);break;case 24:Ai(n,a),u&2048&&Rs(a.alternate,a);break;default:Ai(n,a)}t=t.sibling}}var Di=8192;function zr(e){if(e.subtreeFlags&Di)for(e=e.child;e!==null;)Bf(e),e=e.sibling}function Bf(e){switch(e.tag){case 26:zr(e),e.flags&Di&&e.memoizedState!==null&&Gp(Pt,e.memoizedState,e.memoizedProps);break;case 5:zr(e);break;case 3:case 4:var t=Pt;Pt=$a(e.stateNode.containerInfo),zr(e),Pt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Di,Di=16777216,zr(e),Di=t):zr(e));break;default:zr(e)}}function zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];at=a,jf(a,e)}zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(e),e=e.sibling}function Pf(e){switch(e.tag){case 0:case 11:case 15:Mi(e),e.flags&2048&&Ln(9,e,e.return);break;case 3:Mi(e);break;case 12:Mi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,qa(e)):Mi(e);break;default:Mi(e)}}function qa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];at=a,jf(a,e)}zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ln(8,t,t.return),qa(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,qa(t));break;default:qa(t)}e=e.sibling}}function jf(e,t){for(;at!==null;){var n=at;switch(n.tag){case 0:case 11:case 15:Ln(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:mi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,at=a;else e:for(n=e;at!==null;){a=at;var u=a.sibling,h=a.return;if(Lf(a),a===n){at=null;break e}if(u!==null){u.return=h,at=u;break e}at=h}}}function Yh(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,a){return new Yh(e,t,n,a)}function Os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nn(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ff(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Na(e,t,n,a,u,h){var w=0;if(a=e,typeof e=="function")Os(e)&&(w=1);else if(typeof e=="string")w=Np(e,n,N.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case v:return fr(n.children,u,h,t);case p:w=8,u|=24;break;case d:return e=qt(12,n,t,u|2),e.elementType=d,e.lanes=h,e;case m:return e=qt(13,n,t,u),e.elementType=m,e.lanes=h,e;case E:return e=qt(19,n,t,u),e.elementType=E,e.lanes=h,e;case c:return If(n,u,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case T:w=10;break e;case x:w=9;break e;case O:w=11;break e;case _:w=14;break e;case b:w=16,a=null;break e}w=29,n=Error(l(130,e===null?"null":typeof e,"")),a=null}return t=qt(w,n,t,u),t.elementType=e,t.type=a,t.lanes=h,t}function fr(e,t,n,a){return e=qt(7,e,a,t),e.lanes=n,e}function If(e,t,n,a){e=qt(22,e,a,t),e.elementType=c,e.lanes=n;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=u._current;if(h===null)throw Error(l(456));if((u._pendingVisibility&2)===0){var w=En(h,2);w!==null&&(u._pendingVisibility|=2,vt(w,h,2))}},attach:function(){var h=u._current;if(h===null)throw Error(l(456));if((u._pendingVisibility&2)!==0){var w=En(h,2);w!==null&&(u._pendingVisibility&=-3,vt(w,h,2))}}};return e.stateNode=u,e}function ks(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function As(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pn(e){e.flags|=4}function Vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kc(t)){if(t=Mt.current,t!==null&&((ke&4194176)===ke?Xt!==null:(ke&62914560)!==ke&&(ke&536870912)===0||t!==Xt))throw vi=qu,ao;e.flags|=8192}}function Ua(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vn():536870912,e.lanes|=t,jr|=t)}function Li(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags&31457280,a|=u.flags&31457280,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Wh(e,t,n){var a=t.pendingProps;switch(Lu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),on(nt),ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ci(t)?pn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(Gs(zt),zt=null))),Ie(t),null;case 26:return n=t.memoizedState,e===null?(pn(t),n!==null?(Ie(t),Vf(t,n)):(Ie(t),t.flags&=-16777217)):n?n!==e.memoizedState?(pn(t),Ie(t),Vf(t,n)):(Ie(t),t.flags&=-16777217):(e.memoizedProps!==a&&pn(t),Ie(t),t.flags&=-16777217),null;case 27:Ce(t),n=se.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pn(t);else{if(!a){if(t.stateNode===null)throw Error(l(166));return Ie(t),null}e=N.current,ci(t)?ro(t):(e=_c(u,a,n),t.stateNode=e,pn(t))}return Ie(t),null;case 5:if(Ce(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pn(t);else{if(!a){if(t.stateNode===null)throw Error(l(166));return Ie(t),null}if(e=N.current,ci(t))ro(t);else{switch(u=Ka(se.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(n,{is:a.is}):u.createElement(n)}}e[Je]=t,e[et]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(ot(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&pn(t)}}return Ie(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&pn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(l(166));if(e=se.current,ci(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,u=dt,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[Je]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||dc(e.nodeValue,n)),e||er(t)}else e=Ka(e).createTextNode(a),e[Je]=t,t.stateNode=e}return Ie(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ci(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[Je]=t}else hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),u=!1}else zt!==null&&(Gs(zt),zt=null),u=!0;if(!u)return t.flags&256?(an(t),t):(an(t),null)}if(an(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var h=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ua(t,t.updateQueue),Ie(t),null;case 4:return ge(),e===null&&$s(t.stateNode.containerInfo),Ie(t),null;case 10:return on(t.type),Ie(t),null;case 19:if($(tt),u=t.memoizedState,u===null)return Ie(t),null;if(a=(t.flags&128)!==0,h=u.rendering,h===null)if(a)Li(u,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=ba(e),h!==null){for(t.flags|=128,Li(u,!1),e=h.updateQueue,t.updateQueue=e,Ua(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ff(n,e),n=n.sibling;return le(tt,tt.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ne()>Ga&&(t.flags|=128,a=!0,Li(u,!1),t.lanes=4194304)}else{if(!a)if(e=ba(h),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ua(t,e),Li(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Ae)return Ie(t),null}else 2*Ne()-u.renderingStartTime>Ga&&n!==536870912&&(t.flags|=128,a=!0,Li(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(e=u.last,e!==null?e.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ne(),t.sibling=null,e=tt.current,le(tt,a?e&1|2:e&1),t):(Ie(t),null);case 22:case 23:return an(t),Uu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),n=t.updateQueue,n!==null&&Ua(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&$(nr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),on(nt),Ie(t),null;case 25:return null}throw Error(l(156,t.tag))}function Qh(e,t){switch(Lu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(nt),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ce(t),null;case 13:if(an(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(tt),null;case 4:return ge(),null;case 10:return on(t.type),null;case 22:case 23:return an(t),Uu(),e!==null&&$(nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return on(nt),null;case 25:return null;default:return null}}function Hf(e,t){switch(Lu(t),t.tag){case 3:on(nt),ge();break;case 26:case 27:case 5:Ce(t);break;case 4:ge();break;case 13:an(t);break;case 19:$(tt);break;case 10:on(t.type);break;case 22:case 23:an(t),Uu(),e!==null&&$(nr);break;case 24:on(nt)}}var Zh={getCacheForType:function(e){var t=ct(nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Jh=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ue=null,Re=null,ke=0,Ge=0,Et=null,dn=!1,Pr=!1,Ds=!1,vn=0,Xe=0,Un=0,cr=0,Ms=0,Nt=0,jr=0,Ci=null,$t=null,Ls=!1,Cs=0,Ga=1/0,Ba=null,Gn=null,za=!1,hr=null,qi=0,qs=0,Ns=null,Ni=0,Us=null;function Tt(){if((Ve&2)!==0&&ke!==0)return ke&-ke;if(H.T!==null){var e=Lr;return e!==0?e:Vs()}return $i()}function Xf(){Nt===0&&(Nt=(ke&536870912)===0||Ae?Zr():536870912);var e=Mt.current;return e!==null&&(e.flags|=32),Nt}function vt(e,t,n){(e===Ue&&Ge===2||e.cancelPendingCommit!==null)&&(Fr(e,0),gn(e,ke,Nt,!1)),It(e,n),((Ve&2)===0||e!==Ue)&&(e===Ue&&((Ve&2)===0&&(cr|=n),Xe===4&&gn(e,ke,Nt,!1)),Yt(e))}function Kf(e,t,n){if((Ve&6)!==0)throw Error(l(327));var a=!n&&(t&60)===0&&(t&e.expiredLanes)===0||bn(e,t),u=a?np(e,t):Ps(e,t,!0),h=a;do{if(u===0){Pr&&!a&&gn(e,t,0,!1);break}else if(u===6)gn(e,t,0,!dn);else{if(n=e.current.alternate,h&&!ep(n)){u=Ps(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var C=e;u=Ci;var F=C.current.memoizedState.isDehydrated;if(F&&(Fr(C,w).flags|=256),w=Ps(C,w,!1),w!==2){if(Ds&&!F){C.errorRecoveryDisabledLanes|=h,cr|=h,u=4;break e}h=$t,$t=u,h!==null&&Gs(h)}u=w}if(h=!1,u!==2)continue}}if(u===1){Fr(e,0),gn(e,t,0,!0);break}e:{switch(a=e,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194176)===t){gn(a,t,Nt,!dn);break e}break;case 2:$t=null;break;case 3:case 5:break;default:throw Error(l(329))}if(a.finishedWork=n,a.finishedLanes=t,(t&62914560)===t&&(h=Cs+300-Ne(),10<h)){if(gn(a,t,Nt,!dn),Zt(a,0)!==0)break e;a.timeoutHandle=yc($f.bind(null,a,n,$t,Ba,Ls,t,Nt,cr,jr,dn,2,-0,0),h);break e}$f(a,n,$t,Ba,Ls,t,Nt,cr,jr,dn,0,-0,0)}}break}while(!0);Yt(e)}function Gs(e){$t===null?$t=e:$t.push.apply($t,e)}function $f(e,t,n,a,u,h,w,C,F,Z,fe,pe,ae){var oe=t.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(ji={stylesheets:null,count:0,unsuspend:Up},Bf(t),t=Bp(),t!==null)){e.cancelPendingCommit=t(tc.bind(null,e,n,a,u,w,C,F,1,pe,ae)),gn(e,h,w,!Z);return}tc(e,n,a,u,w,C,F,fe,pe,ae)}function ep(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var u=n[a],h=u.getSnapshot;u=u.value;try{if(!_t(h(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t,n,a){t&=~Ms,t&=~cr,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var h=31-pt(u),w=1<<h;a[h]=-1,u&=~w}n!==0&&_n(e,n,t)}function Pa(){return(Ve&6)===0?(Ui(0),!1):!0}function Bs(){if(Re!==null){if(Ge===0)var e=Re.return;else e=Re,ln=sr=null,Vu(e),Dr=null,gi=0,e=Re;for(;e!==null;)Hf(e.alternate,e),e=e.return;Re=null}}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_p(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bs(),Ue=e,Re=n=Nn(e.current,null),ke=t,Ge=0,Et=null,dn=!1,Pr=bn(e,t),Ds=!1,jr=Nt=Ms=cr=Un=Xe=0,$t=Ci=null,Ls=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-pt(a),h=1<<u;t|=e[u],a&=~h}return vn=t,fa(),n}function Yf(e,t){Te=null,H.H=Kt,t===di?(t=lo(),Ge=3):t===ao?(t=lo(),Ge=4):Ge=t===lf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,Re===null&&(Xe=1,Da(e,kt(t,e.current)))}function Wf(){var e=H.H;return H.H=Kt,e===null?Kt:e}function Qf(){var e=H.A;return H.A=Zh,e}function zs(){Xe=4,dn||(ke&4194176)!==ke&&Mt.current!==null||(Pr=!0),(Un&134217727)===0&&(cr&134217727)===0||Ue===null||gn(Ue,ke,Nt,!1)}function Ps(e,t,n){var a=Ve;Ve|=2;var u=Wf(),h=Qf();(Ue!==e||ke!==t)&&(Ba=null,Fr(e,t)),t=!1;var w=Xe;e:do try{if(Ge!==0&&Re!==null){var C=Re,F=Et;switch(Ge){case 8:Bs(),w=6;break e;case 3:case 2:case 6:Mt.current===null&&(t=!0);var Z=Ge;if(Ge=0,Et=null,Ir(e,C,F,Z),n&&Pr){w=0;break e}break;default:Z=Ge,Ge=0,Et=null,Ir(e,C,F,Z)}}tp(),w=Xe;break}catch(fe){Yf(e,fe)}while(!0);return t&&e.shellSuspendCounter++,ln=sr=null,Ve=a,H.H=u,H.A=h,Re===null&&(Ue=null,ke=0,fa()),w}function tp(){for(;Re!==null;)Zf(Re)}function np(e,t){var n=Ve;Ve|=2;var a=Wf(),u=Qf();Ue!==e||ke!==t?(Ba=null,Ga=Ne()+500,Fr(e,t)):Pr=bn(e,t);e:do try{if(Ge!==0&&Re!==null){t=Re;var h=Et;t:switch(Ge){case 1:Ge=0,Et=null,Ir(e,t,h,1);break;case 2:if(uo(h)){Ge=0,Et=null,Jf(t);break}t=function(){Ge===2&&Ue===e&&(Ge=7),Yt(e)},h.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:uo(h)?(Ge=0,Et=null,Jf(t)):(Ge=0,Et=null,Ir(e,t,h,7));break;case 5:var w=null;switch(Re.tag){case 26:w=Re.memoizedState;case 5:case 27:var C=Re;if(!w||kc(w)){Ge=0,Et=null;var F=C.sibling;if(F!==null)Re=F;else{var Z=C.return;Z!==null?(Re=Z,ja(Z)):Re=null}break t}}Ge=0,Et=null,Ir(e,t,h,5);break;case 6:Ge=0,Et=null,Ir(e,t,h,6);break;case 8:Bs(),Xe=6;break e;default:throw Error(l(462))}}rp();break}catch(fe){Yf(e,fe)}while(!0);return ln=sr=null,H.H=a,H.A=u,Ve=n,Re!==null?0:(Ue=null,ke=0,fa(),Xe)}function rp(){for(;Re!==null&&!gt();)Zf(Re)}function Zf(e){var t=_f(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?ja(e):Re=t}function Jf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=df(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=df(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Vu(t);default:Hf(n,t),t=Re=Ff(t,vn),t=_f(n,t,vn)}e.memoizedProps=e.pendingProps,t===null?ja(e):Re=t}function Ir(e,t,n,a){ln=sr=null,Vu(t),Dr=null,gi=0;var u=t.return;try{if(Hh(e,u,t,n,ke)){Xe=1,Da(e,kt(n,e.current)),Re=null;return}}catch(h){if(u!==null)throw Re=u,h;Xe=1,Da(e,kt(n,e.current)),Re=null;return}t.flags&32768?(Ae||a===1?e=!0:Pr||(ke&536870912)!==0?e=!1:(dn=e=!0,(a===2||a===3||a===6)&&(a=Mt.current,a!==null&&a.tag===13&&(a.flags|=16384))),ec(t,e)):ja(t)}function ja(e){var t=e;do{if((t.flags&32768)!==0){ec(t,dn);return}e=t.return;var n=Wh(t.alternate,t,vn);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Xe===0&&(Xe=5)}function ec(e,t){do{var n=Qh(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);Xe=6,Re=null}function tc(e,t,n,a,u,h,w,C,F,Z){var fe=H.T,pe=ue.p;try{ue.p=2,H.T=null,ip(e,t,n,a,pe,u,h,w,C,F,Z)}finally{H.T=fe,ue.p=pe}}function ip(e,t,n,a,u,h,w,C){do Vr();while(hr!==null);if((Ve&6)!==0)throw Error(l(327));var F=e.finishedWork;if(a=e.finishedLanes,F===null)return null;if(e.finishedWork=null,e.finishedLanes=0,F===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var Z=F.lanes|F.childLanes;if(Z|=Au,Jr(e,a,Z,h,w,C),e===Ue&&(Re=Ue=null,ke=0),(F.subtreeFlags&10256)===0&&(F.flags&10256)===0||za||(za=!0,qs=Z,Ns=n,lp(Fe,function(){return Vr(),null})),n=(F.flags&15990)!==0,(F.subtreeFlags&15990)!==0||n?(n=H.T,H.T=null,h=ue.p,ue.p=2,w=Ve,Ve|=4,Kh(e,F),Nf(F,e),kh(Zs,e.containerInfo),Ja=!!Qs,Zs=Qs=null,e.current=F,Mf(e,F.alternate,F),xe(),Ve=w,ue.p=h,H.T=n):e.current=F,za?(za=!1,hr=e,qi=a):nc(e,Z),Z=e.pendingLanes,Z===0&&(Gn=null),Ki(F.stateNode),Yt(e),t!==null)for(u=e.onRecoverableError,F=0;F<t.length;F++)Z=t[F],u(Z.value,{componentStack:Z.stack});return(qi&3)!==0&&Vr(),Z=e.pendingLanes,(a&4194218)!==0&&(Z&42)!==0?e===Us?Ni++:(Ni=0,Us=e):Ni=0,Ui(0),null}function nc(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mi(t)))}function Vr(){if(hr!==null){var e=hr,t=qs;qs=0;var n=ei(qi),a=H.T,u=ue.p;try{if(ue.p=32>n?32:n,H.T=null,hr===null)var h=!1;else{n=Ns,Ns=null;var w=hr,C=qi;if(hr=null,qi=0,(Ve&6)!==0)throw Error(l(331));var F=Ve;if(Ve|=4,Pf(w.current),Gf(w,w.current,C,n),Ve=F,Ui(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Wt,w)}catch{}h=!0}return h}finally{ue.p=u,H.T=a,nc(e,t)}}return!1}function rc(e,t,n){t=kt(n,t),t=is(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(It(e,2),Yt(e))}function qe(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Gn===null||!Gn.has(a))){e=kt(n,e),n=uf(2),a=Mn(t,n,2),a!==null&&(sf(n,a,t,e),It(a,2),Yt(a));break}}t=t.return}}function js(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Jh;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(n)||(Ds=!0,u.add(n),e=ap.bind(null,e,t,n),t.then(e,e))}function ap(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(ke&n)===n&&(Xe===4||Xe===3&&(ke&62914560)===ke&&300>Ne()-Cs?(Ve&2)===0&&Fr(e,0):Ms|=n,jr===ke&&(jr=0)),Yt(e)}function ic(e,t){t===0&&(t=Vn()),e=En(e,t),e!==null&&(It(e,t),Yt(e))}function up(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ic(e,n)}function sp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}a!==null&&a.delete(t),ic(e,n)}function lp(e,t){return Be(e,t)}var Fa=null,Hr=null,Fs=!1,Ia=!1,Is=!1,pr=0;function Yt(e){e!==Hr&&e.next===null&&(Hr===null?Fa=Hr=e:Hr=Hr.next=e),Ia=!0,Fs||(Fs=!0,fp(op))}function Ui(e,t){if(!Is&&Ia){Is=!0;do for(var n=!1,a=Fa;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var h=0;else{var w=a.suspendedLanes,C=a.pingedLanes;h=(1<<31-pt(42|e)+1)-1,h&=u&~(w&~C),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(n=!0,sc(a,h))}else h=ke,h=Zt(a,a===Ue?h:0),(h&3)===0||bn(a,h)||(n=!0,sc(a,h));a=a.next}while(n);Is=!1}}function op(){Ia=Fs=!1;var e=0;pr!==0&&(bp()&&(e=pr),pr=0);for(var t=Ne(),n=null,a=Fa;a!==null;){var u=a.next,h=ac(a,t);h===0?(a.next=null,n===null?Fa=u:n.next=u,u===null&&(Hr=n)):(n=a,(e!==0||(h&3)!==0)&&(Ia=!0)),a=u}Ui(e)}function ac(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var w=31-pt(h),C=1<<w,F=u[w];F===-1?((C&n)===0||(C&a)!==0)&&(u[w]=lu(C,t)):F<=t&&(e.expiredLanes|=C),h&=~C}if(t=Ue,n=ke,n=Zt(e,e===t?n:0),a=e.callbackNode,n===0||e===t&&Ge===2||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ht(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||bn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ht(a),ei(n)){case 2:case 8:n=je;break;case 32:n=Fe;break;case 268435456:n=dr;break;default:n=Fe}return a=uc.bind(null,e),n=Be(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ht(a),e.callbackPriority=2,e.callbackNode=null,2}function uc(e,t){var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var a=ke;return a=Zt(e,e===Ue?a:0),a===0?null:(Kf(e,a,t),ac(e,Ne()),e.callbackNode!=null&&e.callbackNode===n?uc.bind(null,e):null)}function sc(e,t){if(Vr())return null;Kf(e,t,!0)}function fp(e){xp(function(){(Ve&6)!==0?Be(Ye,e):e()})}function Vs(){return pr===0&&(pr=Zr()),pr}function lc(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function oc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function cp(e,t,n,a,u){if(t==="submit"&&n&&n.stateNode===u){var h=lc((u[et]||null).action),w=a.submitter;w&&(t=(t=w[et]||null)?lc(t.formAction):w.getAttribute("formAction"),t!==null&&(h=t,w=null));var C=new sa("action","action",null,a,u);e.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(pr!==0){var F=w?oc(u,w):new FormData(u);Ju(n,{pending:!0,data:F,method:u.method,action:h},null,F)}}else typeof h=="function"&&(C.preventDefault(),F=w?oc(u,w):new FormData(u),Ju(n,{pending:!0,data:F,method:u.method,action:h},h,F))},currentTarget:u}]})}}for(var Hs=0;Hs<Jl.length;Hs++){var Xs=Jl[Hs],hp=Xs.toLowerCase(),dp=Xs[0].toUpperCase()+Xs.slice(1);Bt(hp,"on"+dp)}Bt($l,"onAnimationEnd"),Bt(Yl,"onAnimationIteration"),Bt(Wl,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(Dh,"onTransitionRun"),Bt(Mh,"onTransitionStart"),Bt(Lh,"onTransitionCancel"),Bt(Ql,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gi));function fc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],u=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var w=a.length-1;0<=w;w--){var C=a[w],F=C.instance,Z=C.currentTarget;if(C=C.listener,F!==h&&u.isPropagationStopped())break e;h=C,u.currentTarget=Z;try{h(u)}catch(fe){Aa(fe)}u.currentTarget=null,h=F}else for(w=0;w<a.length;w++){if(C=a[w],F=C.instance,Z=C.currentTarget,C=C.listener,F!==h&&u.isPropagationStopped())break e;h=C,u.currentTarget=Z;try{h(u)}catch(fe){Aa(fe)}u.currentTarget=null,h=F}}}}function Oe(e,t){var n=t[Jt];n===void 0&&(n=t[Jt]=new Set);var a=e+"__bubble";n.has(a)||(cc(t,e,2,!1),n.add(a))}function Ks(e,t,n){var a=0;t&&(a|=4),cc(n,e,a,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function $s(e){if(!e[Va]){e[Va]=!0,hl.forEach(function(n){n!=="selectionchange"&&(vp.has(n)||Ks(n,!1,e),Ks(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Va]||(t[Va]=!0,Ks("selectionchange",!1,t))}}function cc(e,t,n,a){switch(qc(t)){case 2:var u=jp;break;case 8:u=Fp;break;default:u=sl}n=u.bind(null,t,n,e),u=void 0,!gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ys(e,t,n,a,u){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var C=a.stateNode.containerInfo;if(C===u||C.nodeType===8&&C.parentNode===u)break;if(w===4)for(w=a.return;w!==null;){var F=w.tag;if((F===3||F===4)&&(F=w.stateNode.containerInfo,F===u||F.nodeType===8&&F.parentNode===u))return;w=w.return}for(;C!==null;){if(w=Kn(C),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){a=h=w;continue e}C=C.parentNode}}a=a.return}Tl(function(){var Z=h,fe=du(n),pe=[];e:{var ae=Zl.get(e);if(ae!==void 0){var oe=sa,ye=e;switch(e){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":oe=sh;break;case"focusin":ye="focus",oe=_u;break;case"focusout":ye="blur",oe=_u;break;case"beforeblur":case"afterblur":oe=_u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=fh;break;case $l:case Yl:case Wl:oe=Zc;break;case Ql:oe=hh;break;case"scroll":case"scrollend":oe=Kc;break;case"wheel":oe=dh;break;case"copy":case"cut":case"paste":oe=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Al;break;case"toggle":case"beforetoggle":oe=gh}var Se=(t&4)!==0,Ke=!Se&&(e==="scroll"||e==="scrollend"),te=Se?ae!==null?ae+"Capture":null:ae;Se=[];for(var W=Z,re;W!==null;){var ce=W;if(re=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||re===null||te===null||(ce=ni(W,te),ce!=null&&Se.push(Bi(W,ce,re))),Ke)break;W=W.return}0<Se.length&&(ae=new oe(ae,ye,null,n,fe),pe.push({event:ae,listeners:Se}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",ae&&n!==pu&&(ye=n.relatedTarget||n.fromElement)&&(Kn(ye)||ye[Vt]))break e;if((oe||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(ye=n.relatedTarget||n.toElement,oe=Z,ye=ye?Kn(ye):null,ye!==null&&(Ke=K(ye),Se=ye.tag,ye!==Ke||Se!==5&&Se!==27&&Se!==6)&&(ye=null)):(oe=null,ye=Z),oe!==ye)){if(Se=Ol,ce="onMouseLeave",te="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Al,ce="onPointerLeave",te="onPointerEnter",W="pointer"),Ke=oe==null?ae:ti(oe),re=ye==null?ae:ti(ye),ae=new Se(ce,W+"leave",oe,n,fe),ae.target=Ke,ae.relatedTarget=re,ce=null,Kn(fe)===Z&&(Se=new Se(te,W+"enter",ye,n,fe),Se.target=re,Se.relatedTarget=Ke,ce=Se),Ke=ce,oe&&ye)t:{for(Se=oe,te=ye,W=0,re=Se;re;re=Xr(re))W++;for(re=0,ce=te;ce;ce=Xr(ce))re++;for(;0<W-re;)Se=Xr(Se),W--;for(;0<re-W;)te=Xr(te),re--;for(;W--;){if(Se===te||te!==null&&Se===te.alternate)break t;Se=Xr(Se),te=Xr(te)}Se=null}else Se=null;oe!==null&&hc(pe,ae,oe,Se,!1),ye!==null&&Ke!==null&&hc(pe,Ke,ye,Se,!0)}}e:{if(ae=Z?ti(Z):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var ve=Gl;else if(Nl(ae))if(Bl)ve=Rh;else{ve=Th;var we=Eh}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?Z&&hu(Z.elementType)&&(ve=Gl):ve=wh;if(ve&&(ve=ve(e,Z))){Ul(pe,ve,n,fe);break e}we&&we(e,ae,Z),e==="focusout"&&Z&&ae.type==="number"&&Z.memoizedProps.value!=null&&cu(ae,"number",ae.value)}switch(we=Z?ti(Z):window,e){case"focusin":(Nl(we)||we.contentEditable==="true")&&(Tr=we,Ru=Z,fi=null);break;case"focusout":fi=Ru=Tr=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Xl(pe,n,fe);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":Xl(pe,n,fe)}var me;if(Su)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Er?Cl(e,n)&&(be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(be="onCompositionStart");be&&(Dl&&n.locale!=="ko"&&(Er||be!=="onCompositionStart"?be==="onCompositionEnd"&&Er&&(me=wl()):(Sn=fe,yu="value"in Sn?Sn.value:Sn.textContent,Er=!0)),we=Ha(Z,be),0<we.length&&(be=new kl(be,e,null,n,fe),pe.push({event:be,listeners:we}),me?be.data=me:(me=ql(n),me!==null&&(be.data=me)))),(me=mh?bh(e,n):_h(e,n))&&(be=Ha(Z,"onBeforeInput"),0<be.length&&(we=new kl("onBeforeInput","beforeinput",null,n,fe),pe.push({event:we,listeners:be}),we.data=me)),cp(pe,e,Z,n,fe)}fc(pe,t)})}function Bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ha(e,t){for(var n=t+"Capture",a=[];e!==null;){var u=e,h=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=ni(e,n),u!=null&&a.unshift(Bi(e,u,h)),u=ni(e,t),u!=null&&a.push(Bi(e,u,h))),e=e.return}return a}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hc(e,t,n,a,u){for(var h=t._reactName,w=[];n!==null&&n!==a;){var C=n,F=C.alternate,Z=C.stateNode;if(C=C.tag,F!==null&&F===a)break;C!==5&&C!==26&&C!==27||Z===null||(F=Z,u?(Z=ni(n,h),Z!=null&&w.unshift(Bi(n,Z,F))):u||(Z=ni(n,h),Z!=null&&w.push(Bi(n,Z,F)))),n=n.return}w.length!==0&&e.push({event:t,listeners:w})}var gp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(gp,`
`).replace(yp,"")}function dc(e,t){return t=pc(t),pc(e)===t}function Xa(){}function Le(e,t,n,a,u,h){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||_r(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&_r(e,""+a);break;case"className":ea(e,"class",a);break;case"tabIndex":ea(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(e,n,a);break;case"style":Sl(e,a,h);break;case"data":if(t!=="object"){ea(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ra(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&Le(e,t,"name",u.name,u,null),Le(e,t,"formEncType",u.formEncType,u,null),Le(e,t,"formMethod",u.formMethod,u,null),Le(e,t,"formTarget",u.formTarget,u,null)):(Le(e,t,"encType",u.encType,u,null),Le(e,t,"method",u.method,u,null),Le(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ra(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Xa);break;case"onScroll":a!=null&&Oe("scroll",e);break;case"onScrollEnd":a!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ra(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),Ji(e,"popover",a);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ji(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Hc.get(n)||n,Ji(e,n,a))}}function Ws(e,t,n,a,u,h){switch(n){case"style":Sl(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof a=="string"?_r(e,a):(typeof a=="number"||typeof a=="bigint")&&_r(e,""+a);break;case"onScroll":a!=null&&Oe("scroll",e);break;case"onScrollEnd":a!=null&&Oe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),h=e[et]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof a=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,u);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Ji(e,n,a)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var a=!1,u=!1,h;for(h in n)if(n.hasOwnProperty(h)){var w=n[h];if(w!=null)switch(h){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,h,w,n,null)}}u&&Le(e,t,"srcSet",n.srcSet,n,null),a&&Le(e,t,"src",n.src,n,null);return;case"input":Oe("invalid",e);var C=h=w=u=null,F=null,Z=null;for(a in n)if(n.hasOwnProperty(a)){var fe=n[a];if(fe!=null)switch(a){case"name":u=fe;break;case"type":w=fe;break;case"checked":F=fe;break;case"defaultChecked":Z=fe;break;case"value":h=fe;break;case"defaultValue":C=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(l(137,t));break;default:Le(e,t,a,fe,n,null)}}ml(e,h,C,F,Z,w,u,!1),ta(e);return;case"select":Oe("invalid",e),a=w=h=null;for(u in n)if(n.hasOwnProperty(u)&&(C=n[u],C!=null))switch(u){case"value":h=C;break;case"defaultValue":w=C;break;case"multiple":a=C;default:Le(e,t,u,C,n,null)}t=h,n=w,e.multiple=!!a,t!=null?br(e,!!a,t,!1):n!=null&&br(e,!!a,n,!0);return;case"textarea":Oe("invalid",e),h=u=a=null;for(w in n)if(n.hasOwnProperty(w)&&(C=n[w],C!=null))switch(w){case"value":a=C;break;case"defaultValue":u=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Le(e,t,w,C,n,null)}_l(e,a,u,h),ta(e);return;case"option":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Le(e,t,F,a,n,null)}return;case"dialog":Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(a=0;a<Gi.length;a++)Oe(Gi[a],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(a=n[Z],a!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,Z,a,n,null)}return;default:if(hu(t)){for(fe in n)n.hasOwnProperty(fe)&&(a=n[fe],a!==void 0&&Ws(e,t,fe,a,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(a=n[C],a!=null&&Le(e,t,C,a,n,null))}function mp(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,w=null,C=null,F=null,Z=null,fe=null;for(oe in n){var pe=n[oe];if(n.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=pe;default:a.hasOwnProperty(oe)||Le(e,t,oe,null,a,pe)}}for(var ae in a){var oe=a[ae];if(pe=n[ae],a.hasOwnProperty(ae)&&(oe!=null||pe!=null))switch(ae){case"type":h=oe;break;case"name":u=oe;break;case"checked":Z=oe;break;case"defaultChecked":fe=oe;break;case"value":w=oe;break;case"defaultValue":C=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(l(137,t));break;default:oe!==pe&&Le(e,t,ae,oe,a,pe)}}fu(e,w,C,F,Z,fe,h,u);return;case"select":oe=w=C=ae=null;for(h in n)if(F=n[h],n.hasOwnProperty(h)&&F!=null)switch(h){case"value":break;case"multiple":oe=F;default:a.hasOwnProperty(h)||Le(e,t,h,null,a,F)}for(u in a)if(h=a[u],F=n[u],a.hasOwnProperty(u)&&(h!=null||F!=null))switch(u){case"value":ae=h;break;case"defaultValue":C=h;break;case"multiple":w=h;default:h!==F&&Le(e,t,u,h,a,F)}t=C,n=w,a=oe,ae!=null?br(e,!!n,ae,!1):!!a!=!!n&&(t!=null?br(e,!!n,t,!0):br(e,!!n,n?[]:"",!1));return;case"textarea":oe=ae=null;for(C in n)if(u=n[C],n.hasOwnProperty(C)&&u!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Le(e,t,C,null,a,u)}for(w in a)if(u=a[w],h=n[w],a.hasOwnProperty(w)&&(u!=null||h!=null))switch(w){case"value":ae=u;break;case"defaultValue":oe=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==h&&Le(e,t,w,u,a,h)}bl(e,ae,oe);return;case"option":for(var ye in n)if(ae=n[ye],n.hasOwnProperty(ye)&&ae!=null&&!a.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Le(e,t,ye,null,a,ae)}for(F in a)if(ae=a[F],oe=n[F],a.hasOwnProperty(F)&&ae!==oe&&(ae!=null||oe!=null))switch(F){case"selected":e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Le(e,t,F,ae,a,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in n)ae=n[Se],n.hasOwnProperty(Se)&&ae!=null&&!a.hasOwnProperty(Se)&&Le(e,t,Se,null,a,ae);for(Z in a)if(ae=a[Z],oe=n[Z],a.hasOwnProperty(Z)&&ae!==oe&&(ae!=null||oe!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,t));break;default:Le(e,t,Z,ae,a,oe)}return;default:if(hu(t)){for(var Ke in n)ae=n[Ke],n.hasOwnProperty(Ke)&&ae!==void 0&&!a.hasOwnProperty(Ke)&&Ws(e,t,Ke,void 0,a,ae);for(fe in a)ae=a[fe],oe=n[fe],!a.hasOwnProperty(fe)||ae===oe||ae===void 0&&oe===void 0||Ws(e,t,fe,ae,a,oe);return}}for(var te in n)ae=n[te],n.hasOwnProperty(te)&&ae!=null&&!a.hasOwnProperty(te)&&Le(e,t,te,null,a,ae);for(pe in a)ae=a[pe],oe=n[pe],!a.hasOwnProperty(pe)||ae===oe||ae==null&&oe==null||Le(e,t,pe,ae,a,oe)}var Qs=null,Zs=null;function Ka(e){return e.nodeType===9?e:e.ownerDocument}function vc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gc(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Js(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var el=null;function bp(){var e=window.event;return e&&e.type==="popstate"?e===el?!1:(el=e,!0):(el=null,!1)}var yc=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(e){return mc.resolve(null).then(e).catch(Sp)}:yc;function Sp(e){setTimeout(function(){throw e})}function tl(e,t){var n=t,a=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(a===0){e.removeChild(u),Xi(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=u}while(n);Xi(t)}function nl(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":nl(n),ou(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ep(e,t,n,a){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function Tp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jt(e.nextSibling),e===null))return null;return e}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function _c(e,t,n){switch(t=Ka(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}var Ut=new Map,xc=new Set;function $a(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var yn=ue.d;ue.d={f:wp,r:Rp,D:Op,C:kp,L:Ap,m:Dp,X:Lp,S:Mp,M:Cp};function wp(){var e=yn.f(),t=Pa();return e||t}function Rp(e){var t=gr(e);t!==null&&t.tag===5&&t.type==="form"?Ko(t):yn.r(e)}var Kr=typeof document>"u"?null:document;function Sc(e,t,n){var a=Kr;if(a&&typeof t=="string"&&t){var u=Rt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xc.has(u)||(xc.add(u),e={rel:e,crossOrigin:n,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),ot(t,"link",e),rt(t),a.head.appendChild(t)))}}function Op(e){yn.D(e),Sc("dns-prefetch",e,null)}function kp(e,t){yn.C(e,t),Sc("preconnect",e,t)}function Ap(e,t,n){yn.L(e,t,n);var a=Kr;if(a&&e&&t){var u='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Rt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Rt(n.imageSizes)+'"]')):u+='[href="'+Rt(e)+'"]';var h=u;switch(t){case"style":h=$r(e);break;case"script":h=Yr(e)}Ut.has(h)||(e=k({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ut.set(h,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(zi(h))||t==="script"&&a.querySelector(Pi(h))||(t=a.createElement("link"),ot(t,"link",e),rt(t),a.head.appendChild(t)))}}function Dp(e,t){yn.m(e,t);var n=Kr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Rt(a)+'"][href="'+Rt(e)+'"]',h=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Yr(e)}if(!Ut.has(h)&&(e=k({rel:"modulepreload",href:e},t),Ut.set(h,e),n.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pi(h)))return}a=n.createElement("link"),ot(a,"link",e),rt(a),n.head.appendChild(a)}}}function Mp(e,t,n){yn.S(e,t,n);var a=Kr;if(a&&e){var u=yr(a).hoistableStyles,h=$r(e);t=t||"default";var w=u.get(h);if(!w){var C={loading:0,preload:null};if(w=a.querySelector(zi(h)))C.loading=5;else{e=k({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ut.get(h))&&rl(e,n);var F=w=a.createElement("link");rt(F),ot(F,"link",e),F._p=new Promise(function(Z,fe){F.onload=Z,F.onerror=fe}),F.addEventListener("load",function(){C.loading|=1}),F.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ya(w,t,a)}w={type:"stylesheet",instance:w,count:1,state:C},u.set(h,w)}}}function Lp(e,t){yn.X(e,t);var n=Kr;if(n&&e){var a=yr(n).hoistableScripts,u=Yr(e),h=a.get(u);h||(h=n.querySelector(Pi(u)),h||(e=k({src:e,async:!0},t),(t=Ut.get(u))&&il(e,t),h=n.createElement("script"),rt(h),ot(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(u,h))}}function Cp(e,t){yn.M(e,t);var n=Kr;if(n&&e){var a=yr(n).hoistableScripts,u=Yr(e),h=a.get(u);h||(h=n.querySelector(Pi(u)),h||(e=k({src:e,async:!0,type:"module"},t),(t=Ut.get(u))&&il(e,t),h=n.createElement("script"),rt(h),ot(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(u,h))}}function Ec(e,t,n,a){var u=(u=se.current)?$a(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$r(n.href),n=yr(u).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$r(n.href);var h=yr(u).hoistableStyles,w=h.get(e);if(w||(u=u.ownerDocument||u,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,w),(h=u.querySelector(zi(e)))&&!h._p&&(w.instance=h,w.state.loading=5),Ut.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ut.set(e,n),h||qp(u,e,n,w.state))),t&&a===null)throw Error(l(528,""));return w}if(t&&a!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Yr(n),n=yr(u).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $r(e){return'href="'+Rt(e)+'"'}function zi(e){return'link[rel="stylesheet"]['+e+"]"}function Tc(e){return k({},e,{"data-precedence":e.precedence,precedence:null})}function qp(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ot(t,"link",n),rt(t),e.head.appendChild(t))}function Yr(e){return'[src="'+Rt(e)+'"]'}function Pi(e){return"script[async]"+e}function wc(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Rt(n.href)+'"]');if(a)return t.instance=a,rt(a),a;var u=k({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),rt(a),ot(a,"style",u),Ya(a,n.precedence,e),t.instance=a;case"stylesheet":u=$r(n.href);var h=e.querySelector(zi(u));if(h)return t.state.loading|=4,t.instance=h,rt(h),h;a=Tc(n),(u=Ut.get(u))&&rl(a,u),h=(e.ownerDocument||e).createElement("link"),rt(h);var w=h;return w._p=new Promise(function(C,F){w.onload=C,w.onerror=F}),ot(h,"link",a),t.state.loading|=4,Ya(h,n.precedence,e),t.instance=h;case"script":return h=Yr(n.src),(u=e.querySelector(Pi(h)))?(t.instance=u,rt(u),u):(a=n,(u=Ut.get(h))&&(a=k({},n),il(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),rt(u),ot(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ya(a,n.precedence,e));return t.instance}function Ya(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,h=u,w=0;w<a.length;w++){var C=a[w];if(C.dataset.precedence===t)h=C;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function rl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function il(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wa=null;function Rc(e,t,n){if(Wa===null){var a=new Map,u=Wa=new Map;u.set(n,a)}else u=Wa,a=u.get(n),a||(a=new Map,u.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var h=n[u];if(!(h[xn]||h[Je]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var w=h.getAttribute(t)||"";w=e+w;var C=a.get(w);C?C.push(h):a.set(w,[h])}}return a}function Oc(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Np(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kc(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ji=null;function Up(){}function Gp(e,t,n){if(ji===null)throw Error(l(475));var a=ji;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=$r(n.href),h=e.querySelector(zi(u));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Qa.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=h,rt(h);return}h=e.ownerDocument||e,n=Tc(n),(u=Ut.get(u))&&rl(n,u),h=h.createElement("link"),rt(h);var w=h;w._p=new Promise(function(C,F){w.onload=C,w.onerror=F}),ot(h,"link",n),t.instance=h}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Qa.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Bp(){if(ji===null)throw Error(l(475));var e=ji;return e.stylesheets&&e.count===0&&al(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&al(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Qa(){if(this.count--,this.count===0){if(this.stylesheets)al(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Za=null;function al(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Za=new Map,t.forEach(zp,e),Za=null,Qa.call(e))}function zp(e,t){if(!(t.state.loading&4)){var n=Za.get(e);if(n)var a=n.get(null);else{n=new Map,Za.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var w=u[h];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),a=w)}a&&n.set(null,a)}u=t.instance,w=u.getAttribute("data-precedence"),h=n.get(w)||a,h===a&&n.set(null,u),n.set(w,u),this.count++,a=Qa.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Fi={$$typeof:T,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Pp(e,t,n,a,u,h,w,C){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ac(e,t,n,a,u,h,w,C,F,Z,fe,pe){return e=new Pp(e,t,n,w,C,F,Z,pe),t=1,h===!0&&(t|=24),h=qt(3,null,null,t),e.current=h,h.stateNode=e,t=Gu(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:a,isDehydrated:n,cache:t},ys(h),e}function Dc(e){return e?(e=Or,e):Or}function Mc(e,t,n,a,u,h){u=Dc(u),a.context===null?a.context=u:a.pendingContext=u,a=Dn(t),a.payload={element:n},h=h===void 0?null:h,h!==null&&(a.callback=h),n=Mn(e,a,t),n!==null&&(vt(n,e,t),wi(n,e,t))}function Lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ul(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}function Cc(e){if(e.tag===13){var t=En(e,67108864);t!==null&&vt(t,e,67108864),ul(e,67108864)}}var Ja=!0;function jp(e,t,n,a){var u=H.T;H.T=null;var h=ue.p;try{ue.p=2,sl(e,t,n,a)}finally{ue.p=h,H.T=u}}function Fp(e,t,n,a){var u=H.T;H.T=null;var h=ue.p;try{ue.p=8,sl(e,t,n,a)}finally{ue.p=h,H.T=u}}function sl(e,t,n,a){if(Ja){var u=ll(a);if(u===null)Ys(e,t,a,eu,n),Nc(e,a);else if(Vp(u,e,t,n,a))a.stopPropagation();else if(Nc(e,a),t&4&&-1<Ip.indexOf(e)){for(;u!==null;){var h=gr(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var w=Ft(h.pendingLanes);if(w!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var F=1<<31-pt(w);C.entanglements[1]|=F,w&=~F}Yt(h),(Ve&6)===0&&(Ga=Ne()+500,Ui(0))}}break;case 13:C=En(h,2),C!==null&&vt(C,h,2),Pa(),ul(h,2)}if(h=ll(a),h===null&&Ys(e,t,a,eu,n),h===u)break;u=h}u!==null&&a.stopPropagation()}else Ys(e,t,a,null,n)}}function ll(e){return e=du(e),ol(e)}var eu=null;function ol(e){if(eu=null,e=Kn(e),e!==null){var t=K(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ee(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eu=e,null}function qc(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case Ye:return 2;case je:return 8;case Fe:case In:return 32;case dr:return 268435456;default:return 32}default:return 32}}var fl=!1,Bn=null,zn=null,Pn=null,Ii=new Map,Vi=new Map,jn=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nc(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Hi(e,t,n,a,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:h,targetContainers:[u]},t!==null&&(t=gr(t),t!==null&&Cc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Vp(e,t,n,a,u){switch(t){case"focusin":return Bn=Hi(Bn,e,t,n,a,u),!0;case"dragenter":return zn=Hi(zn,e,t,n,a,u),!0;case"mouseover":return Pn=Hi(Pn,e,t,n,a,u),!0;case"pointerover":var h=u.pointerId;return Ii.set(h,Hi(Ii.get(h)||null,e,t,n,a,u)),!0;case"gotpointercapture":return h=u.pointerId,Vi.set(h,Hi(Vi.get(h)||null,e,t,n,a,u)),!0}return!1}function Uc(e){var t=Kn(e.target);if(t!==null){var n=K(t);if(n!==null){if(t=n.tag,t===13){if(t=ee(n),t!==null){e.blockedOn=t,Yi(e.priority,function(){if(n.tag===13){var a=Tt(),u=En(n,a);u!==null&&vt(u,n,a),ul(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ll(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);pu=a,n.target.dispatchEvent(a),pu=null}else return t=gr(n),t!==null&&Cc(t),e.blockedOn=n,!1;t.shift()}return!0}function Gc(e,t,n){tu(e)&&n.delete(t)}function Hp(){fl=!1,Bn!==null&&tu(Bn)&&(Bn=null),zn!==null&&tu(zn)&&(zn=null),Pn!==null&&tu(Pn)&&(Pn=null),Ii.forEach(Gc),Vi.forEach(Gc)}function nu(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hp)))}var ru=null;function Bc(e){ru!==e&&(ru=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ru===e&&(ru=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(ol(a||n)===null)continue;break}var h=gr(n);h!==null&&(e.splice(t,3),t-=3,Ju(h,{pending:!0,data:u,method:n.method,action:a},a,u))}}))}function Xi(e){function t(F){return nu(F,e)}Bn!==null&&nu(Bn,e),zn!==null&&nu(zn,e),Pn!==null&&nu(Pn,e),Ii.forEach(t),Vi.forEach(t);for(var n=0;n<jn.length;n++){var a=jn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Uc(n),n.blockedOn===null&&jn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var u=n[a],h=n[a+1],w=u[et]||null;if(typeof h=="function")w||Bc(n);else if(w){var C=null;if(h&&h.hasAttribute("formAction")){if(u=h,w=h[et]||null)C=w.formAction;else if(ol(u)!==null)continue}else C=w.action;typeof C=="function"?n[a+1]=C:(n.splice(a,3),a-=3),Bc(n)}}}function cl(e){this._internalRoot=e}iu.prototype.render=cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,a=Tt();Mc(n,a,e,t,null,null)},iu.prototype.unmount=cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Vr(),Mc(e.current,2,null,e,null,null),Pa(),t[Vt]=null}};function iu(e){this._internalRoot=e}iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=$i();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Uc(e)}};var zc=i.version;if(zc!=="19.0.0")throw Error(l(527,zc,"19.0.0"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=Q(t),e=e!==null?ie(e):null,e=e===null?null:e.stateNode,e};var Xp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Wt=au.inject(Xp),ft=au}catch{}}return reactDomClient_production.createRoot=function(e,t){if(!o(e))throw Error(l(299));var n=!1,a="",u=tf,h=nf,w=rf,C=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(C=t.unstable_transitionCallbacks)),t=Ac(e,1,!1,null,null,n,a,u,h,w,C,null),e[Vt]=t.current,$s(e.nodeType===8?e.parentNode:e),new cl(t)},reactDomClient_production.hydrateRoot=function(e,t,n){if(!o(e))throw Error(l(299));var a=!1,u="",h=tf,w=nf,C=rf,F=null,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(F=n.unstable_transitionCallbacks),n.formState!==void 0&&(Z=n.formState)),t=Ac(e,1,!0,t,n??null,a,u,h,w,C,F,Z),t.context=Dc(null),n=t.current,a=Tt(),u=Dn(a),u.callback=null,Mn(n,u,a),t.current.lanes=a,It(t,a),Yt(t),e[Vt]=t.current,$s(e),new iu(t)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),neuralNetworkTimeoutDelay=200,neuralNetworkTypes={game:"game",bitcoin:"bitcoin"},neuralNetworkYearRanges={game:{min:1977,max:2999},bitcoin:{min:2024,max:2199}},neuralNetworkPriceModifiers={game:1e3,bitcoin:1e7},gameNeuralNetworkConfig={hiddenLayers:[5,5],inputSize:10,outputSize:1,hiddenLayerActivation:"relu"},gameTrainingOptions={iterations:1e5,timeout:37e3,learningRate:.9,decayRate:.9,momentum:.05,errorThresh:1e-5,minimize:!0,log:!0,logPeriod:1e4,callbackPeriod:1e5,callback:null},gameObjectGenerationOptions=new Map([[1977,39],[2e3,49],[2030,69]]),bitcoinNeuralNetworkConfig={hiddenLayers:[2],inputSize:1,outputSize:1,hiddenLayerActivation:"relu"},bitcoinTrainingOptions={iterations:15e4,timeout:56e3,learningRate:.4,decayRate:.1,momentum:.9,errorThresh:1e-5,minimize:!0,log:!0,logPeriod:15e3,callbackPeriod:15e4,callback:null},bitcoinObjectGenerationOptions=new Map([[2015,320],[2019,4024],[2024,73e3],[2034,219e3]]),neuralNetworkSettings=Object.freeze(Object.defineProperty({__proto__:null,bitcoinNeuralNetworkConfig,bitcoinObjectGenerationOptions,bitcoinTrainingOptions,gameNeuralNetworkConfig,gameObjectGenerationOptions,gameTrainingOptions,neuralNetworkPriceModifiers,neuralNetworkTimeoutDelay,neuralNetworkTypes,neuralNetworkYearRanges},Symbol.toStringTag,{value:"Module"})),gameSerializedNeuralNetwork={run:function(i){return i=new Float32Array([i.year,i.genre_Action,i.genre_Adventure,i.genre_RPG,i.genre_Simulation,i.genre_Strategy,i.genre_Sports,i.genre_Puzzle,i.platform_Console,i.platform_PC]),{price:1/(1+1/Math.exp(3.5202596187591553-5.8332037925720215*1/(1+1/Math.exp(-.8080874681472778-5.048310279846191*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+3.46171236038208*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+3.6532247066497803*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.9965028166770935*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-1.0347981452941895*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-3.046177625656128*1/(1+1/Math.exp(-.5959026217460632-2.8571505546569824*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+1.9263863563537598*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+2.1164183616638184*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.4913356900215149*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.8410927653312683*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-3.5426809787750244*1/(1+1/Math.exp(-.4729614555835724-3.233657121658325*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+2.010544776916504*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+2.6410436630249023*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.3452205955982208*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.9881219863891602*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-1.9750688076019287*1/(1+1/Math.exp(-.5729484558105469-2.0173404216766357*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+1.2593350410461426*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+1.6222989559173584*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.07782863825559616*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.798432469367981*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))-3.1788837909698486*1/(1+1/Math.exp(-.6485048532485962-2.9572713375091553*1/(1+1/Math.exp(-1.2699570655822754+8.82260513305664*(i[0]||0)+1.2708938121795654*(i[1]||0)+.46387261152267456*(i[2]||0)+.4277728199958801*(i[3]||0)+.16519363224506378*(i[4]||0)-.273529976606369*(i[5]||0)+.015223733149468899*(i[6]||0)+.08834678679704666*(i[7]||0)-.684506893157959*(i[8]||0)+.7295925617218018*(i[9]||0)))+1.9492831230163574*1/(1+1/Math.exp(.7950819730758667-6.313547134399414*(i[0]||0)-.053854238241910934*(i[1]||0)-.19963780045509338*(i[2]||0)+.27848872542381287*(i[3]||0)+.053491149097681046*(i[4]||0)+.32990068197250366*(i[5]||0)-.0072440505027771*(i[6]||0)+.09989766031503677*(i[7]||0)-.13509558141231537*(i[8]||0)-.10996205359697342*(i[9]||0)))+2.3086977005004883*1/(1+1/Math.exp(1.912672996520996-7.092151165008545*(i[0]||0)+1.6692336797714233*(i[1]||0)+.5952697992324829*(i[2]||0)+.4435064196586609*(i[3]||0)+.1612609326839447*(i[4]||0)-.746160089969635*(i[5]||0)+.026898019015789032*(i[6]||0)+.058394353836774826*(i[7]||0)-.8425987958908081*(i[8]||0)+.8974154591560364*(i[9]||0)))+.44653841853141785*1/(1+1/Math.exp(-.0070938304997980595-1.6043223142623901*(i[0]||0)-.029418108984827995*(i[1]||0)+.32494282722473145*(i[2]||0)+.1775631457567215*(i[3]||0)-.14417670667171478*(i[4]||0)-.22261036932468414*(i[5]||0)-.13874071836471558*(i[6]||0)+.18355755507946014*(i[7]||0)-.30783939361572266*(i[8]||0)+.15163907408714294*(i[9]||0)))-.7845534682273865*1/(1+1/Math.exp(-.12999418377876282+2.091386556625366*(i[0]||0)-.37082570791244507*(i[1]||0)-.4463762044906616*(i[2]||0)+.4713614583015442*(i[3]||0)-.16335730254650116*(i[4]||0)-.15537123382091522*(i[5]||0)-.12736345827579498*(i[6]||0)+.1009836420416832*(i[7]||0)-.19369696080684662*(i[8]||0)-.47062718868255615*(i[9]||0)))))))}}},bitcoinSerializedNeuralNetwork={run:function(i){return i=new Float32Array([i.year]),{price:1/(1+1/Math.exp(12.64346694946289-43.45503234863281*1/(1+1/Math.exp(9.963753700256348-54.8717155456543*(i[0]||0)))-26.26869010925293*1/(1+1/Math.exp(6.193717956542969-35.79347229003906*(i[0]||0)))))}}},serializedNeuralNetworks=Object.freeze(Object.defineProperty({__proto__:null,bitcoinSerializedNeuralNetwork,gameSerializedNeuralNetwork},Symbol.toStringTag,{value:"Module"})),gameTrainingData=[{input:{year:.1977,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1978,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1979,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.198,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1981,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1982,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:1,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1983,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1984,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:1,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.1985,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.1986,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1987,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02599}},{input:{year:.1988,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:1,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.1989,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:1,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.199,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.03999}},{input:{year:.1991,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1992,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1993,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.05999}},{input:{year:.1994,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1995,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05499}},{input:{year:.1996,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.06499}},{input:{year:.1997,genre_Action:0,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.1998,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.1999,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2001,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2002,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2003,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2004,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2005,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.02999}},{input:{year:.2006,genre_Action:0,genre_Adventure:0,genre_RPG:0,genre_Simulation:1,genre_Strategy:0,genre_Sports:1,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.2007,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2008,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2009,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.04999}},{input:{year:.201,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2011,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:1},output:{price:.05999}},{input:{year:.2012,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2013,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2014,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.05999}},{input:{year:.2015,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2016,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2017,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2018,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2019,genre_Action:1,genre_Adventure:0,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.202,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2021,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:1,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2022,genre_Action:1,genre_Adventure:1,genre_RPG:1,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.05999}},{input:{year:.2023,genre_Action:1,genre_Adventure:1,genre_RPG:0,genre_Simulation:0,genre_Strategy:0,genre_Sports:0,genre_Puzzle:0,platform_Console:1,platform_PC:0},output:{price:.05999}},{input:{year:.2024,genre_Action:1,genre_Adventure:0,genre_RPG:0,genre_Simulation:0,genre_Strategy:1,genre_Sports:0,genre_Puzzle:0,platform_Console:0,platform_PC:1},output:{price:.03999}}],bitcoinTrainingData=[{input:{year:.2015083333},output:{price:320435e-10}},{input:{year:.2015166667},output:{price:216867e-10}},{input:{year:.201525},output:{price:254283e-10}},{input:{year:.2015333333},output:{price:244223e-10}},{input:{year:.2015416667},output:{price:235939e-10}},{input:{year:.20155},output:{price:230233e-10}},{input:{year:.2015583333},output:{price:263345e-10}},{input:{year:.2015666667},output:{price:284686e-10}},{input:{year:.201575},output:{price:230256e-10}},{input:{year:.2015833333},output:{price:236004e-10}},{input:{year:.2015916667},output:{price:315005e-10}},{input:{year:.2016},output:{price:377414e-10}},{input:{year:.2016083333},output:{price:430721e-10}},{input:{year:.2016166667},output:{price:36935e-9}},{input:{year:.201625},output:{price:437917e-10}},{input:{year:.2016333333},output:{price:41676e-9}},{input:{year:.2016416667},output:{price:448484e-10}},{input:{year:.20165},output:{price:531107e-10}},{input:{year:.2016583333},output:{price:672515e-10}},{input:{year:.2016666667},output:{price:624602e-10}},{input:{year:.201675},output:{price:575546e-10}},{input:{year:.2016833333},output:{price:609929e-10}},{input:{year:.2016916667},output:{price:701337e-10}},{input:{year:.2017},output:{price:746046e-10}},{input:{year:.2017083333},output:{price:963658e-10}},{input:{year:.2017166667},output:{price:970941e-10}},{input:{year:.201725},output:{price:118004e-9}},{input:{year:.2017333333},output:{price:107171e-9}},{input:{year:.2017416667},output:{price:13483e-8}},{input:{year:.20175},output:{price:.00022883301}},{input:{year:.2017583333},output:{price:.00024926001}},{input:{year:.2017666667},output:{price:28713e-8}},{input:{year:.201775},output:{price:.00047017598}},{input:{year:.2017833333},output:{price:.00043410498}},{input:{year:.2017916667},output:{price:.00064409702}},{input:{year:.2018},output:{price:.00101985996}},{input:{year:.2018083333},output:{price:.00141122002}},{input:{year:.2018166667},output:{price:.00102372998}},{input:{year:.201825},output:{price:.0010385}},{input:{year:.2018333333},output:{price:.00070030601}},{input:{year:.2018416667},output:{price:.00092514697}},{input:{year:.20185},output:{price:.00075007002}},{input:{year:.2018583333},output:{price:.00064116802}},{input:{year:.2018666667},output:{price:776904e-9}},{input:{year:.201875},output:{price:.00070448101}},{input:{year:.2018833333},output:{price:.00066198501}},{input:{year:.2018916667},output:{price:.00063181401}},{input:{year:.2019},output:{price:.00040244644}},{input:{year:.2019083333},output:{price:.00037467134}},{input:{year:.2019166667},output:{price:.00034605471}},{input:{year:.201925},output:{price:.00038537571}},{input:{year:.2019333333},output:{price:.00041053623}},{input:{year:.2019416667},output:{price:.00053509146}},{input:{year:.20195},output:{price:.00085738398}},{input:{year:.2019583333},output:{price:.00107969307}},{input:{year:.2019666667},output:{price:.00100774424}},{input:{year:.201975},output:{price:.00096305928}},{input:{year:.2019833333},output:{price:.00082997207}},{input:{year:.2019916667},output:{price:.00091939922}},{input:{year:.202},output:{price:.00075716162}},{input:{year:.2020083333},output:{price:.00071948921}},{input:{year:.2020166667},output:{price:.00093463574}},{input:{year:.202025},output:{price:.00085997588}},{input:{year:.2020333333},output:{price:.00064373193}},{input:{year:.2020416667},output:{price:.00086727822}},{input:{year:.20205},output:{price:.00094636055}},{input:{year:.2020583333},output:{price:.00091459854}},{input:{year:.2020666667},output:{price:.00113225703}},{input:{year:.202075},output:{price:.00116793164}},{input:{year:.2020833333},output:{price:.00107952549}},{input:{year:.2020916667},output:{price:.00137809951}},{input:{year:.2021},output:{price:.00196337695}},{input:{year:.2021083333},output:{price:.00289940098}},{input:{year:.2021166667},output:{price:.00331145781}},{input:{year:.202125},output:{price:.00451595039}},{input:{year:.2021333333},output:{price:.00589265625}},{input:{year:.2021416667},output:{price:.00577146641}},{input:{year:.20215},output:{price:.0037293793}},{input:{year:.2021583333},output:{price:.00350359844}},{input:{year:.2021666667},output:{price:.00414608437}},{input:{year:.202175},output:{price:.00470997734}},{input:{year:.2021833333},output:{price:.00438167422}},{input:{year:.2021916667},output:{price:.00613204492}},{input:{year:.2022},output:{price:.00569079648}},{input:{year:.2022083333},output:{price:.00463117461}},{input:{year:.2022166667},output:{price:.00384817656}},{input:{year:.202225},output:{price:.00431945039}},{input:{year:.2022333333},output:{price:.00455541641}},{input:{year:.2022416667},output:{price:.00377132656}},{input:{year:.20225},output:{price:.00317925547}},{input:{year:.2022583333},output:{price:.00198204707}},{input:{year:.2022666667},output:{price:.00233367187}},{input:{year:.202275},output:{price:.0020050498}},{input:{year:.2022833333},output:{price:.00194311055}},{input:{year:.2022916667},output:{price:.00204948984}},{input:{year:.2023},output:{price:.0017168002}},{input:{year:.2023083333},output:{price:.00165479141}},{input:{year:.2023166667},output:{price:.00231378359}},{input:{year:.202325},output:{price:.00231509297}},{input:{year:.2023333333},output:{price:.0028473332}},{input:{year:.2023416667},output:{price:.00292271035}},{input:{year:.20235},output:{price:.00272184121}},{input:{year:.2023583333},output:{price:.00304718477}},{input:{year:.2023666667},output:{price:.0029230873}},{input:{year:.202375},output:{price:.00259340215}},{input:{year:.2023833333},output:{price:.00269673965}},{input:{year:.2023916667},output:{price:.00346572734}},{input:{year:.2024},output:{price:.00377180078}},{input:{year:.2024083333},output:{price:.00422802344}},{input:{year:.2024166667},output:{price:.00425697617}},{input:{year:.202425},output:{price:.00611680625}},{input:{year:.2024333333},output:{price:.00713334844}}],trainingData=Object.freeze(Object.defineProperty({__proto__:null,bitcoinTrainingData,gameTrainingData},Symbol.toStringTag,{value:"Module"}));var brain_js={exports:{}},crossValidate={},hasRequiredCrossValidate;function requireCrossValidate(){if(hasRequiredCrossValidate)return crossValidate;hasRequiredCrossValidate=1,Object.defineProperty(crossValidate,"__esModule",{value:!0});var r=function(){function l(o,y){for(var f=0;f<y.length;f++){var g=y[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}return function(o,y,f){return y&&l(o.prototype,y),f&&l(o,f),o}}();function i(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(o,y){i(this,l),this.Classifier=o,this.options=y,this.json=null}return r(l,[{key:"testPartition",value:function(y,f,g){var v=new this.Classifier(this.options),p=Date.now(),d=v.train(f,y),S=Date.now(),x=v.test(g),T=Date.now(),O=Object.assign({},x,{trainTime:S-p,testTime:T-S,iterations:d.iterations,error:d.error,total:x.total,learningRate:v.trainOpts.learningRate,hiddenLayers:v.hiddenLayers,network:v.toJSON()});return O}},{key:"shuffleArray",value:function(y){for(var f=y.length-1;f>0;f--){var g=Math.floor(Math.random()*(f+1)),v=y[f];y[f]=y[g],y[g]=v}return y}},{key:"train",value:function(y){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4;if(y.length<g)throw new Error("Training set size is too small for "+y.length+" k folds of "+g);var v=y.length/g;if(y.constructor===Array)this.shuffleArray(y);else{var p={};this.shuffleArray(Object.keys(y)).forEach(function(U){p[U]=y[U]}),y=p}for(var d={trainTime:0,testTime:0,iterations:0,error:0},S={total:0},x={total:0,truePos:0,trueNeg:0,falsePos:0,falseNeg:0},T=[],O=void 0,m=null,E=0;E<g;E++){var _=y.slice(0),b=_.splice(E*v,v),c=_,A=this.testPartition(f,c,b);m===null&&(m=A.hasOwnProperty("falseNeg")&&A.hasOwnProperty("falsePos")&&A.hasOwnProperty("trueNeg")&&A.hasOwnProperty("truePos"),m&&Object.assign(S,x));for(O in d)O in d&&(d[O]+=A[O]);for(O in S)O in S&&(S[O]+=A[O]);T.push(A)}for(O in d)O in d&&(d[O]/=g);return m&&(S.precision=S.truePos/(S.truePos+S.falsePos),S.recall=S.truePos/(S.truePos+S.falseNeg),S.accuracy=(S.trueNeg+S.truePos)/S.total),S.testSize=v,S.trainSize=y.length-v,this.json={avgs:d,stats:S,sets:T}}},{key:"toNeuralNetwork",value:function(){return this.fromJSON(this.json)}},{key:"toJSON",value:function(){return this.json}},{key:"fromJSON",value:function(y){var f=this.Classifier,g=y.sets.reduce(function(p,d){return p.error<d.error?p:d},{error:1/0}).network;if(f.fromJSON)return f.fromJSON(g);var v=new f;return v.fromJSON(g),v}}]),l}();return crossValidate.default=s,crossValidate}var likely={},hasRequiredLikely;function requireLikely(){if(hasRequiredLikely)return likely;hasRequiredLikely=1,Object.defineProperty(likely,"__esModule",{value:!0}),likely.default=r;function r(i,s){var l=s.run(i),o=null,y=-1;for(var f in l){var g=l[f];g>y&&(o=f,y=g)}return o}return likely}var lookup={},hasRequiredLookup;function requireLookup(){if(hasRequiredLookup)return lookup;hasRequiredLookup=1,Object.defineProperty(lookup,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i=function(){function o(y,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,f,g){return f&&o(y.prototype,f),g&&o(y,g),y}}();function s(o,y){if(!(o instanceof y))throw new TypeError("Cannot call a class as a function")}var l=function(){function o(){s(this,o)}return i(o,null,[{key:"toTable",value:function(f){var g=f.reduce(function(v,p){return Object.assign(v,p)},{});return o.toHash(g)}},{key:"toTable2D",value:function(f){for(var g={},v=0,p=0;p<f.length;p++)for(var d=f[p],S=0;S<d.length;S++){var x=d[S];for(var T in x)x.hasOwnProperty(T)&&!g.hasOwnProperty(T)&&(g[T]=v++)}return g}},{key:"toInputTable",value:function(f){for(var g={},v=0,p=0;p<f.length;p++)for(var d in f[p].input)g.hasOwnProperty(d)||(g[d]=v++);return g}},{key:"toInputTable2D",value:function(f){for(var g={},v=0,p=0;p<f.length;p++)for(var d=f[p].input,S=0;S<d.length;S++){var x=d[S];for(var T in x)g.hasOwnProperty(T)||(g[T]=v++)}return g}},{key:"toOutputTable",value:function(f){for(var g={},v=0,p=0;p<f.length;p++)for(var d in f[p].output)g.hasOwnProperty(d)||(g[d]=v++);return g}},{key:"toOutputTable2D",value:function(f){for(var g={},v=0,p=0;p<f.length;p++)for(var d=f[p].output,S=0;S<d.length;S++){var x=d[S];for(var T in x)g.hasOwnProperty(T)||(g[T]=v++)}return g}},{key:"toHash",value:function(f){var g={},v=0;for(var p in f)g[p]=v++;return g}},{key:"toArray",value:function(f,g,v){var p=new Float32Array(v);for(var d in f)p[f[d]]=g.hasOwnProperty(d)?g[d]:0;return p}},{key:"toArrayShort",value:function(f,g){var v=[];for(var p in f){if(!g.hasOwnProperty(p))break;v[f[p]]=g[p]}return Float32Array.from(v)}},{key:"toArrays",value:function(f,g,v){for(var p=[],d=0;d<g.length;d++)p.push(this.toArray(f,g[d],v));return p}},{key:"toObject",value:function(f,g){var v={};for(var p in f)v[p]=g[f[p]];return v}},{key:"toObjectPartial",value:function(f,g){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d={},S=0;for(var x in f)v>0&&S++<v||p>0&&S++>=p||(d[x]=g[f[x]-v]);return d}},{key:"lookupFromArray",value:function(f){for(var g={},v=0,p=f.length;p-- >0;)g[f[p]]=v++;return g}},{key:"dataShape",value:function(f){var g=[];f.input?(g.push("datum"),f=f.input):Array.isArray(f)&&(f[0].input?(g.push("array","datum"),f=f[0].input):(g.push("array"),f=f[0]));for(var v=void 0;f;){for(v in f)break;if(!f.hasOwnProperty(v))break;if(Array.isArray(f)||f.buffer instanceof ArrayBuffer)g.push("array"),f=f[v];else if((typeof f>"u"?"undefined":r(f))==="object")g.push("object"),f=f[v];else throw new Error("unhandled signature")}return g.push(typeof f>"u"?"undefined":r(f)),g}},{key:"addKeys",value:function(f,g){if(!Array.isArray(f)){g=g||{};var v=Object.keys(g).length;for(var p in f)f.hasOwnProperty(p)&&(g.hasOwnProperty(p)||(g[p]=v++));return g}}}]),o}();return lookup.default=l,lookup}var neuralNetwork={},browser$1={},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1;var r=browser$1&&browser$1.__assign||function(){return r=Object.assign||function(o){for(var y,f=1,g=arguments.length;f<g;f++){y=arguments[f];for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(o[v]=y[v])}return o},r.apply(this,arguments)};Object.defineProperty(browser$1,"__esModule",{value:!0}),browser$1.thaw=browser$1.Block=browser$1.Thaw=void 0;var i=function(){function o(y,f){var g=this;f===void 0&&(f={});var v=r(r({},o.defaultSettings),f),p=v.each,d=v.done;this.i=0,this.isStopped=!1,this.items=y,this.options=f,this.tick=function(){if(!g.isStopped&&(g.timeout=setTimeout(g.tick,0),!o.thawing)){var S=g.items[g.i];if(g.i>=g.items.length){d!==null&&(o.thawing=!0,d(),o.thawing=!1),g.isStopped=!0,clearTimeout(g.timeout);return}p!==null?(o.thawing=!0,p(S,g.i),o.thawing=!1):S!==void 0&&S(),g.i++}},o.thaws.push(this),f.delay||this.tick()}return Object.defineProperty(o,"isThawing",{get:function(){return o.thawing},enumerable:!1,configurable:!0}),o.stopAll=function(){for(var y=0;y<o.thaws.length;y++)o.thaws[y].stop()},o.prototype.makeReady=function(){return this.isStopped?(this.isStopped=!1,!0):!1},o.prototype.add=function(y){return this.items.push(y),this.makeReady()&&this.tick(),this},o.prototype.insert=function(y){return this.items.splice(this.i,0,y),this.makeReady()&&this.tick(),this},o.prototype.addArray=function(y){return this.items=this.items.concat(y),this.makeReady()&&this.tick(),this},o.prototype.insertArray=function(y){var f=this.items.splice(0,this.i),g=this.items;return this.items=f.concat(y,g),this.makeReady()&&this.tick(),this},o.prototype.stop=function(){return this.isStopped=!0,clearTimeout(this.timeout),this.options.done&&this.options.done(),this},o.thawing=!1,o.thaws=[],o.defaultSettings={each:null,done:null},o}();browser$1.Thaw=i;function s(o,y){return new i(o,y)}browser$1.thaw=s;var l=function(){function o(y,f){f===void 0&&(f=200),this.index=0,this.thaws=[],this.count=f,this.options=y}return o.prototype.add=function(y){var f=this.next();return f.add(y),this},o.prototype.addArray=function(y){var f=this.next();return f.addArray(y),this},o.prototype.insert=function(y){var f=this.next();return f.insert(y),this},o.prototype.insertArray=function(y){var f=this.next();return f.insertArray(y),this},o.prototype.stop=function(){for(var y=0;y<this.thaws.length;y++)this.thaws[y].stop();return this},o.prototype.next=function(){var y,f=this.thaws;return f.length<this.count?(y=new i([],this.options),f.push(y)):y=f[this.index]||null,this.index++,this.index>=this.count&&(this.index=0),y},o}();return browser$1.Block=l,typeof window<"u"&&(window.Thaw=i,window.thaw=s,window.Thaw.Block=l),browser$1}var max={},toArray={},hasRequiredToArray;function requireToArray(){if(hasRequiredToArray)return toArray;hasRequiredToArray=1,Object.defineProperty(toArray,"__esModule",{value:!0}),toArray.default=r;function r(i){if(Array.isArray(i))return i;var s=Object.keys(i),l=new Float32Array(s.length);for(var o in s)l[o]=i[s[o]];return l}return toArray}var hasRequiredMax;function requireMax(){if(hasRequiredMax)return max;hasRequiredMax=1,Object.defineProperty(max,"__esModule",{value:!0}),max.default=l;var r=requireToArray(),i=s(r);function s(o){return o&&o.__esModule?o:{default:o}}function l(o){return Math.max.apply(Math,(0,i.default)(o))}return max}var mse={},hasRequiredMse;function requireMse(){if(hasRequiredMse)return mse;hasRequiredMse=1,Object.defineProperty(mse,"__esModule",{value:!0}),mse.default=r;function r(i){for(var s=0,l=0;l<i.length;l++)s+=i[l]*i[l];return s/i.length}return mse}var randos={},randomWeight={},hasRequiredRandomWeight;function requireRandomWeight(){if(hasRequiredRandomWeight)return randomWeight;hasRequiredRandomWeight=1,Object.defineProperty(randomWeight,"__esModule",{value:!0}),randomWeight.default=r;function r(){return Math.random()*.4-.2}return randomWeight}var hasRequiredRandos;function requireRandos(){if(hasRequiredRandos)return randos;hasRequiredRandos=1,Object.defineProperty(randos,"__esModule",{value:!0}),randos.default=l;var r=requireRandomWeight(),i=s(r);function s(o){return o&&o.__esModule?o:{default:o}}function l(o){for(var y=new Float32Array(o),f=0;f<o;f++)y[f]=(0,i.default)();return y}return randos}var range={},hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1,Object.defineProperty(range,"__esModule",{value:!0}),range.default=r;function r(i,s){for(var l=[];i<s;i++)l.push(i);return l}return range}var zeros={},hasRequiredZeros;function requireZeros(){if(hasRequiredZeros)return zeros;hasRequiredZeros=1,Object.defineProperty(zeros,"__esModule",{value:!0}),zeros.default=r;function r(i){return new Float32Array(i)}return zeros}var lookupTable={},hasRequiredLookupTable;function requireLookupTable(){if(hasRequiredLookupTable)return lookupTable;hasRequiredLookupTable=1,Object.defineProperty(lookupTable,"__esModule",{value:!0}),lookupTable.default=r;function r(i,s){if(this.length=0,s){this.prop=s;for(var l=this.table={},o=0;o<i.length;o++){var y=i[o],f=y[s];for(var g in f)l.hasOwnProperty(g)||(l[g]=this.length++)}}else if(Array.isArray(i[0]))for(var v=this.table={},p=0;p<i.length;p++)for(var d=i[p],S=0;S<d.length;S++){var x=d[S];for(var T in x)v.hasOwnProperty(T)||(v[T]=this.length++)}else for(var O=this.table={},m=0;m<i.length;m++){var E=i[m];for(var _ in E)O.hasOwnProperty(_)||(O[_]=this.length++)}}return lookupTable}var cast={},hasRequiredCast;function requireCast(){if(hasRequiredCast)return cast;hasRequiredCast=1,Object.defineProperty(cast,"__esModule",{value:!0}),cast.arraysToFloat32Arrays=r,cast.arrayToFloat32Arrays=i,cast.arrayToFloat32Array=s,cast.objectsToFloat32Arrays=l,cast.objectToFloat32Arrays=o,cast.objectToFloat32Array=y;function r(f){for(var g=[],v=0;v<f.length;v++)g.push(Float32Array.from(f[v]));return g}function i(f){for(var g=[],v=0;v<f.length;v++)g.push(Float32Array.from([f[v]]));return g}function s(f){return Float32Array.from(f)}function l(f,g,v){for(var p=[],d=0;d<f.length;d++){var S=f[d],x=new Float32Array(v);for(var T in S)S.hasOwnProperty(T)&&(x[g[T]]=S[T]);p.push(x)}return p}function o(f){var g=[];for(var v in f)g.push(Float32Array.from([f[v]]));return g}function y(f,g,v){var p=new Float32Array(v);for(var d in f)f.hasOwnProperty(d)&&(p[g[d]]=f[d]);return p}return cast}var hasRequiredNeuralNetwork;function requireNeuralNetwork(){if(hasRequiredNeuralNetwork)return neuralNetwork;hasRequiredNeuralNetwork=1,Object.defineProperty(neuralNetwork,"__esModule",{value:!0});var r=function(){function Y(H,k){for(var R=0;R<k.length;R++){var D=k[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(H,D.key,D)}}return function(H,k,R){return k&&Y(H.prototype,k),R&&Y(H,R),H}}(),i=requireBrowser$1(),s=A(i),l=requireLookup(),o=A(l),y=requireMax(),f=A(y),g=requireMse(),v=A(g),p=requireRandos(),d=A(p),S=requireRange(),x=A(S),T=requireToArray(),O=A(T),m=requireZeros(),E=A(m),_=requireLookupTable(),b=A(_),c=requireCast();function A(Y){return Y&&Y.__esModule?Y:{default:Y}}function U(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}var V=function(){r(Y,null,[{key:"trainDefaults",get:function(){return{iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.3,momentum:.1,callback:null,callbackPeriod:10,timeout:1/0,praxis:null,beta1:.9,beta2:.999,epsilon:1e-8}}},{key:"defaults",get:function(){return{leakyReluAlpha:.01,binaryThresh:.5,hiddenLayers:null,activation:"sigmoid"}}}]);function Y(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};U(this,Y),Object.assign(this,this.constructor.defaults,H),this.trainOpts={},this.updateTrainingOptions(Object.assign({},this.constructor.trainDefaults,H)),this.sizes=null,this.outputLayer=null,this.biases=null,this.weights=null,this.outputs=null,this.deltas=null,this.changes=null,this.errors=null,this.errorCheckInterval=1,this.constructor.prototype.hasOwnProperty("runInput")||(this.runInput=null),this.constructor.prototype.hasOwnProperty("calculateDeltas")||(this.calculateDeltas=null),this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null}return r(Y,[{key:"initialize",value:function(){if(!this.sizes)throw new Error("Sizes must be set before initializing");this.outputLayer=this.sizes.length-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[];for(var k=0;k<=this.outputLayer;k++){var R=this.sizes[k];if(this.deltas[k]=(0,E.default)(R),this.errors[k]=(0,E.default)(R),this.outputs[k]=(0,E.default)(R),k>0){this.biases[k]=(0,d.default)(R),this.weights[k]=new Array(R),this.changes[k]=new Array(R);for(var D=0;D<R;D++){var B=this.sizes[k-1];this.weights[k][D]=(0,d.default)(B),this.changes[k][D]=(0,E.default)(B)}}}this.setActivation(),this.trainOpts.praxis==="adam"&&this._setupAdam()}},{key:"setActivation",value:function(k){switch(this.activation=k||this.activation,this.activation){case"sigmoid":this.runInput=this.runInput||this._runInputSigmoid,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasSigmoid;break;case"relu":this.runInput=this.runInput||this._runInputRelu,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasRelu;break;case"leaky-relu":this.runInput=this.runInput||this._runInputLeakyRelu,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasLeakyRelu;break;case"tanh":this.runInput=this.runInput||this._runInputTanh,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasTanh;break;default:throw new Error("unknown activation "+this.activation+", The activation should be one of ['sigmoid', 'relu', 'leaky-relu', 'tanh']")}}},{key:"run",value:function(k){if(!this.isRunnable)return null;this.inputLookup&&(k=o.default.toArray(this.inputLookup,k,this.inputLookupLength));var R=this.runInput(k).slice(0);return this.outputLookup&&(R=o.default.toObject(this.outputLookup,R)),R}},{key:"_runInputSigmoid",value:function(k){this.outputs[0]=k;for(var R=null,D=1;D<=this.outputLayer;D++){for(var B=0;B<this.sizes[D];B++){for(var M=this.weights[D][B],j=this.biases[D][B],z=0;z<M.length;z++)j+=M[z]*k[z];this.outputs[D][B]=1/(1+Math.exp(-j))}R=k=this.outputs[D]}return R}},{key:"_runInputRelu",value:function(k){this.outputs[0]=k;for(var R=null,D=1;D<=this.outputLayer;D++){for(var B=0;B<this.sizes[D];B++){for(var M=this.weights[D][B],j=this.biases[D][B],z=0;z<M.length;z++)j+=M[z]*k[z];this.outputs[D][B]=j<0?0:j}R=k=this.outputs[D]}return R}},{key:"_runInputLeakyRelu",value:function(k){this.outputs[0]=k;for(var R=this.leakyReluAlpha,D=null,B=1;B<=this.outputLayer;B++){for(var M=0;M<this.sizes[B];M++){for(var j=this.weights[B][M],z=this.biases[B][M],q=0;q<j.length;q++)z+=j[q]*k[q];this.outputs[B][M]=z<0?0:R*z}D=k=this.outputs[B]}return D}},{key:"_runInputTanh",value:function(k){this.outputs[0]=k;for(var R=null,D=1;D<=this.outputLayer;D++){for(var B=0;B<this.sizes[D];B++){for(var M=this.weights[D][B],j=this.biases[D][B],z=0;z<M.length;z++)j+=M[z]*k[z];this.outputs[D][B]=Math.tanh(j)}R=k=this.outputs[D]}return R}},{key:"verifyIsInitialized",value:function(k){var R=this;this.sizes||(this.sizes=[],this.sizes.push(k[0].input.length),this.hiddenLayers?this.hiddenLayers.forEach(function(D){R.sizes.push(D)}):this.sizes.push(Math.max(3,Math.floor(k[0].input.length/2))),this.sizes.push(k[0].output.length),this.initialize())}},{key:"updateTrainingOptions",value:function(k){var R=this.constructor.trainDefaults;for(var D in R)R.hasOwnProperty(D)&&(this.trainOpts[D]=k.hasOwnProperty(D)?k[D]:R[D]);this.validateTrainingOptions(this.trainOpts),this.setLogMethod(k.log||this.trainOpts.log),this.activation=k.activation||this.activation}},{key:"validateTrainingOptions",value:function(k){var R={iterations:function(M){return typeof M=="number"&&M>0},errorThresh:function(M){return typeof M=="number"&&M>0&&M<1},log:function(M){return typeof M=="function"||typeof M=="boolean"},logPeriod:function(M){return typeof M=="number"&&M>0},learningRate:function(M){return typeof M=="number"&&M>0&&M<1},momentum:function(M){return typeof M=="number"&&M>0&&M<1},callback:function(M){return typeof M=="function"||M===null},callbackPeriod:function(M){return typeof M=="number"&&M>0},timeout:function(M){return typeof M=="number"&&M>0}};for(var D in R)if(R.hasOwnProperty(D)&&k.hasOwnProperty(D)&&!R[D](k[D]))throw new Error("["+D+", "+k[D]+"] is out of normal training range, your network will probably not train.")}},{key:"getTrainOptsJSON",value:function(){var k=this;return Object.keys(this.constructor.trainDefaults).reduce(function(R,D){return D==="timeout"&&k.trainOpts[D]===1/0||D==="callback"||(k.trainOpts[D]&&(R[D]=k.trainOpts[D]),D==="log"&&(R.log=typeof R.log=="function")),R},{})}},{key:"setLogMethod",value:function(k){typeof k=="function"?this.trainOpts.log=k:k?this.trainOpts.log=console.log:this.trainOpts.log=!1}},{key:"calculateTrainingError",value:function(k){for(var R=0,D=0;D<k.length;++D)R+=this.trainPattern(k[D],!0);return R/k.length}},{key:"trainPatterns",value:function(k){for(var R=0;R<k.length;++R)this.trainPattern(k[R])}},{key:"trainingTick",value:function(k,R,D){return R.iterations>=this.trainOpts.iterations||R.error<=this.trainOpts.errorThresh||Date.now()>=D?!1:(R.iterations++,this.trainOpts.log&&R.iterations%this.trainOpts.logPeriod===0?(R.error=this.calculateTrainingError(k),this.trainOpts.log("iterations: "+R.iterations+", training error: "+R.error)):R.iterations%this.errorCheckInterval===0?R.error=this.calculateTrainingError(k):this.trainPatterns(k),this.trainOpts.callback&&R.iterations%this.trainOpts.callbackPeriod===0&&this.trainOpts.callback({iterations:R.iterations,error:R.error}),!0)}},{key:"prepTraining",value:function(k,R){this.updateTrainingOptions(R),k=this.formatData(k);var D=Date.now()+this.trainOpts.timeout,B={error:1,iterations:0};return this.verifyIsInitialized(k),{data:k,status:B,endTime:D}}},{key:"train",value:function(k){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=void 0,B=void 0,M=this.prepTraining(k,R);for(k=M.data,D=M.status,B=M.endTime;this.trainingTick(k,D,B););return D}},{key:"trainAsync",value:function(k){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=void 0,M=void 0,j=this.prepTraining(k,D);return k=j.data,B=j.status,M=j.endTime,new Promise(function(z,q){try{var K=new s.default(new Array(R.trainOpts.iterations),{delay:!0,each:function(){return R.trainingTick(k,B,M)||K.stop()},done:function(){return z(B)}});K.tick()}catch(ee){q({trainError:ee,status:B})}})}},{key:"trainPattern",value:function(k,R){return this.runInput(k.input),this.calculateDeltas(k.output),this.adjustWeights(),R?(0,v.default)(this.errors[this.outputLayer]):null}},{key:"_calculateDeltasSigmoid",value:function(k){for(var R=this.outputLayer;R>=0;R--)for(var D=0;D<this.sizes[R];D++){var B=this.outputs[R][D],M=0;if(R===this.outputLayer)M=k[D]-B;else for(var j=this.deltas[R+1],z=0;z<j.length;z++)M+=j[z]*this.weights[R+1][z][D];this.errors[R][D]=M,this.deltas[R][D]=M*B*(1-B)}}},{key:"_calculateDeltasRelu",value:function(k){for(var R=this.outputLayer;R>=0;R--)for(var D=0;D<this.sizes[R];D++){var B=this.outputs[R][D],M=0;if(R===this.outputLayer)M=k[D]-B;else for(var j=this.deltas[R+1],z=0;z<j.length;z++)M+=j[z]*this.weights[R+1][z][D];this.errors[R][D]=M,this.deltas[R][D]=B>0?M:0}}},{key:"_calculateDeltasLeakyRelu",value:function(k){for(var R=this.leakyReluAlpha,D=this.outputLayer;D>=0;D--)for(var B=0;B<this.sizes[D];B++){var M=this.outputs[D][B],j=0;if(D===this.outputLayer)j=k[B]-M;else for(var z=this.deltas[D+1],q=0;q<z.length;q++)j+=z[q]*this.weights[D+1][q][B];this.errors[D][B]=j,this.deltas[D][B]=M>0?j:R*j}}},{key:"_calculateDeltasTanh",value:function(k){for(var R=this.outputLayer;R>=0;R--)for(var D=0;D<this.sizes[R];D++){var B=this.outputs[R][D],M=0;if(R===this.outputLayer)M=k[D]-B;else for(var j=this.deltas[R+1],z=0;z<j.length;z++)M+=j[z]*this.weights[R+1][z][D];this.errors[R][D]=M,this.deltas[R][D]=(1-B*B)*M}}},{key:"adjustWeights",value:function(){for(var k=1;k<=this.outputLayer;k++)for(var R=this.outputs[k-1],D=0;D<this.sizes[k];D++){for(var B=this.deltas[k][D],M=0;M<R.length;M++){var j=this.changes[k][D][M];j=this.trainOpts.learningRate*B*R[M]+this.trainOpts.momentum*j,this.changes[k][D][M]=j,this.weights[k][D][M]+=j}this.biases[k][D]+=this.trainOpts.learningRate*B}}},{key:"_setupAdam",value:function(){this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0;for(var k=0;k<=this.outputLayer;k++){var R=this.sizes[k];if(k>0){this.biasChangesLow[k]=(0,E.default)(R),this.biasChangesHigh[k]=(0,E.default)(R),this.changesLow[k]=new Array(R),this.changesHigh[k]=new Array(R);for(var D=0;D<R;D++){var B=this.sizes[k-1];this.changesLow[k][D]=(0,E.default)(B),this.changesHigh[k][D]=(0,E.default)(B)}}}this.adjustWeights=this._adjustWeightsAdam}},{key:"_adjustWeightsAdam",value:function(){var k=this.trainOpts;this.iterations++;for(var R=1;R<=this.outputLayer;R++)for(var D=this.outputs[R-1],B=0;B<this.sizes[R];B++){for(var M=this.deltas[R][B],j=0;j<D.length;j++){var z=M*D[j],q=this.changesLow[R][B][j]*k.beta1+(1-k.beta1)*z,K=this.changesHigh[R][B][j]*k.beta2+(1-k.beta2)*z*z,ee=q/(1-Math.pow(k.beta1,this.iterations)),L=K/(1-Math.pow(k.beta2,this.iterations));this.changesLow[R][B][j]=q,this.changesHigh[R][B][j]=K,this.weights[R][B][j]+=this.trainOpts.learningRate*ee/(Math.sqrt(L)+k.epsilon)}var Q=this.deltas[R][B],ie=this.biasChangesLow[R][B]*k.beta1+(1-k.beta1)*Q,J=this.biasChangesHigh[R][B]*k.beta2+(1-k.beta2)*Q*Q,ue=this.biasChangesLow[R][B]/(1-Math.pow(k.beta1,this.iterations)),de=this.biasChangesHigh[R][B]/(1-Math.pow(k.beta2,this.iterations));this.biasChangesLow[R][B]=ie,this.biasChangesHigh[R][B]=J,this.biases[R][B]+=k.learningRate*ue/(Math.sqrt(de)+k.epsilon)}}},{key:"formatData",value:function(k){if(Array.isArray(k)||(k=[k]),!Array.isArray(k[0].input))if(this.inputLookup)this.inputLookupLength=Object.keys(this.inputLookup).length;else{var R=new b.default(k,"input");this.inputLookup=R.table,this.inputLookupLength=R.length}if(!Array.isArray(k[0].output))if(this.outputLookup)this.outputLookupLength=Object.keys(this.outputLookup).length;else{var D=new b.default(k,"output");this.outputLookup=D.table,this.outputLookupLength=D.length}if(typeof this._formatInput>"u"&&(this._formatInput=ne(k[0].input,this.inputLookup),this._formatOutput=ne(k[0].output,this.outputLookup)),this._formatInput&&this._formatOutput){for(var B=[],M=0;M<k.length;M++)B.push({input:this._formatInput(k[M].input),output:this._formatOutput(k[M].output)});return B}else if(this._formatInput){for(var j=[],z=0;z<k.length;z++)j.push({input:this._formatInput(k[z].input),output:k[z].output});return j}else if(this._formatOutput){for(var q=[],K=0;K<k.length;K++)q.push({input:k[K].input,output:this._formatOutput(k[K].output)});return q}return k}},{key:"addFormat",value:function(k){this.inputLookup=o.default.addKeys(k.input,this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=o.default.addKeys(k.output,this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length)}},{key:"test",value:function(k){var R=this;k=this.formatData(k);var D=k[0].output.length===1,B=[],M=0;if(D){for(var j=0,z=0,q=0,K=0,ee=function(J){var ue=R.runInput(k[J].input),de=k[J].output,P=ue[0]>R.binaryThresh?1:0,I=de[0];if(P!==I){var X=k[J];B.push({input:X.input,output:X.output,actual:P,expected:I})}P===0&&I===0?K++:P===1&&I===1?q++:P===0&&I===1?z++:P===1&&I===0&&j++,M+=(0,v.default)(ue.map(function($,le){return de[le]-$}))},L=0;L<k.length;L++)ee(L);return{error:M/k.length,misclasses:B,total:k.length,trueNeg:K,truePos:q,falseNeg:z,falsePos:j,precision:q>0?q/(q+j):0,recall:q>0?q/(q+z):0,accuracy:(K+q)/k.length}}for(var Q=function(J){var ue=R.runInput(k[J].input),de=k[J].output,P=ue.indexOf((0,f.default)(ue)),I=de.indexOf((0,f.default)(de));if(P!==I){var X=k[J];B.push({input:X.input,output:X.output,actual:P,expected:I})}M+=(0,v.default)(ue.map(function($,le){return de[le]-$}))},L=0;L<k.length;L++)Q(L);return{error:M/k.length,misclasses:B,total:k.length}}},{key:"toJSON",value:function(){for(var k=[],R=0;R<=this.outputLayer;R++){k[R]={};var D=void 0;R===0&&this.inputLookup?D=Object.keys(this.inputLookup):this.outputLookup&&R===this.outputLayer?D=Object.keys(this.outputLookup):D=(0,x.default)(0,this.sizes[R]);for(var B=0;B<D.length;B++){var M=D[B];if(k[R][M]={},R>0){k[R][M].bias=this.biases[R][B],k[R][M].weights={};for(var j in k[R-1]){var z=j;R===1&&this.inputLookup&&(z=this.inputLookup[j]),k[R][M].weights[j]=this.weights[R][B][z]}}}}return{sizes:this.sizes.slice(0),layers:k,outputLookup:this.outputLookup!==null,inputLookup:this.inputLookup!==null,activation:this.activation,trainOpts:this.getTrainOptsJSON()}}},{key:"fromJSON",value:function(k){Object.assign(this,this.constructor.defaults,k),this.sizes=k.sizes,this.initialize();for(var R=0;R<=this.outputLayer;R++){var D=k.layers[R];if(R===0&&(!D[0]||k.inputLookup)?(this.inputLookup=o.default.toHash(D),this.inputLookupLength=Object.keys(this.inputLookup).length):R===this.outputLayer&&(!D[0]||k.outputLookup)&&(this.outputLookup=o.default.toHash(D)),R>0){var B=Object.keys(D);this.sizes[R]=B.length;for(var M in B){var j=B[M];this.biases[R][M]=D[j].bias,this.weights[R][M]=(0,O.default)(D[j].weights)}}}return k.hasOwnProperty("trainOpts")&&this.updateTrainingOptions(k.trainOpts),this}},{key:"toFunction",value:function(){var k=this.activation,R=this.leakyReluAlpha,D=!1;function B(K,ee,L){if(ee===0)return typeof L=="string"?"input['"+L+"']":"input["+L+"]";var Q=K[ee],ie=Q[L],J=["(",ie.bias];for(var ue in ie.weights)ie.weights[ue]<0?J.push(ie.weights[ue]+"*"+B(K,ee-1,ue)):J.push("+"+ie.weights[ue]+"*"+B(K,ee-1,ue));switch(J.push(")"),k){case"sigmoid":return"1/(1+1/Math.exp("+J.join("")+"))";case"relu":return D=!0,"((v="+J.join("")+")<0?0:v)";case"leaky-relu":return D=!0,"((v="+J.join("")+")<0?0:"+R+"*v)";case"tanh":return"Math.tanh("+J.join("")+")";default:throw new Error("unknown activation type "+k)}}var M=this.toJSON().layers,j=[],z=void 0;for(var q in M[M.length-1])j.push(B(M,M.length-1,q));return this.outputLookup?z="{"+Object.keys(this.outputLookup).map(function(K,ee){return"'"+K+"':"+j[ee]})+"}":z="["+j.join(",")+"]",new Function("input",(D?"var v;":"")+"return "+z+";")}},{key:"isRunnable",get:function(){var k=this;if(!this.runInput)return console.error("Activation function has not been initialized, did you run train()?"),!1;var R=["sizes","outputLayer","biases","weights","outputs","deltas","changes","errors"].filter(function(D){return k[D]===null});return R.length>0?(console.error("Some settings have not been initialized correctly, did you run train()? Found issues with: "+R.join(", ")),!1):!0}}]),Y}();neuralNetwork.default=V;function ne(Y,H){if(Y.buffer instanceof ArrayBuffer)return null;if(Array.isArray(Y))return c.arrayToFloat32Array;var k=Object.keys(H).length;return function(R){var D=new Float32Array(k);for(var B in H)D[H[B]]=R[B]||0;return D}}return neuralNetwork}var neuralNetworkGpu={},dist={exports:{}},utilsCore,hasRequiredUtilsCore;function requireUtilsCore(){if(hasRequiredUtilsCore)return utilsCore;hasRequiredUtilsCore=1;var r=function(){function p(d,S){for(var x=0;x<S.length;x++){var T=S[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,S,x){return S&&p(d.prototype,S),x&&p(d,x),d}}();function i(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}var s=function(){function p(){i(this,p)}return r(p,null,[{key:"isCanvas",value:function(S){return S!==null&&(S.nodeName&&S.getContext&&S.nodeName.toUpperCase()==="CANVAS"||typeof OffscreenCanvas<"u"&&S instanceof OffscreenCanvas)}},{key:"isCanvasSupported",value:function(){return l}},{key:"initCanvas",value:function(){if(!l)return null;var S=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(0,0);return S.width=2,S.height=2,S}},{key:"isWebGl",value:function(S){return S&&typeof S.getExtension=="function"}},{key:"isWebGl2",value:function(S){return S&&typeof WebGL2RenderingContext<"u"&&S instanceof WebGL2RenderingContext}},{key:"isWebGlSupported",value:function(){return f}},{key:"isWebGl2Supported",value:function(){return g}},{key:"isWebGlDrawBuffersSupported",value:function(){return v}},{key:"initWebGlDefaultOptions",value:function(){return{alpha:!1,depth:!1,antialias:!1}}},{key:"initWebGl",value:function(S){if((typeof l<"u"||S===null)&&!l)return null;if(!p.isCanvas(S))throw new Error("Invalid canvas object - "+S);var x=null,T=p.initWebGlDefaultOptions();try{x=S.getContext("experimental-webgl",T)}catch{}return x===null&&(x=S.getContext("webgl2",T)||S.getContext("webgl",T)),x&&(x.OES_texture_float=x.getExtension("OES_texture_float"),x.OES_texture_float_linear=x.getExtension("OES_texture_float_linear"),x.OES_element_index_uint=x.getExtension("OES_element_index_uint")),x}},{key:"initWebGl2",value:function(S){if((typeof l<"u"||S===null)&&!l)return null;if(!p.isCanvas(S))throw new Error("Invalid canvas object - "+S);return S.getContext("webgl2",p.initWebGlDefaultOptions())}},{key:"checkOutput",value:function(S){if(!S||!Array.isArray(S))throw new Error("kernel.output not an array");for(var x=0;x<S.length;x++)if(isNaN(S[x])||S[x]<1)throw new Error("kernel.output["+x+"] incorrectly defined as `"+S[x]+"`, needs to be numeric, and greater than 0")}}]),p}(),l=typeof document<"u"?s.isCanvas(document.createElement("canvas")):typeof OffscreenCanvas<"u",o=s.initWebGl(s.initCanvas()),y=s.initWebGl2(s.initCanvas()),f=s.isWebGl(o),g=s.isWebGl2(y),v=f&&!!o.getExtension("WEBGL_draw_buffers");return f?(s.OES_texture_float=o.OES_texture_float,s.OES_texture_float_linear=o.OES_texture_float_linear,s.OES_element_index_uint=o.OES_element_index_uint):(s.OES_texture_float=!1,s.OES_texture_float_linear=!1,s.OES_element_index_uint=!1),utilsCore=s,utilsCore}var input,hasRequiredInput;function requireInput(){if(hasRequiredInput)return input;hasRequiredInput=1;function r(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}return input=function i(s,l){if(r(this,i),this.value=s,Array.isArray(l)){this.size=[];for(var o=0;o<l.length;o++)this.size[o]=l[o];for(;this.size.length<3;)this.size.push(1)}else l.z?this.size=[l.x,l.y,l.z]:l.y?this.size=[l.x,l.y,1]:this.size=[l.x,1,1]},input}var texture,hasRequiredTexture;function requireTexture(){if(hasRequiredTexture)return texture;hasRequiredTexture=1;var r=function(){function s(l,o){for(var y=0;y<o.length;y++){var f=o[y];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,o,y){return o&&s(l.prototype,o),y&&s(l,y),l}}();function i(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}return texture=function(){function s(l,o,y,f,g){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"NumberTexture";i(this,s),this.texture=l,this.size=o,this.dimensions=y,this.output=f,this.webGl=g,this.kernel=null,this.type=v}return r(s,[{key:"toArray",value:function(o){if(!o)throw new Error("You need to pass the GPU object for toArray to work.");return this.kernel?this.kernel(this):(this.kernel=o.createKernel(function(y){return y[this.thread.z][this.thread.y][this.thread.x]}).setOutput(this.output),this.kernel(this))}},{key:"delete",value:function(){return this.webGl.deleteTexture(this.texture)}}]),s}(),texture}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},i=function(){function _(b,c){for(var A=0;A<c.length;A++){var U=c[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(b,U.key,U)}}return function(b,c,A){return c&&_(b.prototype,c),A&&_(b,A),b}}();function s(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function l(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function o(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y=requireUtilsCore(),f=requireInput(),g=requireTexture(),v=/function ([^(]*)/,p=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,d=/([^\s,]+)/g,S=function(){var _=new ArrayBuffer(4),b=new Uint32Array(_),c=new Uint8Array(_);if(b[0]=3735928559,c[0]===239)return"LE";if(c[0]===222)return"BE";throw new Error("unknown endianness")}(),x=null,T=null,O=function(){try{return new Function("let i = 1; const j = 1;")(),!0}catch{return!1}}(),m=null,E=function(_){o(b,_);function b(){return s(this,b),l(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,null,[{key:"systemEndianness",value:function(){return S}},{key:"isFunction",value:function(A){return typeof A=="function"}},{key:"isFunctionString",value:function(A){return A!==null?A.toString().slice(0,8).toLowerCase()==="function":!1}},{key:"getFunctionNameFromString",value:function(A){return v.exec(A)[1]}},{key:"getFunctionBodyFromString",value:function(A){return A.substring(A.indexOf("{")+1,A.lastIndexOf("}"))}},{key:"getParamNamesFromString",value:function(A){var U=A.toString().replace(p,""),V=U.slice(U.indexOf("(")+1,U.indexOf(")")).match(d);return V===null&&(V=[]),V}},{key:"clone",value:function(A){if(A===null||(typeof A>"u"?"undefined":r(A))!=="object"||A.hasOwnProperty("isActiveClone"))return A;var U=A.constructor();for(var V in A)Object.prototype.hasOwnProperty.call(A,V)&&(A.isActiveClone=null,U[V]=b.clone(A[V]),delete A.isActiveClone);return U}},{key:"newPromise",value:function(A){var U=Promise||small_promise;if(U===null)throw TypeError("Browser is missing Promise implementation. Consider adding small_promise.js polyfill");return new U(A)}},{key:"functionBinder",value:function(A,U){return A.bind?A.bind(U):function(){var V=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return A.apply(U,V)}}},{key:"isArray",value:function(A){return!isNaN(A.length)}},{key:"getArgumentType",value:function(A){return b.isArray(A)?A[0].nodeName==="IMG"?"HTMLImageArray":"Array":typeof A=="number"?Number.isInteger(A)?"Integer":"Float":A instanceof g?A.type:A instanceof f?"Input":A.nodeName==="IMG"?"HTMLImage":"Unknown"}},{key:"isFloatReadPixelsSupported",value:function(){if(x!==null)return x;var A=requireDist(),U=new A({mode:"webgl-validator"}),V=U.createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return x=V[0]===1,U.destroy(),x}},{key:"isFloatReadPixelsSupportedWebGL2",value:function(){if(T!==null)return T;var A=requireDist(),U=new A({mode:"webgl2-validator"}),V=U.createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return T=V[0]===1,U.destroy(),T}},{key:"hasIntegerDivisionAccuracyBug",value:function(){if(m!==null)return m;var A=requireDist(),U=new A({mode:"webgl-validator"}),V=U.createKernel(function(ne,Y){return ne[this.thread.x]/Y[this.thread.x]},{output:[1]})([6,6030401],[3,3991]);return m=V[0]!==2||V[1]!==1511,U.destroy(),m}},{key:"isMixedIdentifiersSupported",value:function(){return O}},{key:"dimToTexSize",value:function(A,U,V){for(var ne=U[0],Y=U[0],H=U[1],k=1;k<U.length;k++)ne*=U[k];if(A.floatTextures&&(!V||A.floatOutput)&&(Y=ne=Math.ceil(ne/4)),H>1&&Y*H===ne)return[Y,H];for(var R=Math.sqrt(ne),D=Math.ceil(R),B=Math.floor(R);D*B>ne;)D--,B=Math.ceil(ne/D);return Y=B,H=Math.ceil(ne/Y),[Y,H]}},{key:"getDimensions",value:function(A,U){var V=void 0;if(b.isArray(A)){for(var ne=[],Y=A;b.isArray(Y);)ne.push(Y.length),Y=Y[0];V=ne.reverse()}else if(A instanceof g)V=A.output;else if(A instanceof f)V=A.size;else throw"Unknown dimensions of "+A;if(U)for(V=b.clone(V);V.length<3;)V.push(1);return new Int32Array(V)}},{key:"pad",value:function(A,U){function V(k){return Array.apply(null,new Array(k)).map(Number.prototype.valueOf,0)}for(var ne=A.length+U*2,Y=A.map(function(k){return[].concat(V(U),k,V(U))}),H=0;H<U;H++)Y=[].concat([V(ne)],Y,[V(ne)]);return Y}},{key:"flatten2dArrayTo",value:function(A,U){for(var V=0,ne=0;ne<A.length;ne++)U.set(A[ne],V),V+=A[ne].length}},{key:"flatten3dArrayTo",value:function(A,U){for(var V=0,ne=0;ne<A.length;ne++)for(var Y=0;Y<A[ne].length;Y++)U.set(A[ne][Y],V),V+=A[ne][Y].length}},{key:"flattenTo",value:function(A,U){b.isArray(A[0])?b.isArray(A[0][0])?b.flatten3dArrayTo(A,U):b.flatten2dArrayTo(A,U):U.set(A)}},{key:"splitArray",value:function(A,U){for(var V=[],ne=0;ne<A.length;ne+=U)V.push(new A.constructor(A.buffer,ne*4+A.byteOffset,U));return V}},{key:"getAstString",value:function(A,U){var V=Array.isArray(A)?A:A.split(/\r?\n/g),ne=U.loc.start,Y=U.loc.end,H=[];H.push(V[ne.line-1].slice(ne.column));for(var k=ne.line;k<Y.line-1;k++)H.push(V[k]);return H.push(V[Y.line-1].slice(0,Y.column)),H.join(`
`)}},{key:"allPropertiesOf",value:function(A){var U=[];do U.push.apply(U,Object.getOwnPropertyNames(A));while(A=Object.getPrototypeOf(A));return U}}]),b}(y);return Object.assign(E,y),utils=E,utils}var kernelRunShortcut,hasRequiredKernelRunShortcut;function requireKernelRunShortcut(){if(hasRequiredKernelRunShortcut)return kernelRunShortcut;hasRequiredKernelRunShortcut=1;var r=requireUtils();return kernelRunShortcut=function(s){var l=function(){return s.run.apply(s,arguments)};return r.allPropertiesOf(s).forEach(function(o){o[0]==="_"&&o[1]==="_"||(typeof s[o]=="function"?o.substring(0,3)==="add"||o.substring(0,3)==="set"?l[o]=function(){return s[o].apply(s,arguments),l}:l[o]=s[o].bind(s):(l.__defineGetter__(o,function(){return s[o]}),l.__defineSetter__(o,function(y){s[o]=y})))}),l.kernel=s,l},kernelRunShortcut}var runnerBase,hasRequiredRunnerBase;function requireRunnerBase(){if(hasRequiredRunnerBase)return runnerBase;hasRequiredRunnerBase=1;var r=function(){function o(y,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,f,g){return f&&o(y.prototype,f),g&&o(y,g),y}}();function i(o,y){if(!(o instanceof y))throw new TypeError("Cannot call a class as a function")}var s=requireUtils(),l=requireKernelRunShortcut();return runnerBase=function(){function o(y,f){i(this,o),f=f||{},this.kernel=f.kernel,this.canvas=f.canvas,this.webGl=f.webGl,this.fn=null,this.functionBuilder=y,this.fnString=null,this.endianness=s.systemEndianness()}return r(o,[{key:"textureToArray",value:function(f){var g=this.createKernel(function(v){return v[this.thread.z][this.thread.y][this.thread.x]});return g(f)}},{key:"deleteTexture",value:function(f){this.webGl.deleteTexture(f.texture)}},{key:"buildPromiseKernel",value:function(){throw new Error("not yet implemented")}},{key:"getMode",value:function(){throw new Error('"mode" not implemented on BaseRunner')}},{key:"buildKernel",value:function(f,g){g=Object.assign({},g||{});var v=f.toString();return g.functionBuilder||(g.functionBuilder=this.functionBuilder),g.canvas||(g.canvas=this.canvas),g.webGl||(g.webGl=this.webgl),l(new this.Kernel(v,g))}}]),o}(),runnerBase}var kernelBase,hasRequiredKernelBase;function requireKernelBase(){if(hasRequiredKernelBase)return kernelBase;hasRequiredKernelBase=1;var r=function(){function o(y,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,f,g){return f&&o(y.prototype,f),g&&o(y,g),y}}();function i(o,y){if(!(o instanceof y))throw new TypeError("Cannot call a class as a function")}var s=requireUtils(),l=requireInput();return kernelBase=function(){function o(y,f){i(this,o),this.paramNames=s.getParamNamesFromString(y),this.fnString=y,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.wraparound=null,this.hardcodeConstants=null,this.outputToTexture=null,this.outputImmutable=null,this.texSize=null,this._canvas=null,this._webGl=null,this.threadDim=null,this.floatTextures=null,this.floatOutput=null,this.floatOutputForce=null,this.addFunction=null,this.functions=null,this.nativeFunctions=null,this.subKernels=null,this.subKernelProperties=null,this.subKernelNames=null,this.subKernelOutputVariableNames=null,this.functionBuilder=null,this.paramTypes=null,this.paramSizes=null,this.constantTypes=null,this.fixIntegerDivisionAccuracy=null;for(var g in f)!f.hasOwnProperty(g)||!this.hasOwnProperty(g)||(this[g]=f[g]);f.hasOwnProperty("canvas")&&(this._canvas=f.canvas),f.hasOwnProperty("webGl")&&(this._webGl=f.webGl),f.hasOwnProperty("output")&&this.setOutput(f.output),this._canvas||(this._canvas=s.initCanvas())}return r(o,[{key:"build",value:function(){throw new Error('"build" not defined on Base')}},{key:"setupParams",value:function(f){this.paramTypes=[],this.paramSizes=[];for(var g=0;g<f.length;g++){var v=f[g];this.paramTypes.push(s.getArgumentType(v)),this.paramSizes.push(v.constructor===l?v.size:null)}}},{key:"setupConstants",value:function(){if(this.constantTypes={},this.constants)for(var f in this.constants)this.constantTypes[f]=s.getArgumentType(this.constants[f])}},{key:"setFunctions",value:function(f){return this.functions=f,this}},{key:"setOutput",value:function(f){return f.hasOwnProperty("x")?f.hasOwnProperty("y")?f.hasOwnProperty("z")?this.output=[f.x,f.y,f.z]:this.output=[f.x,f.y]:this.output=[f.x]:this.output=f,this}},{key:"setDebug",value:function(f){return this.debug=f,this}},{key:"setGraphical",value:function(f){return this.graphical=f,this}},{key:"setLoopMaxIterations",value:function(f){return this.loopMaxIterations=f,this}},{key:"setFixIntegerDivisionAccuracy",value:function(f){return this.fixIntegerDivisionAccuracy=f,this}},{key:"setConstants",value:function(f){return this.constants=f,this}},{key:"setWraparound",value:function(f){return console.warn("Wraparound mode is not supported and undocumented."),this.wraparound=f,this}},{key:"setHardcodeConstants",value:function(f){return this.hardcodeConstants=f,this}},{key:"setOutputToTexture",value:function(f){return this.outputToTexture=f,this}},{key:"setOutputImmutable",value:function(f){return this.outputImmutable=f,this}},{key:"setFloatTextures",value:function(f){return this.floatTextures=f,this}},{key:"setFloatOutput",value:function(f){return this.floatOutput=f,this}},{key:"setFloatOutputForce",value:function(f){return this.floatOutputForce=f,this}},{key:"setCanvas",value:function(f){return this._canvas=f,this}},{key:"setWebGl",value:function(f){return this._webGl=f,this}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"validateOptions",value:function(){throw new Error("validateOptions not defined")}},{key:"exec",value:function(){return this.execute.apply(this,arguments)}},{key:"execute",value:function(){var f=this,g=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return s.newPromise(function(v,p){try{v(f.run.apply(f,g))}catch(d){p(d)}})}},{key:"addSubKernel",value:function(f){return this.subKernels===null&&(this.subKernels=[],this.subKernelNames=[]),this.subKernels.push(f),this.subKernelNames.push(s.getFunctionNameFromString(f)),this}},{key:"addSubKernelProperty",value:function(f,g){if(this.subKernelProperties===null&&(this.subKernelProperties={},this.subKernelNames=[]),this.subKernelProperties.hasOwnProperty(f))throw new Error("cannot add sub kernel "+f+", already defined");return this.subKernelProperties[f]=g,this.subKernelNames.push(s.getFunctionNameFromString(g)),this}},{key:"addNativeFunction",value:function(f,g){this.functionBuilder.addNativeFunction(f,g)}},{key:"destroy",value:function(){}}]),o}(),kernelBase}var shaderFrag$1,hasRequiredShaderFrag$1;function requireShaderFrag$1(){return hasRequiredShaderFrag$1||(hasRequiredShaderFrag$1=1,shaderFrag$1=`__HEADER__;
precision highp float;
precision highp int;
precision highp sampler2D;

const float LOOP_MAX = __LOOP_MAX__;

__CONSTANTS__;

varying vec2 vTexCoord;

vec4 round(vec4 x) {
  return floor(x + 0.5);
}

float round(float x) {
  return floor(x + 0.5);
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 rgba) {
  __DECODE32_ENDIANNESS__;
  rgba *= 255.0;
  vec2 gte128;
  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  rgba.b = rgba.b - 128.0 * gte128.x;
  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

vec4 encode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  rgba.rg = integerMod(rgba.rg, 256.0);
  rgba.b = integerMod(rgba.b, 128.0);
  rgba.a = exponent*0.5 + 63.5;
  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  rgba = floor(rgba);
  rgba *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return rgba;
}
// Dragons end here

float decode(vec4 rgba, int x, int bitRatio) {
  if (bitRatio == 1) {
    return decode32(rgba);
  }
  __DECODE32_ENDIANNESS__;
  int channel = integerMod(x, bitRatio);
  if (bitRatio == 4) {
    if (channel == 0) return rgba.r * 255.0;
    if (channel == 1) return rgba.g * 255.0;
    if (channel == 2) return rgba.b * 255.0;
    if (channel == 3) return rgba.a * 255.0;
  }
  else {
    if (channel == 0) return rgba.r * 255.0 + rgba.g * 65280.0;
    if (channel == 1) return rgba.b * 255.0 + rgba.a * 65280.0;
  }
}

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio,  int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  __GET_RESULT__;
  
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture2D(tex, st / vec2(texSize));
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int y, int x) {
  return get(tex, texSize, texDim, bitRatio, int(0), y, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int y, int x) {
  return getImage2D(tex, texSize, texDim, int(0), y, x);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int x) {
  return get(tex, texSize, texDim, bitRatio, int(0), int(0), x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int x) {
  return getImage2D(tex, texSize, texDim, int(0), int(0), x);
}


vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

__MAIN_PARAMS__;
__MAIN_CONSTANTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`),shaderFrag$1}var shaderVert$1,hasRequiredShaderVert$1;function requireShaderVert$1(){return hasRequiredShaderVert$1||(hasRequiredShaderVert$1=1,shaderVert$1=`precision highp float;
precision highp int;
precision highp sampler2D;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`),shaderVert$1}var kernelString$1,hasRequiredKernelString$1;function requireKernelString$1(){if(hasRequiredKernelString$1)return kernelString$1;hasRequiredKernelString$1=1;var r=requireUtils(),i=requireKernelRunShortcut();requireInput(),requireTexture();function s(o){return/^function /.test(o)&&(o=o.substring(9)),o.replace(/[_]typeof/g,"typeof")}function l(o){return o.replace(/[_]typeof/g,"typeof")}return kernelString$1=function(o,y){return`() => {
    `+i.toString()+`;
    const utils = {
      allPropertiesOf: `+l(r.allPropertiesOf.toString())+`,
      clone: `+l(r.clone.toString())+`,
      splitArray: `+l(r.splitArray.toString())+`,
      getArgumentType: `+l(r.getArgumentType.toString())+`,
      getDimensions: `+l(r.getDimensions.toString())+`,
      dimToTexSize: `+l(r.dimToTexSize.toString())+`,
      flattenTo: `+l(r.flattenTo.toString())+`,
      flatten2dArrayTo: `+l(r.flatten2dArrayTo.toString())+`,
      flatten3dArrayTo: `+l(r.flatten3dArrayTo.toString())+`,
      systemEndianness: '`+l(r.systemEndianness())+`',
      initWebGl: `+l(r.initWebGl.toString())+`,
      isArray: `+l(r.isArray.toString())+`,
      checkOutput: `+l(r.checkOutput.toString())+`
    };
    const Utils = utils;
    const canvases = [];
    const maxTexSizes = {};
    let Texture = function() {};
    let Input = function() {}; 
    class `+(y||"Kernel")+` {
      constructor() {
        this.maxTexSize = null;
        this.argumentsLength = 0;
        this.constantsLength = 0;
        this._canvas = null;
        this._webGl = null;
        this.program = null;
        this.outputToTexture = `+(o.outputToTexture?"true":"false")+`;
        this.paramNames = `+JSON.stringify(o.paramNames)+`;
        this.paramTypes = `+JSON.stringify(o.paramTypes)+`;
        this.texSize = `+JSON.stringify(o.texSize)+`;
        this.output = `+JSON.stringify(o.output)+";\n        this.compiledFragShaderString = `"+o.compiledFragShaderString+"`;\n		    this.compiledVertShaderString = `"+o.compiledVertShaderString+`\`;
		    this.programUniformLocationCache = {};
		    this.textureCache = {};
		    this.subKernelOutputTextures = null;
		    this.subKernelOutputVariableNames = null;
		    this.uniform1fCache = {};
		    this.uniform1iCache = {};
		    this.uniform2fCache = {};
		    this.uniform2fvCache = {};
		    this.uniform2ivCache = {};
		    this.uniform3fvCache = {};
		    this.uniform3ivCache = {};
      }
      _getFragShaderString() { return this.compiledFragShaderString; }
      _getVertShaderString() { return this.compiledVertShaderString; }
      validateOptions() {}
      setupParams() {}
      setupConstants() {}
      setCanvas(canvas) { this._canvas = canvas; return this; }
      setWebGl(webGl) { this._webGl = webGl; return this; }
      setTexture(Type) { Texture = Type; }
      setInput(Type) { Input = Type; }
      `+s(o.getUniformLocation.toString())+`
      `+s(o.build.toString())+`
		  `+s(o.run.toString())+`
		  `+s(o._addArgument.toString())+`
		  `+s(o._formatArrayTransfer.toString())+`
		  `+s(o.getArgumentTexture.toString())+`
		  `+s(o.getTextureCache.toString())+`
		  `+s(o.getOutputTexture.toString())+`
		  `+s(o.renderOutput.toString())+`
		  `+s(o.updateMaxTexSize.toString())+`
		  `+s(o._setupOutputTexture.toString())+`
		  `+s(o.detachTextureCache.toString())+`
		  `+s(o.setUniform1f.toString())+`
		  `+s(o.setUniform1i.toString())+`
		  `+s(o.setUniform2f.toString())+`
		  `+s(o.setUniform2fv.toString())+`
		  `+s(o.setUniform2iv.toString())+`
		  `+s(o.setUniform3fv.toString())+`
		  `+s(o.setUniform3iv.toString())+`
    };
    return kernelRunShortcut(new Kernel());
  };`},kernelString$1}var kernel$2,hasRequiredKernel$2;function requireKernel$2(){if(hasRequiredKernel$2)return kernel$2;hasRequiredKernel$2=1;var r=function T(O,m,E){O===null&&(O=Function.prototype);var _=Object.getOwnPropertyDescriptor(O,m);if(_===void 0){var b=Object.getPrototypeOf(O);return b===null?void 0:T(b,m,E)}else{if("value"in _)return _.value;var c=_.get;return c===void 0?void 0:c.call(E)}},i=function(){function T(O,m){for(var E=0;E<m.length;E++){var _=m[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,m,E){return m&&T(O.prototype,m),E&&T(O,E),O}}();function s(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function l(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function o(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var y=requireKernelBase(),f=requireUtils(),g=requireTexture(),v=requireShaderFrag$1(),p=requireShaderVert$1(),d=requireKernelString$1(),S=[],x={};return kernel$2=function(T){o(O,T),i(O,null,[{key:"fragShaderString",get:function(){return v}},{key:"vertShaderString",get:function(){return p}}]);function O(m,E){s(this,O);var _=l(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,m,E));return _.textureCache={},_.threadDim={},_.programUniformLocationCache={},_.framebuffer=null,_.buffer=null,_.program=null,_.outputToTexture=E.outputToTexture,_.endianness=f.systemEndianness(),_.subKernelOutputTextures=null,_.subKernelOutputVariableNames=null,_.argumentsLength=0,_.constantsLength=0,_.compiledFragShaderString=null,_.compiledVertShaderString=null,_.fragShader=null,_.vertShader=null,_.drawBuffersMap=null,_.outputTexture=null,_.maxTexSize=null,_.uniform1fCache={},_.uniform1iCache={},_.uniform2fCache={},_.uniform2fvCache={},_.uniform2ivCache={},_.uniform3fvCache={},_.uniform3ivCache={},_._webGl||(_._webGl=_.initWebGl()),_}return i(O,[{key:"initWebGl",value:function(){return f.initWebGl(this.getCanvas())}},{key:"validateOptions",value:function(){var E=f.isFloatReadPixelsSupported();if(this.floatTextures===!0&&!f.OES_texture_float)throw new Error("Float textures are not supported on this browser");if(this.floatOutput===!0&&this.floatOutputForce!==!0&&!E)throw new Error("Float texture outputs are not supported on this browser");this.floatTextures===void 0&&f.OES_texture_float&&(this.floatTextures=!0,this.floatOutput=E);var _=f.hasIntegerDivisionAccuracyBug();if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=_:this.fixIntegerDivisionAccuracy&&!_&&(this.fixIntegerDivisionAccuracy=!1),f.checkOutput(this.output),!this.output||this.output.length===0){if(arguments.length!==1)throw new Error("Auto output only supported for kernels with only one input");var b=f.getArgumentType(arguments[0]);if(b==="Array")this.output=f.getDimensions(b);else if(b==="NumberTexture"||b==="ArrayTexture(4)")this.output=arguments[0].output;else throw new Error("Auto output not supported for input type: "+b)}if(this.texSize=f.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=f.clone(this.output)}else this.floatOutput===void 0&&f.OES_texture_float&&(this.floatOutput=!0)}},{key:"updateMaxTexSize",value:function(){var E=this.texSize,_=this._canvas;if(this.maxTexSize===null){var b=S.indexOf(_);b===-1&&(b=S.length,S.push(_),x[b]=[E[0],E[1]]),this.maxTexSize=x[b]}this.maxTexSize[0]<E[0]&&(this.maxTexSize[0]=E[0]),this.maxTexSize[1]<E[1]&&(this.maxTexSize[1]=E[1])}},{key:"build",value:function(){this.validateOptions(),this.setupConstants(),this.setupParams(arguments),this.updateMaxTexSize();var E=this.texSize,_=this._webGl,b=this._canvas;_.enable(_.SCISSOR_TEST),_.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),b.width=this.maxTexSize[0],b.height=this.maxTexSize[1];for(var c=this.threadDim=f.clone(this.output);c.length<3;)c.push(1);this.functionBuilder&&this._addKernels();var A=this._getVertShaderString(arguments),U=_.createShader(_.VERTEX_SHADER);_.shaderSource(U,A),_.compileShader(U),this.vertShader=U;var V=this._getFragShaderString(arguments),ne=_.createShader(_.FRAGMENT_SHADER);if(_.shaderSource(ne,V),_.compileShader(ne),this.fragShader=ne,!_.getShaderParameter(U,_.COMPILE_STATUS))throw console.log(A),console.error("An error occurred compiling the shaders: "+_.getShaderInfoLog(U)),new Error("Error compiling vertex shader");if(!_.getShaderParameter(ne,_.COMPILE_STATUS))throw console.log(V),console.error("An error occurred compiling the shaders: "+_.getShaderInfoLog(ne)),new Error("Error compiling fragment shader");this.debug&&(console.log("Options:"),console.dir(this),console.log("GLSL Shader Output:"),console.log(V));var Y=this.program=_.createProgram();_.attachShader(Y,U),_.attachShader(Y,ne),_.linkProgram(Y),this.framebuffer=_.createFramebuffer(),this.framebuffer.width=E[0],this.framebuffer.height=E[1];var H=new Float32Array([-1,-1,1,-1,-1,1,1,1]),k=new Float32Array([0,0,1,0,0,1,1,1]),R=H.byteLength,D=this.buffer;D?_.bindBuffer(_.ARRAY_BUFFER,D):(D=this.buffer=_.createBuffer(),_.bindBuffer(_.ARRAY_BUFFER,D),_.bufferData(_.ARRAY_BUFFER,H.byteLength+k.byteLength,_.STATIC_DRAW)),_.bufferSubData(_.ARRAY_BUFFER,0,H),_.bufferSubData(_.ARRAY_BUFFER,R,k);var B=_.getAttribLocation(this.program,"aPos");_.enableVertexAttribArray(B),_.vertexAttribPointer(B,2,_.FLOAT,_.FALSE,0,0);var M=_.getAttribLocation(this.program,"aTexCoord");_.enableVertexAttribArray(M),_.vertexAttribPointer(M,2,_.FLOAT,_.FALSE,0,R),_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer);for(var j in this.constants){var z=this.constants[j],q=f.getArgumentType(z);q==="Float"||q==="Integer"||(_.useProgram(this.program),this._addConstant(this.constants[j],q,j),this.constantsLength++)}this.outputImmutable||(this._setupOutputTexture(),this.subKernelOutputVariableNames!==null&&this.subKernelOutputVariableNames.length>0&&this._setupSubOutputTextures(this.subKernelOutputVariableNames.length))}},{key:"run",value:function(){this.program===null&&this.build.apply(this,arguments);var E=this.paramNames,_=this.paramTypes,b=this.texSize,c=this._webGl;c.useProgram(this.program),c.scissor(0,0,b[0],b[1]),this.hardcodeConstants||(this.setUniform3iv("uOutputDim",this.threadDim),this.setUniform2iv("uTexSize",b)),this.setUniform2f("ratio",b[0]/this.maxTexSize[0],b[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var A=0;A<E.length;A++)this._addArgument(arguments[A],_[A],E[A]);if(this.graphical){if(this.outputToTexture)return c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,this.framebuffer),(!this.outputTexture||this.outputImmutable)&&this._setupOutputTexture(),c.drawArrays(c.TRIANGLE_STRIP,0,4),new g(this.outputTexture,b,this.threadDim,this.output,this._webGl,"ArrayTexture(4)");c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),c.drawArrays(c.TRIANGLE_STRIP,0,4);return}c.bindFramebuffer(c.FRAMEBUFFER,this.framebuffer),this.outputImmutable&&this._setupOutputTexture();var U=this.outputTexture;if(this.subKernelOutputVariableNames!==null&&(this.outputImmutable&&(this.subKernelOutputTextures=[],this._setupSubOutputTextures(this.subKernelOutputVariableNames.length)),this.drawBuffers.drawBuffersWEBGL(this.drawBuffersMap)),c.drawArrays(c.TRIANGLE_STRIP,0,4),this.subKernelOutputTextures!==null){if(this.subKernels!==null){var V=[];V.result=this.renderOutput(U);for(var ne=0;ne<this.subKernels.length;ne++)V.push(new g(this.subKernelOutputTextures[ne],b,this.threadDim,this.output,this._webGl));return V}else if(this.subKernelProperties!==null){var Y={result:this.renderOutput(U)},H=0;for(var k in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(k)&&(Y[k]=new g(this.subKernelOutputTextures[H],b,this.threadDim,this.output,this._webGl),H++);return Y}}return this.renderOutput(U)}},{key:"renderOutput",value:function(E){var _=this.texSize,b=this._webGl,c=this.threadDim,A=this.output;if(this.outputToTexture)return new g(E,_,this.threadDim,A,this._webGl);var U=void 0;if(this.floatOutput){var V=_[0],ne=Math.ceil(_[1]/4);U=new Float32Array(V*ne*4),b.readPixels(0,0,V,ne,b.RGBA,b.FLOAT,U)}else{var Y=new Uint8Array(_[0]*_[1]*4);b.readPixels(0,0,_[0],_[1],b.RGBA,b.UNSIGNED_BYTE,Y),U=new Float32Array(Y.buffer)}if(U=U.subarray(0,c[0]*c[1]*c[2]),A.length===1)return U;if(A.length===2)return f.splitArray(U,A[0]);if(A.length===3){var H=f.splitArray(U,A[0]*A[1]);return H.map(function(k){return f.splitArray(k,A[0])})}}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"_setupOutputTexture",value:function(){var E=this._webGl,_=this.texSize,b=this.outputTexture=this._webGl.createTexture();E.activeTexture(E.TEXTURE0+this.constantsLength+this.paramNames.length),E.bindTexture(E.TEXTURE_2D,b),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),this.floatOutput?E.texImage2D(E.TEXTURE_2D,0,E.RGBA,_[0],_[1],0,E.RGBA,E.FLOAT,null):E.texImage2D(E.TEXTURE_2D,0,E.RGBA,_[0],_[1],0,E.RGBA,E.UNSIGNED_BYTE,null),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,b,0)}},{key:"_setupSubOutputTextures",value:function(E){for(var _=this._webGl,b=this.texSize,c=this.drawBuffersMap=[_.COLOR_ATTACHMENT0],A=this.subKernelOutputTextures=[],U=0;U<E;U++){var V=this._webGl.createTexture();A.push(V),c.push(_.COLOR_ATTACHMENT0+U+1),_.activeTexture(_.TEXTURE0+this.constantsLength+this.paramNames.length+U),_.bindTexture(_.TEXTURE_2D,V),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),this.floatOutput?_.texImage2D(_.TEXTURE_2D,0,_.RGBA,b[0],b[1],0,_.RGBA,_.FLOAT,null):_.texImage2D(_.TEXTURE_2D,0,_.RGBA,b[0],b[1],0,_.RGBA,_.UNSIGNED_BYTE,null),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0+U+1,_.TEXTURE_2D,V,0)}}},{key:"getArgumentTexture",value:function(E){return this.getTextureCache("ARGUMENT_"+E)}},{key:"getTextureCache",value:function(E){return this.textureCache.hasOwnProperty(E)?this.textureCache[E]:this.textureCache[E]=this._webGl.createTexture()}},{key:"detachTextureCache",value:function(E){delete this.textureCache[E]}},{key:"setUniform1f",value:function(E,_){if(this.uniform1fCache.hasOwnProperty(E)){var b=this.uniform1fCache[E];if(_===b)return}this.uniform1fCache[E]=_;var c=this.getUniformLocation(E);this._webGl.uniform1f(c,_)}},{key:"setUniform1i",value:function(E,_){if(this.uniform1iCache.hasOwnProperty(E)){var b=this.uniform1iCache[E];if(_===b)return}this.uniform1iCache[E]=_;var c=this.getUniformLocation(E);this._webGl.uniform1i(c,_)}},{key:"setUniform2f",value:function(E,_,b){if(this.uniform2fCache.hasOwnProperty(E)){var c=this.uniform2fCache[E];if(_===c[0]&&b===c[1])return}this.uniform2fCache[E]=[_,b];var A=this.getUniformLocation(E);this._webGl.uniform2f(A,_,b)}},{key:"setUniform2fv",value:function(E,_){if(this.uniform2fvCache.hasOwnProperty(E)){var b=this.uniform2fvCache[E];if(_[0]===b[0]&&_[1]===b[1])return}this.uniform2fvCache[E]=_;var c=this.getUniformLocation(E);this._webGl.uniform2fv(c,_)}},{key:"setUniform2iv",value:function(E,_){if(this.uniform2ivCache.hasOwnProperty(E)){var b=this.uniform2ivCache[E];if(_[0]===b[0]&&_[1]===b[1])return}this.uniform2ivCache[E]=_;var c=this.getUniformLocation(E);this._webGl.uniform2iv(c,_)}},{key:"setUniform3fv",value:function(E,_){if(this.uniform3fvCache.hasOwnProperty(E)){var b=this.uniform3fvCache[E];if(_[0]===b[0]&&_[1]===b[1]&&_[2]===b[2])return}this.uniform3fvCache[E]=_;var c=this.getUniformLocation(E);this._webGl.uniform3fv(c,_)}},{key:"setUniform3iv",value:function(E,_){if(this.uniform3ivCache.hasOwnProperty(E)){var b=this.uniform3ivCache[E];if(_[0]===b[0]&&_[1]===b[1]&&_[2]===b[2])return}this.uniform3ivCache[E]=_;var c=this.getUniformLocation(E);this._webGl.uniform3iv(c,_)}},{key:"getUniformLocation",value:function(E){return this.programUniformLocationCache.hasOwnProperty(E)?this.programUniformLocationCache[E]:this.programUniformLocationCache[E]=this._webGl.getUniformLocation(this.program,E)}},{key:"_getFragShaderArtifactMap",value:function(E){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),GET_WRAPAROUND:this._getGetWraparoundString(),GET_TEXTURE_CHANNEL:this._getGetTextureChannelString(),GET_TEXTURE_INDEX:this._getGetTextureIndexString(),GET_RESULT:this._getGetResultString(),MAIN_PARAMS:this._getMainParamsString(E),MAIN_CONSTANTS:this._getMainConstantsString(),KERNEL:this._getKernelString(),MAIN_RESULT:this._getMainResultString()}}},{key:"_addArgument",value:function(E,_,b){var c=this._webGl,A=this.getArgumentTexture(b);switch(E instanceof g&&(_=E.type),_){case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"Array2D":case"Array3D":{var U=f.getDimensions(E,!0),V=f.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},U);c.activeTexture(c.TEXTURE0+this.constantsLength+this.argumentsLength),c.bindTexture(c.TEXTURE_2D,A),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);var ne=V[0]*V[1],Y=this._formatArrayTransfer(E,ne),H=Y.valuesFlat,k=Y.bitRatio,R=void 0;this.floatTextures?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,V[0],V[1],0,c.RGBA,c.FLOAT,H):(R=new Uint8Array(H.buffer),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,V[0]/k,V[1],0,c.RGBA,c.UNSIGNED_BYTE,R)),this.hardcodeConstants||(this.setUniform3iv("user_"+b+"Dim",U),this.setUniform2iv("user_"+b+"Size",V)),this.setUniform1i("user_"+b+"BitRatio",k),this.setUniform1i("user_"+b,this.argumentsLength);break}case"Integer":case"Float":case"Number":{this.setUniform1f("user_"+b,E);break}case"Input":{var D=E,B=D.size,M=f.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},B);c.activeTexture(c.TEXTURE0+this.constantsLength+this.argumentsLength),c.bindTexture(c.TEXTURE_2D,A),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);var j=M[0]*M[1],z=this._formatArrayTransfer(E.value,j),q=z.valuesFlat,K=z.bitRatio;if(this.floatTextures)c.texImage2D(c.TEXTURE_2D,0,c.RGBA,M[0],M[1],0,c.RGBA,c.FLOAT,inputArray);else{var ee=new Uint8Array(q.buffer);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,M[0]/K,M[1],0,c.RGBA,c.UNSIGNED_BYTE,ee)}this.hardcodeConstants||(this.setUniform3iv("user_"+b+"Dim",B),this.setUniform2iv("user_"+b+"Size",M)),this.setUniform1i("user_"+b+"BitRatio",K),this.setUniform1i("user_"+b,this.argumentsLength);break}case"HTMLImage":{var L=E,Q=[L.width,L.height,1],ie=[L.width,L.height];c.activeTexture(c.TEXTURE0+this.constantsLength+this.argumentsLength),c.bindTexture(c.TEXTURE_2D,A),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);var J=0,ue=c.RGBA,de=c.RGBA,P=c.UNSIGNED_BYTE;c.texImage2D(c.TEXTURE_2D,J,ue,de,P,L),this.setUniform3iv("user_"+b+"Dim",Q),this.setUniform2iv("user_"+b+"Size",ie),this.setUniform1i("user_"+b,this.argumentsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var I=E,X=I.dimensions,$=I.size;c.activeTexture(c.TEXTURE0+this.constantsLength+this.argumentsLength),c.bindTexture(c.TEXTURE_2D,I.texture),this.setUniform3iv("user_"+b+"Dim",X),this.setUniform2iv("user_"+b+"Size",$),this.setUniform1i("user_"+b+"BitRatio",1),this.setUniform1i("user_"+b,this.argumentsLength);break}default:throw new Error("Input type not supported (WebGL): "+E)}this.argumentsLength++}},{key:"_addConstant",value:function(E,_,b){var c=this._webGl,A=this.getArgumentTexture(b);switch(E instanceof g&&(_=E.type),_){case"Array":{var U=f.getDimensions(E,!0),V=f.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},U);c.activeTexture(c.TEXTURE0+this.constantsLength),c.bindTexture(c.TEXTURE_2D,A),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);var ne=V[0]*V[1],Y=this._formatArrayTransfer(E,ne),H=Y.valuesFlat,k=Y.bitRatio,R=void 0;this.floatTextures?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,V[0],V[1],0,c.RGBA,c.FLOAT,H):(R=new Uint8Array(H.buffer),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,V[0]/k,V[1],0,c.RGBA,c.UNSIGNED_BYTE,R)),this.hardcodeConstants||(this.setUniform3iv("constants_"+b+"Dim",U),this.setUniform2iv("constants_"+b+"Size",V)),this.setUniform1i("constants_"+b+"BitRatio",k),this.setUniform1i("constants_"+b,this.constantsLength);break}case"Input":{var D=E,B=D.size,M=f.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},B);c.activeTexture(c.TEXTURE0+this.constantsLength),c.bindTexture(c.TEXTURE_2D,A),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);var j=M[0]*M[1],z=this._formatArrayTransfer(E.value,j),q=z.valuesFlat,K=z.bitRatio;if(this.floatTextures)c.texImage2D(c.TEXTURE_2D,0,c.RGBA,M[0],M[1],0,c.RGBA,c.FLOAT,inputArray);else{var ee=new Uint8Array(q.buffer);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,M[0]/K,M[1],0,c.RGBA,c.UNSIGNED_BYTE,ee)}this.hardcodeConstants||(this.setUniform3iv("constants_"+b+"Dim",B),this.setUniform2iv("constants_"+b+"Size",M)),this.setUniform1i("constants_"+b+"BitRatio",K),this.setUniform1i("constants_"+b,this.constantsLength);break}case"HTMLImage":{var L=E,Q=[L.width,L.height,1],ie=[L.width,L.height];c.activeTexture(c.TEXTURE0+this.constantsLength),c.bindTexture(c.TEXTURE_2D,A),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);var J=0,ue=c.RGBA,de=c.RGBA,P=c.UNSIGNED_BYTE;c.texImage2D(c.TEXTURE_2D,J,ue,de,P,L),this.setUniform3iv("constants_"+b+"Dim",Q),this.setUniform2iv("constants_"+b+"Size",ie),this.setUniform1i("constants_"+b,this.constantsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var I=E,X=I.dimensions,$=I.size;c.activeTexture(c.TEXTURE0+this.constantsLength),c.bindTexture(c.TEXTURE_2D,I.texture),this.setUniform3iv("constants_"+b+"Dim",X),this.setUniform2iv("constants_"+b+"Size",$),this.setUniform1i("constants_"+b+"BitRatio",1),this.setUniform1i("constants_"+b,this.constantsLength);break}case"Integer":case"Float":default:throw new Error("Input type not supported (WebGL): "+E)}}},{key:"_formatArrayTransfer",value:function(E,_){var b=1,c=E;if(f.isArray(E[0])||this.floatTextures)c=new Float32Array(_),f.flattenTo(E,c);else switch(E.constructor){case Uint8Array:case Int8Array:b=4;break;case Uint16Array:case Int16Array:b=2;case Float32Array:case Int32Array:break;default:c=new Float32Array(_),f.flattenTo(E,c)}return{bitRatio:b,valuesFlat:c}}},{key:"_getHeaderString",value:function(){return this.subKernels!==null||this.subKernelProperties!==null?`#extension GL_EXT_draw_buffers : require
`:""}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+`.0;
`:` 1000.0;
`}},{key:"_getConstantsString",value:function(){var E=[],_=this.threadDim,b=this.texSize;return this.hardcodeConstants?E.push("ivec3 uOutputDim = ivec3("+_[0]+","+_[1]+", "+_[2]+")","ivec2 uTexSize = ivec2("+b[0]+", "+b[1]+")"):E.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"),this._linesToString(E)}},{key:"_getTextureCoordinate",value:function(){var E=this.subKernelOutputVariableNames;return E===null||E.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}},{key:"_getDecode32EndiannessString",value:function(){return this.endianness==="LE"?"":`  rgba.rgba = rgba.abgr;
`}},{key:"_getEncode32EndiannessString",value:function(){return this.endianness==="LE"?"":`  rgba.rgba = rgba.abgr;
`}},{key:"_getDivideWithIntegerCheckString",value:function(){return this.fixIntegerDivisionAccuracy?`
			  float div_with_int_check(float x, float y) {
			  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
			    return float(int(x)/int(y));
			  }
			  return x / y;
			}
			`:""}},{key:"_getGetWraparoundString",value:function(){return this.wraparound?`  xyz = mod(xyz, texDim);
`:""}},{key:"_getGetTextureChannelString",value:function(){return this.floatTextures?this._linesToString(["  int channel = integerMod(index, 4)","  index = index / 4"]):""}},{key:"_getGetTextureIndexString",value:function(){return this.floatTextures?`  index = index / 4;
`:""}},{key:"_getGetResultString",value:function(){return this.floatTextures?this._linesToString(["  if (channel == 0) return texel.r","  if (channel == 1) return texel.g","  if (channel == 2) return texel.b","  if (channel == 3) return texel.a"]):"  return decode(texel, x, bitRatio);"}},{key:"_getMainParamsString",value:function(E){for(var _=[],b=this.paramTypes,c=this.paramNames,A=0;A<c.length;A++){var U=E[A],V=c[A],ne=b[A];if(this.hardcodeConstants)if(ne==="Array"||ne==="NumberTexture"||ne==="ArrayTexture(4)"){var Y=f.getDimensions(U,!0),H=f.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},Y);_.push("uniform sampler2D user_"+V,"ivec2 user_"+V+"Size = ivec2("+H[0]+", "+H[1]+")","ivec3 user_"+V+"Dim = ivec3("+Y[0]+", "+Y[1]+", "+Y[2]+")","uniform int user_"+V+"BitRatio")}else ne==="Integer"?_.push("float user_"+V+" = "+U+".0"):ne==="Float"&&_.push("float user_"+V+" = "+U);else if(ne==="Array"||ne==="NumberTexture"||ne==="ArrayTexture(4)"||ne==="Input"||ne==="HTMLImage")_.push("uniform sampler2D user_"+V,"uniform ivec2 user_"+V+"Size","uniform ivec3 user_"+V+"Dim"),ne!=="HTMLImage"&&_.push("uniform int user_"+V+"BitRatio");else if(ne==="Integer"||ne==="Float")_.push("uniform float user_"+V);else throw new Error("Param type "+ne+" not supported in WebGL, only WebGL2")}return this._linesToString(_)}},{key:"_getMainConstantsString",value:function(){var E=[];if(this.constants){for(var _ in this.constants)if(this.constants.hasOwnProperty(_)){var b=this.constants[_],c=f.getArgumentType(b);switch(c){case"Integer":E.push("const float constants_"+_+" = "+parseInt(b)+".0");break;case"Float":E.push("const float constants_"+_+" = "+parseFloat(b));break;case"Array":case"Input":case"HTMLImage":case"NumberTexture":case"ArrayTexture(4)":E.push("uniform sampler2D constants_"+_,"uniform ivec2 constants_"+_+"Size","uniform ivec3 constants_"+_+"Dim","uniform int constants_"+_+"BitRatio");break;default:throw new Error("Unsupported constant "+_+" type "+c)}}}return this._linesToString(E)}},{key:"_getKernelString",value:function(){var E=[],_=this.subKernelOutputVariableNames;if(_!==null){E.push("float kernelResult = 0.0");for(var b=0;b<_.length;b++)E.push("float "+_[b]+" = 0.0")}else E.push("float kernelResult = 0.0");return this._linesToString(E)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var E=this.subKernelOutputVariableNames,_=[];if(this.floatOutput&&_.push("  index *= 4"),this.graphical)_.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor");else if(this.floatOutput)for(var b=["r","g","b","a"],c=0;c<b.length;++c){if(_.push("  threadId = indexTo3D(index, uOutputDim)"),_.push("  kernel()"),E){_.push("  gl_FragData[0]."+b[c]+" = kernelResult");for(var A=0;A<E.length;++A)_.push("  gl_FragData["+(A+1)+"]."+b[c]+" = "+E[A])}else _.push("  gl_FragColor."+b[c]+" = kernelResult");c<b.length-1&&_.push("  index += 1")}else if(E!==null){_.push("  threadId = indexTo3D(index, uOutputDim)"),_.push("  kernel()"),_.push("  gl_FragData[0] = encode32(kernelResult)");for(var U=0;U<E.length;U++)_.push("  gl_FragData["+(U+1)+"] = encode32("+E[U]+")")}else _.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = encode32(kernelResult)");return this._linesToString(_)}},{key:"_linesToString",value:function(E){return E.length>0?E.join(`;
`)+`;
`:`
`}},{key:"_replaceArtifacts",value:function(E,_){return E.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z])*)__;\n/g,function(b,c){if(_.hasOwnProperty(c))return _[c];throw"unhandled artifact "+c})}},{key:"_addKernels",value:function(){var E=this,_=this.functionBuilder,b=this._webGl;if(_.addFunctions(this.functions,{constants:this.constants,output:this.output}),_.addNativeFunctions(this.nativeFunctions),_.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,constantTypes:this.constantTypes,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernels!==null){var c=this.drawBuffers=b.getExtension("WEBGL_draw_buffers");if(!c)throw new Error("could not instantiate draw buffers extension");this.subKernelOutputVariableNames=[],this.subKernels.forEach(function(U){return E._addSubKernel(U)})}else if(this.subKernelProperties!==null){var A=this.drawBuffers=b.getExtension("WEBGL_draw_buffers");if(!A)throw new Error("could not instantiate draw buffers extension");this.subKernelOutputVariableNames=[],Object.keys(this.subKernelProperties).forEach(function(U){return E._addSubKernel(E.subKernelProperties[U])})}}},{key:"_addSubKernel",value:function(E){this.functionBuilder.addSubKernel(E,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernelOutputVariableNames.push(E.name+"Result")}},{key:"_getFragShaderString",value:function(E){return this.compiledFragShaderString!==null?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(this.constructor.fragShaderString,this._getFragShaderArtifactMap(E))}},{key:"_getVertShaderString",value:function(E){return this.compiledVertShaderString!==null?this.compiledVertShaderString:this.compiledVertShaderString=this.constructor.vertShaderString}},{key:"toString",value:function(){return d(this)}},{key:"addFunction",value:function(E){this.functionBuilder.addFunction(null,E)}},{key:"destroy",value:function(E){r(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"destroy",this).call(this),this.outputTexture&&this._webGl.deleteTexture(this.outputTexture),this.buffer&&this._webGl.deleteBuffer(this.buffer),this.framebuffer&&this._webGl.deleteFramebuffer(this.framebuffer),this.vertShader&&this._webGl.deleteShader(this.vertShader),this.fragShader&&this._webGl.deleteShader(this.fragShader),this.program&&this._webGl.deleteProgram(this.program);for(var _=Object.keys(this.textureCache),b=0;b<_.length;b++){var c=_[b];this._webGl.deleteTexture(this.textureCache[c])}if(this.subKernelOutputTextures)for(var A=0;A<this.subKernelOutputTextures.length;A++)this._webGl.deleteTexture(this.subKernelOutputTextures[A]);if(E){var U=S.indexOf(this._canvas);U>=0&&(S[U]=null,x[U]=null)}delete this._webGl}}]),O}(y),kernel$2}var functionBuilderBase,hasRequiredFunctionBuilderBase;function requireFunctionBuilderBase(){if(hasRequiredFunctionBuilderBase)return functionBuilderBase;hasRequiredFunctionBuilderBase=1;var r=function(){function s(l,o){for(var y=0;y<o.length;y++){var f=o[y];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,o,y){return o&&s(l.prototype,o),y&&s(l,y),l}}();function i(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}return functionBuilderBase=function(){function s(l){i(this,s),this.nodeMap={},this.nativeFunctions={},this.gpu=l,this.rootKernel=null,this.Node=null}return r(s,[{key:"addNativeFunction",value:function(o,y){this.nativeFunctions[o]=y}},{key:"addFunction",value:function(o,y,f){this.addFunctionNode(new this.Node(o,y,f).setBuilder(this))}},{key:"addFunctions",value:function(o,y){if(o)if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFunction(null,o[f],y);else for(var g in o)this.addFunction(g,o[g],y)}},{key:"addNativeFunctions",value:function(o){for(var y in o)o.hasOwnProperty(y)&&this.addNativeFunction(y,o[y])}},{key:"addFunctionNode",value:function(o){this.nodeMap[o.functionName]=o,o.isRootKernel&&(this.rootKernel=o)}},{key:"traceFunctionCalls",value:function(o,y,f){o=o||"kernel",y=y||[];var g=this.nodeMap[o];if(g){var v=y.indexOf(o);if(v===-1){y.push(o),f&&(g.parent=f),g.getFunctionString();for(var p=0;p<g.calledFunctions.length;++p)this.traceFunctionCalls(g.calledFunctions[p],y,g)}else{var d=y.splice(v,1)[0];y.push(d)}}return this.nativeFunctions[o]&&(y.indexOf(o)>=0||y.push(o)),y}},{key:"addKernel",value:function(o,y){var f=new this.Node("kernel",o,y);return f.setBuilder(this),f.isRootKernel=!0,this.addFunctionNode(f),f}},{key:"addSubKernel",value:function(o,y){var f=new this.Node(null,o,y);return f.setBuilder(this),f.isSubKernel=!0,this.addFunctionNode(f),f}},{key:"getPrototypeString",value:function(o){return this.getPrototypes(o).join(`
`)}},{key:"getPrototypes",value:function(o){return this.rootKernel.generate(),o?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(o,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.nodeMap))}},{key:"getStringFromFunctionNames",value:function(o){for(var y=[],f=0;f<o.length;++f){var g=this.nodeMap[o[f]];g&&y.push(this.nodeMap[o[f]].getFunctionString())}return y.join(`
`)}},{key:"getPrototypesFromFunctionNames",value:function(o,y){for(var f=[],g=0;g<o.length;++g){var v=o[g],p=this.nodeMap[v];p?f.push(p.getFunctionPrototypeString(y)):this.nativeFunctions[v]&&f.push(this.nativeFunctions[v])}return f}},{key:"getPrototypeStringFromFunctionNames",value:function(o,y){return this.getPrototypesFromFunctionNames(o,y).toString()}},{key:"getString",value:function(o,y){return y===void 0&&(y={}),o?this.getStringFromFunctionNames(this.traceFunctionCalls(o,[],y).reverse(),y):this.getStringFromFunctionNames(Object.keys(this.nodeMap),y)}}]),s}(),functionBuilderBase}var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStartChars="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierChars="---------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,190,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,26,230,43,117,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,68,12,0,67,12,65,1,31,6129,15,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function isInAstralSet(r,i){for(var s=65536,l=0;l<i.length;l+=2){if(s+=i[l],s>r)return!1;if(s+=i[l+1],s>=r)return!0}}function isIdentifierStart(r,i){return r<65?r===36:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&nonASCIIidentifierStart.test(String.fromCharCode(r)):i===!1?!1:isInAstralSet(r,astralIdentifierStartCodes)}function isIdentifierChar(r,i){return r<48?r===36:r<58?!0:r<65?!1:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&nonASCIIidentifier.test(String.fromCharCode(r)):i===!1?!1:isInAstralSet(r,astralIdentifierStartCodes)||isInAstralSet(r,astralIdentifierCodes)}var TokenType=function(i,s){s===void 0&&(s={}),this.label=i,this.keyword=s.keyword,this.beforeExpr=!!s.beforeExpr,this.startsExpr=!!s.startsExpr,this.isLoop=!!s.isLoop,this.isAssign=!!s.isAssign,this.prefix=!!s.prefix,this.postfix=!!s.postfix,this.binop=s.binop||null,this.updateContext=null};function binop(r,i){return new TokenType(r,{beforeExpr:!0,binop:i})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords$1={};function kw(r,i){return i===void 0&&(i={}),i.keyword=r,keywords$1[r]=new TokenType(r,i)}var types={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import"),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(r,i){return r===10||r===13||!i&&(r===8232||r===8233)}var nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString;function has(r,i){return hasOwnProperty.call(r,i)}var isArray=Array.isArray||function(r){return toString.call(r)==="[object Array]"},Position=function(i,s){this.line=i,this.column=s};Position.prototype.offset=function(i){return new Position(this.line,this.column+i)};var SourceLocation=function(i,s,l){this.start=s,this.end=l,i.sourceFile!==null&&(this.source=i.sourceFile)};function getLineInfo(r,i){for(var s=1,l=0;;){lineBreakG.lastIndex=l;var o=lineBreakG.exec(r);if(o&&o.index<i)++s,l=o.index+o[0].length;else return new Position(s,i-l)}}var defaultOptions={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};function getOptions(r){var i={};for(var s in defaultOptions)i[s]=r&&has(r,s)?r[s]:defaultOptions[s];if(i.ecmaVersion>=2015&&(i.ecmaVersion-=2009),i.allowReserved==null&&(i.allowReserved=i.ecmaVersion<5),isArray(i.onToken)){var l=i.onToken;i.onToken=function(o){return l.push(o)}}return isArray(i.onComment)&&(i.onComment=pushComment(i,i.onComment)),i}function pushComment(r,i){return function(s,l,o,y,f,g){var v={type:s?"Block":"Line",value:l,start:o,end:y};r.locations&&(v.loc=new SourceLocation(this,f,g)),r.ranges&&(v.range=[o,y]),i.push(v)}}var plugins={};function keywordRegexp(r){return new RegExp("^(?:"+r.replace(/ /g,"|")+")$")}var Parser=function(i,s,l){this.options=i=getOptions(i),this.sourceFile=i.sourceFile,this.keywords=keywordRegexp(keywords[i.ecmaVersion>=6?6:5]);var o="";if(!i.allowReserved){for(var y=i.ecmaVersion;!(o=reservedWords[y]);y--);i.sourceType==="module"&&(o+=" await")}this.reservedWords=keywordRegexp(o);var f=(o?o+" ":"")+reservedWords.strict;this.reservedWordsStrict=keywordRegexp(f),this.reservedWordsStrictBind=keywordRegexp(f+" "+reservedWords.strictBind),this.input=String(s),this.containsEsc=!1,this.loadPlugins(i.plugins),l?(this.pos=l,this.lineStart=this.input.lastIndexOf(`
`,l-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=i.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],this.pos===0&&i.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};Parser.prototype.isKeyword=function(i){return this.keywords.test(i)};Parser.prototype.isReservedWord=function(i){return this.reservedWords.test(i)};Parser.prototype.extend=function(i,s){this[i]=s(this[i])};Parser.prototype.loadPlugins=function(i){var s=this;for(var l in i){var o=plugins[l];if(!o)throw new Error("Plugin '"+l+"' not found");o(s,i[l])}};Parser.prototype.parse=function(){var i=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(i)};var pp=Parser.prototype,literal=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;pp.strictDirective=function(r){for(var i=this;;){skipWhiteSpace.lastIndex=r,r+=skipWhiteSpace.exec(i.input)[0].length;var s=literal.exec(i.input.slice(r));if(!s)return!1;if((s[1]||s[2])==="use strict")return!0;r+=s[0].length}};pp.eat=function(r){return this.type===r?(this.next(),!0):!1};pp.isContextual=function(r){return this.type===types.name&&this.value===r&&!this.containsEsc};pp.eatContextual=function(r){return this.isContextual(r)?(this.next(),!0):!1};pp.expectContextual=function(r){this.eatContextual(r)||this.unexpected()};pp.canInsertSemicolon=function(){return this.type===types.eof||this.type===types.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp.semicolon=function(){!this.eat(types.semi)&&!this.insertSemicolon()&&this.unexpected()};pp.afterTrailingComma=function(r,i){if(this.type===r)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),i||this.next(),!0};pp.expect=function(r){this.eat(r)||this.unexpected()};pp.unexpected=function(r){this.raise(r??this.start,"Unexpected token")};function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}pp.checkPatternErrors=function(r,i){if(r){r.trailingComma>-1&&this.raiseRecoverable(r.trailingComma,"Comma is not permitted after the rest element");var s=i?r.parenthesizedAssign:r.parenthesizedBind;s>-1&&this.raiseRecoverable(s,"Parenthesized pattern")}};pp.checkExpressionErrors=function(r,i){if(!r)return!1;var s=r.shorthandAssign,l=r.doubleProto;if(!i)return s>=0||l>=0;s>=0&&this.raise(s,"Shorthand property assignments are valid only in destructuring patterns"),l>=0&&this.raiseRecoverable(l,"Redefinition of __proto__ property")};pp.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp.isSimpleAssignTarget=function(r){return r.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(r.expression):r.type==="Identifier"||r.type==="MemberExpression"};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(r){var i=this,s={};for(r.body||(r.body=[]);this.type!==types.eof;){var l=i.parseStatement(!0,!0,s);r.body.push(l)}return this.adaptDirectivePrologue(r.body),this.next(),this.options.ecmaVersion>=6&&(r.sourceType=this.options.sourceType),this.finishNode(r,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var r=skipWhiteSpace.exec(this.input),i=this.pos+r[0].length,s=this.input.charCodeAt(i);if(s===91||s===123)return!0;if(isIdentifierStart(s,!0)){for(var l=i+1;isIdentifierChar(this.input.charCodeAt(l),!0);)++l;var o=this.input.slice(i,l);if(!keywordRelationalOperator.test(o))return!0}return!1};pp$1.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var r=skipWhiteSpace.exec(this.input),i=this.pos+r[0].length;return!lineBreak.test(this.input.slice(this.pos,i))&&this.input.slice(i,i+8)==="function"&&(i+8===this.input.length||!isIdentifierChar(this.input.charAt(i+8)))};pp$1.parseStatement=function(r,i,s){var l=this.type,o=this.startNode(),y;switch(this.isLet()&&(l=types._var,y="let"),l){case types._break:case types._continue:return this.parseBreakContinueStatement(o,l.keyword);case types._debugger:return this.parseDebuggerStatement(o);case types._do:return this.parseDoStatement(o);case types._for:return this.parseForStatement(o);case types._function:return!r&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1);case types._class:return r||this.unexpected(),this.parseClass(o,!0);case types._if:return this.parseIfStatement(o);case types._return:return this.parseReturnStatement(o);case types._switch:return this.parseSwitchStatement(o);case types._throw:return this.parseThrowStatement(o);case types._try:return this.parseTryStatement(o);case types._const:case types._var:return y=y||this.value,!r&&y!=="var"&&this.unexpected(),this.parseVarStatement(o,y);case types._while:return this.parseWhileStatement(o);case types._with:return this.parseWithStatement(o);case types.braceL:return this.parseBlock();case types.semi:return this.parseEmptyStatement(o);case types._export:case types._import:return this.options.allowImportExportEverywhere||(i||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),l===types._import?this.parseImport(o):this.parseExport(o,s);default:if(this.isAsyncFunction())return r||this.unexpected(),this.next(),this.parseFunctionStatement(o,!0);var f=this.value,g=this.parseExpression();return l===types.name&&g.type==="Identifier"&&this.eat(types.colon)?this.parseLabeledStatement(o,f,g):this.parseExpressionStatement(o,g)}};pp$1.parseBreakContinueStatement=function(r,i){var s=this,l=i==="break";this.next(),this.eat(types.semi)||this.insertSemicolon()?r.label=null:this.type!==types.name?this.unexpected():(r.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var y=s.labels[o];if((r.label==null||y.name===r.label.name)&&(y.kind!=null&&(l||y.kind==="loop")||r.label&&l))break}return o===this.labels.length&&this.raise(r.start,"Unsyntactic "+i),this.finishNode(r,l?"BreakStatement":"ContinueStatement")};pp$1.parseDebuggerStatement=function(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")};pp$1.parseDoStatement=function(r){return this.next(),this.labels.push(loopLabel),r.body=this.parseStatement(!1),this.labels.pop(),this.expect(types._while),r.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types.semi):this.semicolon(),this.finishNode(r,"DoWhileStatement")};pp$1.parseForStatement=function(r){this.next();var i=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterLexicalScope(),this.expect(types.parenL),this.type===types.semi)return i>-1&&this.unexpected(i),this.parseFor(r,null);var s=this.isLet();if(this.type===types._var||this.type===types._const||s){var l=this.startNode(),o=s?"let":this.value;return this.next(),this.parseVar(l,!0,o),this.finishNode(l,"VariableDeclaration"),(this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&l.declarations.length===1&&!(o!=="var"&&l.declarations[0].init)?(this.options.ecmaVersion>=9&&(this.type===types._in?i>-1&&this.unexpected(i):r.await=i>-1),this.parseForIn(r,l)):(i>-1&&this.unexpected(i),this.parseFor(r,l))}var y=new DestructuringErrors,f=this.parseExpression(!0,y);return this.type===types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===types._in?i>-1&&this.unexpected(i):r.await=i>-1),this.toAssignable(f,!1,y),this.checkLVal(f),this.parseForIn(r,f)):(this.checkExpressionErrors(y,!0),i>-1&&this.unexpected(i),this.parseFor(r,f))};pp$1.parseFunctionStatement=function(r,i){return this.next(),this.parseFunction(r,!0,!1,i)};pp$1.parseIfStatement=function(r){return this.next(),r.test=this.parseParenExpression(),r.consequent=this.parseStatement(!this.strict&&this.type===types._function),r.alternate=this.eat(types._else)?this.parseStatement(!this.strict&&this.type===types._function):null,this.finishNode(r,"IfStatement")};pp$1.parseReturnStatement=function(r){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types.semi)||this.insertSemicolon()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")};pp$1.parseSwitchStatement=function(r){var i=this;this.next(),r.discriminant=this.parseParenExpression(),r.cases=[],this.expect(types.braceL),this.labels.push(switchLabel),this.enterLexicalScope();for(var s,l=!1;this.type!==types.braceR;)if(i.type===types._case||i.type===types._default){var o=i.type===types._case;s&&i.finishNode(s,"SwitchCase"),r.cases.push(s=i.startNode()),s.consequent=[],i.next(),o?s.test=i.parseExpression():(l&&i.raiseRecoverable(i.lastTokStart,"Multiple default clauses"),l=!0,s.test=null),i.expect(types.colon)}else s||i.unexpected(),s.consequent.push(i.parseStatement(!0));return this.exitLexicalScope(),s&&this.finishNode(s,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(r,"SwitchStatement")};pp$1.parseThrowStatement=function(r){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.type===types._catch){var i=this.startNode();this.next(),this.eat(types.parenL)?(i.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(i.param,"let"),this.expect(types.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),i.param=null,this.enterLexicalScope()),i.body=this.parseBlock(!1),this.exitLexicalScope(),r.handler=this.finishNode(i,"CatchClause")}return r.finalizer=this.eat(types._finally)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(r.start,"Missing catch or finally clause"),this.finishNode(r,"TryStatement")};pp$1.parseVarStatement=function(r,i){return this.next(),this.parseVar(r,!1,i),this.semicolon(),this.finishNode(r,"VariableDeclaration")};pp$1.parseWhileStatement=function(r){return this.next(),r.test=this.parseParenExpression(),this.labels.push(loopLabel),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,"WhileStatement")};pp$1.parseWithStatement=function(r){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),r.object=this.parseParenExpression(),r.body=this.parseStatement(!1),this.finishNode(r,"WithStatement")};pp$1.parseEmptyStatement=function(r){return this.next(),this.finishNode(r,"EmptyStatement")};pp$1.parseLabeledStatement=function(r,i,s){for(var l=this,o=0,y=l.labels;o<y.length;o+=1){var f=y[o];f.name===i&&l.raise(s.start,"Label '"+i+"' is already declared")}for(var g=this.type.isLoop?"loop":this.type===types._switch?"switch":null,v=this.labels.length-1;v>=0;v--){var p=l.labels[v];if(p.statementStart===r.start)p.statementStart=l.start,p.kind=g;else break}return this.labels.push({name:i,kind:g,statementStart:this.start}),r.body=this.parseStatement(!0),(r.body.type==="ClassDeclaration"||r.body.type==="VariableDeclaration"&&r.body.kind!=="var"||r.body.type==="FunctionDeclaration"&&(this.strict||r.body.generator||r.body.async))&&this.raiseRecoverable(r.body.start,"Invalid labeled declaration"),this.labels.pop(),r.label=s,this.finishNode(r,"LabeledStatement")};pp$1.parseExpressionStatement=function(r,i){return r.expression=i,this.semicolon(),this.finishNode(r,"ExpressionStatement")};pp$1.parseBlock=function(r){var i=this;r===void 0&&(r=!0);var s=this.startNode();for(s.body=[],this.expect(types.braceL),r&&this.enterLexicalScope();!this.eat(types.braceR);){var l=i.parseStatement(!0);s.body.push(l)}return r&&this.exitLexicalScope(),this.finishNode(s,"BlockStatement")};pp$1.parseFor=function(r,i){return r.init=i,this.expect(types.semi),r.test=this.type===types.semi?null:this.parseExpression(),this.expect(types.semi),r.update=this.type===types.parenR?null:this.parseExpression(),this.expect(types.parenR),this.exitLexicalScope(),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,"ForStatement")};pp$1.parseForIn=function(r,i){var s=this.type===types._in?"ForInStatement":"ForOfStatement";return this.next(),s==="ForInStatement"&&(i.type==="AssignmentPattern"||i.type==="VariableDeclaration"&&i.declarations[0].init!=null&&(this.strict||i.declarations[0].id.type!=="Identifier"))&&this.raise(i.start,"Invalid assignment in for-in loop head"),r.left=i,r.right=s==="ForInStatement"?this.parseExpression():this.parseMaybeAssign(),this.expect(types.parenR),this.exitLexicalScope(),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,s)};pp$1.parseVar=function(r,i,s){var l=this;for(r.declarations=[],r.kind=s;;){var o=l.startNode();if(l.parseVarId(o,s),l.eat(types.eq)?o.init=l.parseMaybeAssign(i):s==="const"&&!(l.type===types._in||l.options.ecmaVersion>=6&&l.isContextual("of"))?l.unexpected():o.id.type!=="Identifier"&&!(i&&(l.type===types._in||l.isContextual("of")))?l.raise(l.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,r.declarations.push(l.finishNode(o,"VariableDeclarator")),!l.eat(types.comma))break}return r};pp$1.parseVarId=function(r,i){r.id=this.parseBindingAtom(i),this.checkLVal(r.id,i,!1)};pp$1.parseFunction=function(r,i,s,l){this.initFunction(r),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!l)&&(r.generator=this.eat(types.star)),this.options.ecmaVersion>=8&&(r.async=!!l),i&&(r.id=i==="nullableID"&&this.type!==types.name?null:this.parseIdent(),r.id&&this.checkLVal(r.id,this.inModule&&!this.inFunction?"let":"var"));var o=this.inGenerator,y=this.inAsync,f=this.yieldPos,g=this.awaitPos,v=this.inFunction;return this.inGenerator=r.generator,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),i||(r.id=this.type===types.name?this.parseIdent():null),this.parseFunctionParams(r),this.parseFunctionBody(r,s),this.inGenerator=o,this.inAsync=y,this.yieldPos=f,this.awaitPos=g,this.inFunction=v,this.finishNode(r,i?"FunctionDeclaration":"FunctionExpression")};pp$1.parseFunctionParams=function(r){this.expect(types.parenL),r.params=this.parseBindingList(types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$1.parseClass=function(r,i){var s=this;this.next(),this.parseClassId(r,i),this.parseClassSuper(r);var l=this.startNode(),o=!1;for(l.body=[],this.expect(types.braceL);!this.eat(types.braceR);){var y=s.parseClassMember(l);y&&y.type==="MethodDefinition"&&y.kind==="constructor"&&(o&&s.raise(y.start,"Duplicate constructor in the same class"),o=!0)}return r.body=this.finishNode(l,"ClassBody"),this.finishNode(r,i?"ClassDeclaration":"ClassExpression")};pp$1.parseClassMember=function(r){var i=this;if(this.eat(types.semi))return null;var s=this.startNode(),l=function(g,v){v===void 0&&(v=!1);var p=i.start,d=i.startLoc;return i.eatContextual(g)?i.type!==types.parenL&&(!v||!i.canInsertSemicolon())?!0:(s.key&&i.unexpected(),s.computed=!1,s.key=i.startNodeAt(p,d),s.key.name=g,i.finishNode(s.key,"Identifier"),!1):!1};s.kind="method",s.static=l("static");var o=this.eat(types.star),y=!1;o||(this.options.ecmaVersion>=8&&l("async",!0)?(y=!0,o=this.options.ecmaVersion>=9&&this.eat(types.star)):l("get")?s.kind="get":l("set")&&(s.kind="set")),s.key||this.parsePropertyName(s);var f=s.key;return!s.computed&&!s.static&&(f.type==="Identifier"&&f.name==="constructor"||f.type==="Literal"&&f.value==="constructor")?(s.kind!=="method"&&this.raise(f.start,"Constructor can't have get/set modifier"),o&&this.raise(f.start,"Constructor can't be a generator"),y&&this.raise(f.start,"Constructor can't be an async method"),s.kind="constructor"):s.static&&f.type==="Identifier"&&f.name==="prototype"&&this.raise(f.start,"Classes may not have a static property named prototype"),this.parseClassMethod(r,s,o,y),s.kind==="get"&&s.value.params.length!==0&&this.raiseRecoverable(s.value.start,"getter should have no params"),s.kind==="set"&&s.value.params.length!==1&&this.raiseRecoverable(s.value.start,"setter should have exactly one param"),s.kind==="set"&&s.value.params[0].type==="RestElement"&&this.raiseRecoverable(s.value.params[0].start,"Setter cannot use rest params"),s};pp$1.parseClassMethod=function(r,i,s,l){i.value=this.parseMethod(s,l),r.body.push(this.finishNode(i,"MethodDefinition"))};pp$1.parseClassId=function(r,i){r.id=this.type===types.name?this.parseIdent():i===!0?this.unexpected():null};pp$1.parseClassSuper=function(r){r.superClass=this.eat(types._extends)?this.parseExprSubscripts():null};pp$1.parseExport=function(r,i){var s=this;if(this.next(),this.eat(types.star))return this.expectContextual("from"),this.type!==types.string&&this.unexpected(),r.source=this.parseExprAtom(),this.semicolon(),this.finishNode(r,"ExportAllDeclaration");if(this.eat(types._default)){this.checkExport(i,"default",this.lastTokStart);var l;if(this.type===types._function||(l=this.isAsyncFunction())){var o=this.startNode();this.next(),l&&this.next(),r.declaration=this.parseFunction(o,"nullableID",!1,l)}else if(this.type===types._class){var y=this.startNode();r.declaration=this.parseClass(y,"nullableID")}else r.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(r,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())r.declaration=this.parseStatement(!0),r.declaration.type==="VariableDeclaration"?this.checkVariableExport(i,r.declaration.declarations):this.checkExport(i,r.declaration.id.name,r.declaration.id.start),r.specifiers=[],r.source=null;else{if(r.declaration=null,r.specifiers=this.parseExportSpecifiers(i),this.eatContextual("from"))this.type!==types.string&&this.unexpected(),r.source=this.parseExprAtom();else{for(var f=0,g=r.specifiers;f<g.length;f+=1){var v=g[f];s.checkUnreserved(v.local)}r.source=null}this.semicolon()}return this.finishNode(r,"ExportNamedDeclaration")};pp$1.checkExport=function(r,i,s){r&&(has(r,i)&&this.raiseRecoverable(s,"Duplicate export '"+i+"'"),r[i]=!0)};pp$1.checkPatternExport=function(r,i){var s=this,l=i.type;if(l==="Identifier")this.checkExport(r,i.name,i.start);else if(l==="ObjectPattern")for(var o=0,y=i.properties;o<y.length;o+=1){var f=y[o];s.checkPatternExport(r,f)}else if(l==="ArrayPattern")for(var g=0,v=i.elements;g<v.length;g+=1){var p=v[g];p&&s.checkPatternExport(r,p)}else l==="Property"?this.checkPatternExport(r,i.value):l==="AssignmentPattern"?this.checkPatternExport(r,i.left):l==="RestElement"?this.checkPatternExport(r,i.argument):l==="ParenthesizedExpression"&&this.checkPatternExport(r,i.expression)};pp$1.checkVariableExport=function(r,i){var s=this;if(r)for(var l=0,o=i;l<o.length;l+=1){var y=o[l];s.checkPatternExport(r,y.id)}};pp$1.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$1.parseExportSpecifiers=function(r){var i=this,s=[],l=!0;for(this.expect(types.braceL);!this.eat(types.braceR);){if(l)l=!1;else if(i.expect(types.comma),i.afterTrailingComma(types.braceR))break;var o=i.startNode();o.local=i.parseIdent(!0),o.exported=i.eatContextual("as")?i.parseIdent(!0):o.local,i.checkExport(r,o.exported.name,o.exported.start),s.push(i.finishNode(o,"ExportSpecifier"))}return s};pp$1.parseImport=function(r){return this.next(),this.type===types.string?(r.specifiers=empty,r.source=this.parseExprAtom()):(r.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),r.source=this.type===types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(r,"ImportDeclaration")};pp$1.parseImportSpecifiers=function(){var r=this,i=[],s=!0;if(this.type===types.name){var l=this.startNode();if(l.local=this.parseIdent(),this.checkLVal(l.local,"let"),i.push(this.finishNode(l,"ImportDefaultSpecifier")),!this.eat(types.comma))return i}if(this.type===types.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLVal(o.local,"let"),i.push(this.finishNode(o,"ImportNamespaceSpecifier")),i}for(this.expect(types.braceL);!this.eat(types.braceR);){if(s)s=!1;else if(r.expect(types.comma),r.afterTrailingComma(types.braceR))break;var y=r.startNode();y.imported=r.parseIdent(!0),r.eatContextual("as")?y.local=r.parseIdent():(r.checkUnreserved(y.imported),y.local=y.imported),r.checkLVal(y.local,"let"),i.push(r.finishNode(y,"ImportSpecifier"))}return i};pp$1.adaptDirectivePrologue=function(r){for(var i=0;i<r.length&&this.isDirectiveCandidate(r[i]);++i)r[i].directive=r[i].expression.raw.slice(1,-1)};pp$1.isDirectiveCandidate=function(r){return r.type==="ExpressionStatement"&&r.expression.type==="Literal"&&typeof r.expression.value=="string"&&(this.input[r.start]==='"'||this.input[r.start]==="'")};var pp$2=Parser.prototype;pp$2.toAssignable=function(r,i,s){var l=this;if(this.options.ecmaVersion>=6&&r)switch(r.type){case"Identifier":this.inAsync&&r.name==="await"&&this.raise(r.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern",s&&this.checkPatternErrors(s,!0);for(var o=0,y=r.properties;o<y.length;o+=1){var f=y[o];l.toAssignable(f,i),f.type==="RestElement"&&(f.argument.type==="ArrayPattern"||f.argument.type==="ObjectPattern")&&l.raise(f.argument.start,"Unexpected token")}break;case"Property":r.kind!=="init"&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,i);break;case"ArrayExpression":r.type="ArrayPattern",s&&this.checkPatternErrors(s,!0),this.toAssignableList(r.elements,i);break;case"SpreadElement":r.type="RestElement",this.toAssignable(r.argument,i),r.argument.type==="AssignmentPattern"&&this.raise(r.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":r.operator!=="="&&this.raise(r.left.end,"Only '=' operator can be used for specifying default value."),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,i);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(r.expression,i);break;case"MemberExpression":if(!i)break;default:this.raise(r.start,"Assigning to rvalue")}else s&&this.checkPatternErrors(s,!0);return r};pp$2.toAssignableList=function(r,i){for(var s=this,l=r.length,o=0;o<l;o++){var y=r[o];y&&s.toAssignable(y,i)}if(l){var f=r[l-1];this.options.ecmaVersion===6&&i&&f&&f.type==="RestElement"&&f.argument.type!=="Identifier"&&this.unexpected(f.argument.start)}return r};pp$2.parseSpread=function(r){var i=this.startNode();return this.next(),i.argument=this.parseMaybeAssign(!1,r),this.finishNode(i,"SpreadElement")};pp$2.parseRestBinding=function(){var r=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types.name&&this.unexpected(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")};pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types.bracketL:var r=this.startNode();return this.next(),r.elements=this.parseBindingList(types.bracketR,!0,!0),this.finishNode(r,"ArrayPattern");case types.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$2.parseBindingList=function(r,i,s){for(var l=this,o=[],y=!0;!this.eat(r);)if(y?y=!1:l.expect(types.comma),i&&l.type===types.comma)o.push(null);else{if(s&&l.afterTrailingComma(r))break;if(l.type===types.ellipsis){var f=l.parseRestBinding();l.parseBindingListItem(f),o.push(f),l.type===types.comma&&l.raise(l.start,"Comma is not permitted after the rest element"),l.expect(r);break}else{var g=l.parseMaybeDefault(l.start,l.startLoc);l.parseBindingListItem(g),o.push(g)}}return o};pp$2.parseBindingListItem=function(r){return r};pp$2.parseMaybeDefault=function(r,i,s){if(s=s||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types.eq))return s;var l=this.startNodeAt(r,i);return l.left=s,l.right=this.parseMaybeAssign(),this.finishNode(l,"AssignmentPattern")};pp$2.checkLVal=function(r,i,s){var l=this;switch(r.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(r.name)&&this.raiseRecoverable(r.start,(i?"Binding ":"Assigning to ")+r.name+" in strict mode"),s&&(has(s,r.name)&&this.raiseRecoverable(r.start,"Argument name clash"),s[r.name]=!0),i&&i!=="none"&&((i==="var"&&!this.canDeclareVarName(r.name)||i!=="var"&&!this.canDeclareLexicalName(r.name))&&this.raiseRecoverable(r.start,"Identifier '"+r.name+"' has already been declared"),i==="var"?this.declareVarName(r.name):this.declareLexicalName(r.name));break;case"MemberExpression":i&&this.raiseRecoverable(r.start,"Binding member expression");break;case"ObjectPattern":for(var o=0,y=r.properties;o<y.length;o+=1){var f=y[o];l.checkLVal(f,i,s)}break;case"Property":this.checkLVal(r.value,i,s);break;case"ArrayPattern":for(var g=0,v=r.elements;g<v.length;g+=1){var p=v[g];p&&l.checkLVal(p,i,s)}break;case"AssignmentPattern":this.checkLVal(r.left,i,s);break;case"RestElement":this.checkLVal(r.argument,i,s);break;case"ParenthesizedExpression":this.checkLVal(r.expression,i,s);break;default:this.raise(r.start,(i?"Binding":"Assigning to")+" rvalue")}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(r,i,s){if(!(this.options.ecmaVersion>=9&&r.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(r.computed||r.method||r.shorthand))){var l=r.key,o;switch(l.type){case"Identifier":o=l.name;break;case"Literal":o=String(l.value);break;default:return}var y=r.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&y==="init"&&(i.proto&&(s&&s.doubleProto<0?s.doubleProto=l.start:this.raiseRecoverable(l.start,"Redefinition of __proto__ property")),i.proto=!0);return}o="$"+o;var f=i[o];if(f){var g;y==="init"?g=this.strict&&f.init||f.get||f.set:g=f.init||f[y],g&&this.raiseRecoverable(l.start,"Redefinition of property")}else f=i[o]={init:!1,get:!1,set:!1};f[y]=!0}};pp$3.parseExpression=function(r,i){var s=this,l=this.start,o=this.startLoc,y=this.parseMaybeAssign(r,i);if(this.type===types.comma){var f=this.startNodeAt(l,o);for(f.expressions=[y];this.eat(types.comma);)f.expressions.push(s.parseMaybeAssign(r,i));return this.finishNode(f,"SequenceExpression")}return y};pp$3.parseMaybeAssign=function(r,i,s){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var l=!1,o=-1,y=-1;i?(o=i.parenthesizedAssign,y=i.trailingComma,i.parenthesizedAssign=i.trailingComma=-1):(i=new DestructuringErrors,l=!0);var f=this.start,g=this.startLoc;(this.type===types.parenL||this.type===types.name)&&(this.potentialArrowAt=this.start);var v=this.parseMaybeConditional(r,i);if(s&&(v=s.call(this,v,f,g)),this.type.isAssign){var p=this.startNodeAt(f,g);return p.operator=this.value,p.left=this.type===types.eq?this.toAssignable(v,!1,i):v,l||DestructuringErrors.call(i),i.shorthandAssign=-1,this.checkLVal(v),this.next(),p.right=this.parseMaybeAssign(r),this.finishNode(p,"AssignmentExpression")}else l&&this.checkExpressionErrors(i,!0);return o>-1&&(i.parenthesizedAssign=o),y>-1&&(i.trailingComma=y),v};pp$3.parseMaybeConditional=function(r,i){var s=this.start,l=this.startLoc,o=this.parseExprOps(r,i);if(this.checkExpressionErrors(i))return o;if(this.eat(types.question)){var y=this.startNodeAt(s,l);return y.test=o,y.consequent=this.parseMaybeAssign(),this.expect(types.colon),y.alternate=this.parseMaybeAssign(r),this.finishNode(y,"ConditionalExpression")}return o};pp$3.parseExprOps=function(r,i){var s=this.start,l=this.startLoc,o=this.parseMaybeUnary(i,!1);return this.checkExpressionErrors(i)||o.start===s&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,s,l,-1,r)};pp$3.parseExprOp=function(r,i,s,l,o){var y=this.type.binop;if(y!=null&&(!o||this.type!==types._in)&&y>l){var f=this.type===types.logicalOR||this.type===types.logicalAND,g=this.value;this.next();var v=this.start,p=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1),v,p,y,o),S=this.buildBinary(i,s,r,d,g,f);return this.parseExprOp(S,i,s,l,o)}return r};pp$3.buildBinary=function(r,i,s,l,o,y){var f=this.startNodeAt(r,i);return f.left=s,f.operator=o,f.right=l,this.finishNode(f,y?"LogicalExpression":"BinaryExpression")};pp$3.parseMaybeUnary=function(r,i){var s=this,l=this.start,o=this.startLoc,y;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))y=this.parseAwait(),i=!0;else if(this.type.prefix){var f=this.startNode(),g=this.type===types.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(r,!0),g?this.checkLVal(f.argument):this.strict&&f.operator==="delete"&&f.argument.type==="Identifier"?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):i=!0,y=this.finishNode(f,g?"UpdateExpression":"UnaryExpression")}else{if(y=this.parseExprSubscripts(r),this.checkExpressionErrors(r))return y;for(;this.type.postfix&&!this.canInsertSemicolon();){var v=s.startNodeAt(l,o);v.operator=s.value,v.prefix=!1,v.argument=y,s.checkLVal(y),s.next(),y=s.finishNode(v,"UpdateExpression")}}return!i&&this.eat(types.starstar)?this.buildBinary(l,o,y,this.parseMaybeUnary(null,!1),"**",!1):y};pp$3.parseExprSubscripts=function(r){var i=this.start,s=this.startLoc,l=this.parseExprAtom(r),o=l.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")";if(this.checkExpressionErrors(r)||o)return l;var y=this.parseSubscripts(l,i,s);return r&&y.type==="MemberExpression"&&(r.parenthesizedAssign>=y.start&&(r.parenthesizedAssign=-1),r.parenthesizedBind>=y.start&&(r.parenthesizedBind=-1)),y};pp$3.parseSubscripts=function(r,i,s,l){for(var o=this,y=this.options.ecmaVersion>=8&&r.type==="Identifier"&&r.name==="async"&&this.lastTokEnd===r.end&&!this.canInsertSemicolon()&&this.input.slice(r.start,r.end)==="async",f=void 0;;)if((f=o.eat(types.bracketL))||o.eat(types.dot)){var g=o.startNodeAt(i,s);g.object=r,g.property=f?o.parseExpression():o.parseIdent(!0),g.computed=!!f,f&&o.expect(types.bracketR),r=o.finishNode(g,"MemberExpression")}else if(!l&&o.eat(types.parenL)){var v=new DestructuringErrors,p=o.yieldPos,d=o.awaitPos;o.yieldPos=0,o.awaitPos=0;var S=o.parseExprList(types.parenR,o.options.ecmaVersion>=8,!1,v);if(y&&!o.canInsertSemicolon()&&o.eat(types.arrow))return o.checkPatternErrors(v,!1),o.checkYieldAwaitInDefaultParams(),o.yieldPos=p,o.awaitPos=d,o.parseArrowExpression(o.startNodeAt(i,s),S,!0);o.checkExpressionErrors(v,!0),o.yieldPos=p||o.yieldPos,o.awaitPos=d||o.awaitPos;var x=o.startNodeAt(i,s);x.callee=r,x.arguments=S,r=o.finishNode(x,"CallExpression")}else if(o.type===types.backQuote){var T=o.startNodeAt(i,s);T.tag=r,T.quasi=o.parseTemplate({isTagged:!0}),r=o.finishNode(T,"TaggedTemplateExpression")}else return r};pp$3.parseExprAtom=function(r){var i,s=this.potentialArrowAt===this.start;switch(this.type){case types._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),i=this.startNode(),this.next(),this.type!==types.dot&&this.type!==types.bracketL&&this.type!==types.parenL&&this.unexpected(),this.finishNode(i,"Super");case types._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case types.name:var l=this.start,o=this.startLoc,y=this.containsEsc,f=this.parseIdent(this.type!==types.name);if(this.options.ecmaVersion>=8&&!y&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(types._function))return this.parseFunction(this.startNodeAt(l,o),!1,!1,!0);if(s&&!this.canInsertSemicolon()){if(this.eat(types.arrow))return this.parseArrowExpression(this.startNodeAt(l,o),[f],!1);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===types.name&&!y)return f=this.parseIdent(),(this.canInsertSemicolon()||!this.eat(types.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(l,o),[f],!0)}return f;case types.regexp:var g=this.value;return i=this.parseLiteral(g.value),i.regex={pattern:g.pattern,flags:g.flags},i;case types.num:case types.string:return this.parseLiteral(this.value);case types._null:case types._true:case types._false:return i=this.startNode(),i.value=this.type===types._null?null:this.type===types._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case types.parenL:var v=this.start,p=this.parseParenAndDistinguishExpression(s);return r&&(r.parenthesizedAssign<0&&!this.isSimpleAssignTarget(p)&&(r.parenthesizedAssign=v),r.parenthesizedBind<0&&(r.parenthesizedBind=v)),p;case types.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(types.bracketR,!0,!0,r),this.finishNode(i,"ArrayExpression");case types.braceL:return this.parseObj(!1,r);case types._function:return i=this.startNode(),this.next(),this.parseFunction(i,!1);case types._class:return this.parseClass(this.startNode(),!1);case types._new:return this.parseNew();case types.backQuote:return this.parseTemplate();default:this.unexpected()}};pp$3.parseLiteral=function(r){var i=this.startNode();return i.value=r,i.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(i,"Literal")};pp$3.parseParenExpression=function(){this.expect(types.parenL);var r=this.parseExpression();return this.expect(types.parenR),r};pp$3.parseParenAndDistinguishExpression=function(r){var i=this,s=this.start,l=this.startLoc,o,y=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var f=this.start,g=this.startLoc,v=[],p=!0,d=!1,S=new DestructuringErrors,x=this.yieldPos,T=this.awaitPos,O;for(this.yieldPos=0,this.awaitPos=0;this.type!==types.parenR;)if(p?p=!1:i.expect(types.comma),y&&i.afterTrailingComma(types.parenR,!0)){d=!0;break}else if(i.type===types.ellipsis){O=i.start,v.push(i.parseParenItem(i.parseRestBinding())),i.type===types.comma&&i.raise(i.start,"Comma is not permitted after the rest element");break}else v.push(i.parseMaybeAssign(!1,S,i.parseParenItem));var m=this.start,E=this.startLoc;if(this.expect(types.parenR),r&&!this.canInsertSemicolon()&&this.eat(types.arrow))return this.checkPatternErrors(S,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=x,this.awaitPos=T,this.parseParenArrowList(s,l,v);(!v.length||d)&&this.unexpected(this.lastTokStart),O&&this.unexpected(O),this.checkExpressionErrors(S,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=T||this.awaitPos,v.length>1?(o=this.startNodeAt(f,g),o.expressions=v,this.finishNodeAt(o,"SequenceExpression",m,E)):o=v[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var _=this.startNodeAt(s,l);return _.expression=o,this.finishNode(_,"ParenthesizedExpression")}else return o};pp$3.parseParenItem=function(r){return r};pp$3.parseParenArrowList=function(r,i,s){return this.parseArrowExpression(this.startNodeAt(r,i),s)};var empty$1=[];pp$3.parseNew=function(){var r=this.startNode(),i=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types.dot)){r.meta=i;var s=this.containsEsc;return r.property=this.parseIdent(!0),(r.property.name!=="target"||s)&&this.raiseRecoverable(r.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(r.start,"new.target can only be used in functions"),this.finishNode(r,"MetaProperty")}var l=this.start,o=this.startLoc;return r.callee=this.parseSubscripts(this.parseExprAtom(),l,o,!0),this.eat(types.parenL)?r.arguments=this.parseExprList(types.parenR,this.options.ecmaVersion>=8,!1):r.arguments=empty$1,this.finishNode(r,"NewExpression")};pp$3.parseTemplateElement=function(r){var i=r.isTagged,s=this.startNode();return this.type===types.invalidTemplate?(i||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),s.value={raw:this.value,cooked:null}):s.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),s.tail=this.type===types.backQuote,this.finishNode(s,"TemplateElement")};pp$3.parseTemplate=function(r){var i=this;r===void 0&&(r={});var s=r.isTagged;s===void 0&&(s=!1);var l=this.startNode();this.next(),l.expressions=[];var o=this.parseTemplateElement({isTagged:s});for(l.quasis=[o];!o.tail;)i.type===types.eof&&i.raise(i.pos,"Unterminated template literal"),i.expect(types.dollarBraceL),l.expressions.push(i.parseExpression()),i.expect(types.braceR),l.quasis.push(o=i.parseTemplateElement({isTagged:s}));return this.next(),this.finishNode(l,"TemplateLiteral")};pp$3.isAsyncProp=function(r){return!r.computed&&r.key.type==="Identifier"&&r.key.name==="async"&&(this.type===types.name||this.type===types.num||this.type===types.string||this.type===types.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$3.parseObj=function(r,i){var s=this,l=this.startNode(),o=!0,y={};for(l.properties=[],this.next();!this.eat(types.braceR);){if(o)o=!1;else if(s.expect(types.comma),s.afterTrailingComma(types.braceR))break;var f=s.parseProperty(r,i);r||s.checkPropClash(f,y,i),l.properties.push(f)}return this.finishNode(l,r?"ObjectPattern":"ObjectExpression")};pp$3.parseProperty=function(r,i){var s=this.startNode(),l,o,y,f;if(this.options.ecmaVersion>=9&&this.eat(types.ellipsis))return r?(s.argument=this.parseIdent(!1),this.type===types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===types.parenL&&i&&(i.parenthesizedAssign<0&&(i.parenthesizedAssign=this.start),i.parenthesizedBind<0&&(i.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,i),this.type===types.comma&&i&&i.trailingComma<0&&(i.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(r||i)&&(y=this.start,f=this.startLoc),r||(l=this.eat(types.star)));var g=this.containsEsc;return this.parsePropertyName(s),!r&&!g&&this.options.ecmaVersion>=8&&!l&&this.isAsyncProp(s)?(o=!0,l=this.options.ecmaVersion>=9&&this.eat(types.star),this.parsePropertyName(s,i)):o=!1,this.parsePropertyValue(s,r,l,o,y,f,i,g),this.finishNode(s,"Property")};pp$3.parsePropertyValue=function(r,i,s,l,o,y,f,g){if((s||l)&&this.type===types.colon&&this.unexpected(),this.eat(types.colon))r.value=i?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,f),r.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types.parenL)i&&this.unexpected(),r.kind="init",r.method=!0,r.value=this.parseMethod(s,l);else if(!i&&!g&&this.options.ecmaVersion>=5&&!r.computed&&r.key.type==="Identifier"&&(r.key.name==="get"||r.key.name==="set")&&this.type!==types.comma&&this.type!==types.braceR){(s||l)&&this.unexpected(),r.kind=r.key.name,this.parsePropertyName(r),r.value=this.parseMethod(!1);var v=r.kind==="get"?0:1;if(r.value.params.length!==v){var p=r.value.start;r.kind==="get"?this.raiseRecoverable(p,"getter should have no params"):this.raiseRecoverable(p,"setter should have exactly one param")}else r.kind==="set"&&r.value.params[0].type==="RestElement"&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!r.computed&&r.key.type==="Identifier"?(this.checkUnreserved(r.key),r.kind="init",i?r.value=this.parseMaybeDefault(o,y,r.key):this.type===types.eq&&f?(f.shorthandAssign<0&&(f.shorthandAssign=this.start),r.value=this.parseMaybeDefault(o,y,r.key)):r.value=r.key,r.shorthand=!0):this.unexpected()};pp$3.parsePropertyName=function(r){if(this.options.ecmaVersion>=6){if(this.eat(types.bracketL))return r.computed=!0,r.key=this.parseMaybeAssign(),this.expect(types.bracketR),r.key;r.computed=!1}return r.key=this.type===types.num||this.type===types.string?this.parseExprAtom():this.parseIdent(!0)};pp$3.initFunction=function(r){r.id=null,this.options.ecmaVersion>=6&&(r.generator=!1,r.expression=!1),this.options.ecmaVersion>=8&&(r.async=!1)};pp$3.parseMethod=function(r,i){var s=this.startNode(),l=this.inGenerator,o=this.inAsync,y=this.yieldPos,f=this.awaitPos,g=this.inFunction;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=r),this.options.ecmaVersion>=8&&(s.async=!!i),this.inGenerator=s.generator,this.inAsync=s.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(types.parenL),s.params=this.parseBindingList(types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1),this.inGenerator=l,this.inAsync=o,this.yieldPos=y,this.awaitPos=f,this.inFunction=g,this.finishNode(s,"FunctionExpression")};pp$3.parseArrowExpression=function(r,i,s){var l=this.inGenerator,o=this.inAsync,y=this.yieldPos,f=this.awaitPos,g=this.inFunction;return this.enterFunctionScope(),this.initFunction(r),this.options.ecmaVersion>=8&&(r.async=!!s),this.inGenerator=!1,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,r.params=this.toAssignableList(i,!0),this.parseFunctionBody(r,!0),this.inGenerator=l,this.inAsync=o,this.yieldPos=y,this.awaitPos=f,this.inFunction=g,this.finishNode(r,"ArrowFunctionExpression")};pp$3.parseFunctionBody=function(r,i){var s=i&&this.type!==types.braceL,l=this.strict,o=!1;if(s)r.body=this.parseMaybeAssign(),r.expression=!0,this.checkParams(r,!1);else{var y=this.options.ecmaVersion>=7&&!this.isSimpleParamList(r.params);(!l||y)&&(o=this.strictDirective(this.end),o&&y&&this.raiseRecoverable(r.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(r,!l&&!o&&!i&&this.isSimpleParamList(r.params)),r.body=this.parseBlock(!1),r.expression=!1,this.adaptDirectivePrologue(r.body.body),this.labels=f}this.exitFunctionScope(),this.strict&&r.id&&this.checkLVal(r.id,"none"),this.strict=l};pp$3.isSimpleParamList=function(r){for(var i=0,s=r;i<s.length;i+=1){var l=s[i];if(l.type!=="Identifier")return!1}return!0};pp$3.checkParams=function(r,i){for(var s=this,l={},o=0,y=r.params;o<y.length;o+=1){var f=y[o];s.checkLVal(f,"var",i?null:l)}};pp$3.parseExprList=function(r,i,s,l){for(var o=this,y=[],f=!0;!this.eat(r);){if(f)f=!1;else if(o.expect(types.comma),i&&o.afterTrailingComma(r))break;var g=void 0;s&&o.type===types.comma?g=null:o.type===types.ellipsis?(g=o.parseSpread(l),l&&o.type===types.comma&&l.trailingComma<0&&(l.trailingComma=o.start)):g=o.parseMaybeAssign(!1,l),y.push(g)}return y};pp$3.checkUnreserved=function(r){var i=r.start,s=r.end,l=r.name;if(this.inGenerator&&l==="yield"&&this.raiseRecoverable(i,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&l==="await"&&this.raiseRecoverable(i,"Can not use 'await' as identifier inside an async function"),this.isKeyword(l)&&this.raise(i,"Unexpected keyword '"+l+"'"),!(this.options.ecmaVersion<6&&this.input.slice(i,s).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(l)&&(!this.inAsync&&l==="await"&&this.raiseRecoverable(i,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(i,"The keyword '"+l+"' is reserved"))}};pp$3.parseIdent=function(r,i){var s=this.startNode();return r&&this.options.allowReserved==="never"&&(r=!1),this.type===types.name?s.name=this.value:this.type.keyword?(s.name=this.type.keyword,(s.name==="class"||s.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(),this.finishNode(s,"Identifier"),r||this.checkUnreserved(s),s};pp$3.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===types.semi||this.canInsertSemicolon()||this.type!==types.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(types.star),r.argument=this.parseMaybeAssign()),this.finishNode(r,"YieldExpression")};pp$3.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0),this.finishNode(r,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(r,i){var s=getLineInfo(this.input,r);i+=" ("+s.line+":"+s.column+")";var l=new SyntaxError(i);throw l.pos=r,l.loc=s,l.raisedAt=this.pos,l};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$5=Parser.prototype,assign=Object.assign||function(r){for(var i=[],s=arguments.length-1;s-- >0;)i[s]=arguments[s+1];for(var l=0,o=i;l<o.length;l+=1){var y=o[l];for(var f in y)has(y,f)&&(r[f]=y[f])}return r};pp$5.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})};pp$5.exitFunctionScope=function(){this.scopeStack.pop()};pp$5.enterLexicalScope=function(){var r=this.scopeStack[this.scopeStack.length-1],i={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(i),assign(i.parentLexical,r.lexical,r.parentLexical)};pp$5.exitLexicalScope=function(){var r=this.scopeStack.pop(),i=this.scopeStack[this.scopeStack.length-1];assign(i.childVar,r.var,r.childVar)};pp$5.canDeclareVarName=function(r){var i=this.scopeStack[this.scopeStack.length-1];return!has(i.lexical,r)&&!has(i.parentLexical,r)};pp$5.canDeclareLexicalName=function(r){var i=this.scopeStack[this.scopeStack.length-1];return!has(i.lexical,r)&&!has(i.var,r)&&!has(i.childVar,r)};pp$5.declareVarName=function(r){this.scopeStack[this.scopeStack.length-1].var[r]=!0};pp$5.declareLexicalName=function(r){this.scopeStack[this.scopeStack.length-1].lexical[r]=!0};var Node=function(i,s,l){this.type="",this.start=s,this.end=0,i.options.locations&&(this.loc=new SourceLocation(i,l)),i.options.directSourceFile&&(this.sourceFile=i.options.directSourceFile),i.options.ranges&&(this.range=[s,0])},pp$6=Parser.prototype;pp$6.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$6.startNodeAt=function(r,i){return new Node(this,r,i)};function finishNodeAt(r,i,s,l){return r.type=i,r.end=s,this.options.locations&&(r.loc.end=l),this.options.ranges&&(r.range[1]=s),r}pp$6.finishNode=function(r,i){return finishNodeAt.call(this,r,i,this.lastTokEnd,this.lastTokEndLoc)};pp$6.finishNodeAt=function(r,i,s,l){return finishNodeAt.call(this,r,i,s,l)};var TokContext=function(i,s,l,o,y){this.token=i,this.isExpr=!!s,this.preserveSpace=!!l,this.override=o,this.generator=!!y},types$1={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(r){return r.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$7=Parser.prototype;pp$7.initialContext=function(){return[types$1.b_stat]};pp$7.braceIsBlock=function(r){var i=this.curContext();return i===types$1.f_expr||i===types$1.f_stat?!0:r===types.colon&&(i===types$1.b_stat||i===types$1.b_expr)?!i.isExpr:r===types._return||r===types.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):r===types._else||r===types.semi||r===types.eof||r===types.parenR||r===types.arrow?!0:r===types.braceL?i===types$1.b_stat:r===types._var||r===types.name?!1:!this.exprAllowed};pp$7.inGeneratorContext=function(){for(var r=this,i=this.context.length-1;i>=1;i--){var s=r.context[i];if(s.token==="function")return s.generator}return!1};pp$7.updateContext=function(r){var i,s=this.type;s.keyword&&r===types.dot?this.exprAllowed=!1:(i=s.updateContext)?i.call(this,r):this.exprAllowed=s.beforeExpr};types.parenR.updateContext=types.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var r=this.context.pop();r===types$1.b_stat&&this.curContext().token==="function"&&(r=this.context.pop()),this.exprAllowed=!r.isExpr};types.braceL.updateContext=function(r){this.context.push(this.braceIsBlock(r)?types$1.b_stat:types$1.b_expr),this.exprAllowed=!0};types.dollarBraceL.updateContext=function(){this.context.push(types$1.b_tmpl),this.exprAllowed=!0};types.parenL.updateContext=function(r){var i=r===types._if||r===types._for||r===types._with||r===types._while;this.context.push(i?types$1.p_stat:types$1.p_expr),this.exprAllowed=!0};types.incDec.updateContext=function(){};types._function.updateContext=types._class.updateContext=function(r){r.beforeExpr&&r!==types.semi&&r!==types._else&&!((r===types.colon||r===types.braceL)&&this.curContext()===types$1.b_stat)?this.context.push(types$1.f_expr):this.context.push(types$1.f_stat),this.exprAllowed=!1};types.backQuote.updateContext=function(){this.curContext()===types$1.q_tmpl?this.context.pop():this.context.push(types$1.q_tmpl),this.exprAllowed=!1};types.star.updateContext=function(r){if(r===types._function){var i=this.context.length-1;this.context[i]===types$1.f_expr?this.context[i]=types$1.f_expr_gen:this.context[i]=types$1.f_gen}this.exprAllowed=!0};types.name.updateContext=function(r){var i=!1;this.options.ecmaVersion>=6&&r!==types.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(i=!0),this.exprAllowed=i};var data={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(data.$LONE,data.General_Category);data.gc=data.General_Category;data.sc=data.Script_Extensions=data.scx=data.Script;var pp$9=Parser.prototype,RegExpValidationState=function(i){this.parser=i,this.validFlags="gim"+(i.options.ecmaVersion>=6?"uy":"")+(i.options.ecmaVersion>=9?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function(i,s,l){var o=l.indexOf("u")!==-1;this.start=i|0,this.source=s+"",this.flags=l,this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchN=o&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function(i){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+i)};RegExpValidationState.prototype.at=function(i){var s=this.source,l=s.length;if(i>=l)return-1;var o=s.charCodeAt(i);if(!this.switchU||o<=55295||o>=57344||i+1>=l)return o;var y=s.charCodeAt(i+1);return y>=56320&&y<=57343?(o<<10)+y-56613888:o};RegExpValidationState.prototype.nextIndex=function(i){var s=this.source,l=s.length;if(i>=l)return l;var o=s.charCodeAt(i),y;return!this.switchU||o<=55295||o>=57344||i+1>=l||(y=s.charCodeAt(i+1))<56320||y>57343?i+1:i+2};RegExpValidationState.prototype.current=function(){return this.at(this.pos)};RegExpValidationState.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))};RegExpValidationState.prototype.advance=function(){this.pos=this.nextIndex(this.pos)};RegExpValidationState.prototype.eat=function(i){return this.current()===i?(this.advance(),!0):!1};function codePointToString$1(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}pp$9.validateRegExpFlags=function(r){for(var i=this,s=r.validFlags,l=r.flags,o=0;o<l.length;o++){var y=l.charAt(o);s.indexOf(y)===-1&&i.raise(r.start,"Invalid regular expression flag"),l.indexOf(y,o+1)>-1&&i.raise(r.start,"Duplicate regular expression flag")}};pp$9.validateRegExpPattern=function(r){this.regexp_pattern(r),!r.switchN&&this.options.ecmaVersion>=9&&r.groupNames.length>0&&(r.switchN=!0,this.regexp_pattern(r))};pp$9.regexp_pattern=function(r){r.pos=0,r.lastIntValue=0,r.lastStringValue="",r.lastAssertionIsQuantifiable=!1,r.numCapturingParens=0,r.maxBackReference=0,r.groupNames.length=0,r.backReferenceNames.length=0,this.regexp_disjunction(r),r.pos!==r.source.length&&(r.eat(41)&&r.raise("Unmatched ')'"),(r.eat(93)||r.eat(125))&&r.raise("Lone quantifier brackets")),r.maxBackReference>r.numCapturingParens&&r.raise("Invalid escape");for(var i=0,s=r.backReferenceNames;i<s.length;i+=1){var l=s[i];r.groupNames.indexOf(l)===-1&&r.raise("Invalid named capture referenced")}};pp$9.regexp_disjunction=function(r){var i=this;for(this.regexp_alternative(r);r.eat(124);)i.regexp_alternative(r);this.regexp_eatQuantifier(r,!0)&&r.raise("Nothing to repeat"),r.eat(123)&&r.raise("Lone quantifier brackets")};pp$9.regexp_alternative=function(r){for(;r.pos<r.source.length&&this.regexp_eatTerm(r););};pp$9.regexp_eatTerm=function(r){return this.regexp_eatAssertion(r)?(r.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(r)&&r.switchU&&r.raise("Invalid quantifier"),!0):(r.switchU?this.regexp_eatAtom(r):this.regexp_eatExtendedAtom(r))?(this.regexp_eatQuantifier(r),!0):!1};pp$9.regexp_eatAssertion=function(r){var i=r.pos;if(r.lastAssertionIsQuantifiable=!1,r.eat(94)||r.eat(36))return!0;if(r.eat(92)){if(r.eat(66)||r.eat(98))return!0;r.pos=i}if(r.eat(40)&&r.eat(63)){var s=!1;if(this.options.ecmaVersion>=9&&(s=r.eat(60)),r.eat(61)||r.eat(33))return this.regexp_disjunction(r),r.eat(41)||r.raise("Unterminated group"),r.lastAssertionIsQuantifiable=!s,!0}return r.pos=i,!1};pp$9.regexp_eatQuantifier=function(r,i){return i===void 0&&(i=!1),this.regexp_eatQuantifierPrefix(r,i)?(r.eat(63),!0):!1};pp$9.regexp_eatQuantifierPrefix=function(r,i){return r.eat(42)||r.eat(43)||r.eat(63)||this.regexp_eatBracedQuantifier(r,i)};pp$9.regexp_eatBracedQuantifier=function(r,i){var s=r.pos;if(r.eat(123)){var l=0,o=-1;if(this.regexp_eatDecimalDigits(r)&&(l=r.lastIntValue,r.eat(44)&&this.regexp_eatDecimalDigits(r)&&(o=r.lastIntValue),r.eat(125)))return o!==-1&&o<l&&!i&&r.raise("numbers out of order in {} quantifier"),!0;r.switchU&&!i&&r.raise("Incomplete quantifier"),r.pos=s}return!1};pp$9.regexp_eatAtom=function(r){return this.regexp_eatPatternCharacters(r)||r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)};pp$9.regexp_eatReverseSolidusAtomEscape=function(r){var i=r.pos;if(r.eat(92)){if(this.regexp_eatAtomEscape(r))return!0;r.pos=i}return!1};pp$9.regexp_eatUncapturingGroup=function(r){var i=r.pos;if(r.eat(40)){if(r.eat(63)&&r.eat(58)){if(this.regexp_disjunction(r),r.eat(41))return!0;r.raise("Unterminated group")}r.pos=i}return!1};pp$9.regexp_eatCapturingGroup=function(r){if(r.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(r):r.current()===63&&r.raise("Invalid group"),this.regexp_disjunction(r),r.eat(41))return r.numCapturingParens+=1,!0;r.raise("Unterminated group")}return!1};pp$9.regexp_eatExtendedAtom=function(r){return r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)||this.regexp_eatInvalidBracedQuantifier(r)||this.regexp_eatExtendedPatternCharacter(r)};pp$9.regexp_eatInvalidBracedQuantifier=function(r){return this.regexp_eatBracedQuantifier(r,!0)&&r.raise("Nothing to repeat"),!1};pp$9.regexp_eatSyntaxCharacter=function(r){var i=r.current();return isSyntaxCharacter(i)?(r.lastIntValue=i,r.advance(),!0):!1};function isSyntaxCharacter(r){return r===36||r>=40&&r<=43||r===46||r===63||r>=91&&r<=94||r>=123&&r<=125}pp$9.regexp_eatPatternCharacters=function(r){for(var i=r.pos,s=0;(s=r.current())!==-1&&!isSyntaxCharacter(s);)r.advance();return r.pos!==i};pp$9.regexp_eatExtendedPatternCharacter=function(r){var i=r.current();return i!==-1&&i!==36&&!(i>=40&&i<=43)&&i!==46&&i!==63&&i!==91&&i!==94&&i!==124?(r.advance(),!0):!1};pp$9.regexp_groupSpecifier=function(r){if(r.eat(63)){if(this.regexp_eatGroupName(r)){r.groupNames.indexOf(r.lastStringValue)!==-1&&r.raise("Duplicate capture group name"),r.groupNames.push(r.lastStringValue);return}r.raise("Invalid group")}};pp$9.regexp_eatGroupName=function(r){if(r.lastStringValue="",r.eat(60)){if(this.regexp_eatRegExpIdentifierName(r)&&r.eat(62))return!0;r.raise("Invalid capture group name")}return!1};pp$9.regexp_eatRegExpIdentifierName=function(r){if(r.lastStringValue="",this.regexp_eatRegExpIdentifierStart(r)){for(r.lastStringValue+=codePointToString$1(r.lastIntValue);this.regexp_eatRegExpIdentifierPart(r);)r.lastStringValue+=codePointToString$1(r.lastIntValue);return!0}return!1};pp$9.regexp_eatRegExpIdentifierStart=function(r){var i=r.pos,s=r.current();return r.advance(),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r)&&(s=r.lastIntValue),isRegExpIdentifierStart(s)?(r.lastIntValue=s,!0):(r.pos=i,!1)};function isRegExpIdentifierStart(r){return isIdentifierStart(r,!0)||r===36||r===95}pp$9.regexp_eatRegExpIdentifierPart=function(r){var i=r.pos,s=r.current();return r.advance(),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r)&&(s=r.lastIntValue),isRegExpIdentifierPart(s)?(r.lastIntValue=s,!0):(r.pos=i,!1)};function isRegExpIdentifierPart(r){return isIdentifierChar(r,!0)||r===36||r===95||r===8204||r===8205}pp$9.regexp_eatAtomEscape=function(r){return this.regexp_eatBackReference(r)||this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)||r.switchN&&this.regexp_eatKGroupName(r)?!0:(r.switchU&&(r.current()===99&&r.raise("Invalid unicode escape"),r.raise("Invalid escape")),!1)};pp$9.regexp_eatBackReference=function(r){var i=r.pos;if(this.regexp_eatDecimalEscape(r)){var s=r.lastIntValue;if(r.switchU)return s>r.maxBackReference&&(r.maxBackReference=s),!0;if(s<=r.numCapturingParens)return!0;r.pos=i}return!1};pp$9.regexp_eatKGroupName=function(r){if(r.eat(107)){if(this.regexp_eatGroupName(r))return r.backReferenceNames.push(r.lastStringValue),!0;r.raise("Invalid named reference")}return!1};pp$9.regexp_eatCharacterEscape=function(r){return this.regexp_eatControlEscape(r)||this.regexp_eatCControlLetter(r)||this.regexp_eatZero(r)||this.regexp_eatHexEscapeSequence(r)||this.regexp_eatRegExpUnicodeEscapeSequence(r)||!r.switchU&&this.regexp_eatLegacyOctalEscapeSequence(r)||this.regexp_eatIdentityEscape(r)};pp$9.regexp_eatCControlLetter=function(r){var i=r.pos;if(r.eat(99)){if(this.regexp_eatControlLetter(r))return!0;r.pos=i}return!1};pp$9.regexp_eatZero=function(r){return r.current()===48&&!isDecimalDigit(r.lookahead())?(r.lastIntValue=0,r.advance(),!0):!1};pp$9.regexp_eatControlEscape=function(r){var i=r.current();return i===116?(r.lastIntValue=9,r.advance(),!0):i===110?(r.lastIntValue=10,r.advance(),!0):i===118?(r.lastIntValue=11,r.advance(),!0):i===102?(r.lastIntValue=12,r.advance(),!0):i===114?(r.lastIntValue=13,r.advance(),!0):!1};pp$9.regexp_eatControlLetter=function(r){var i=r.current();return isControlLetter(i)?(r.lastIntValue=i%32,r.advance(),!0):!1};function isControlLetter(r){return r>=65&&r<=90||r>=97&&r<=122}pp$9.regexp_eatRegExpUnicodeEscapeSequence=function(r){var i=r.pos;if(r.eat(117)){if(this.regexp_eatFixedHexDigits(r,4)){var s=r.lastIntValue;if(r.switchU&&s>=55296&&s<=56319){var l=r.pos;if(r.eat(92)&&r.eat(117)&&this.regexp_eatFixedHexDigits(r,4)){var o=r.lastIntValue;if(o>=56320&&o<=57343)return r.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}r.pos=l,r.lastIntValue=s}return!0}if(r.switchU&&r.eat(123)&&this.regexp_eatHexDigits(r)&&r.eat(125)&&isValidUnicode(r.lastIntValue))return!0;r.switchU&&r.raise("Invalid unicode escape"),r.pos=i}return!1};function isValidUnicode(r){return r>=0&&r<=1114111}pp$9.regexp_eatIdentityEscape=function(r){if(r.switchU)return this.regexp_eatSyntaxCharacter(r)?!0:r.eat(47)?(r.lastIntValue=47,!0):!1;var i=r.current();return i!==99&&(!r.switchN||i!==107)?(r.lastIntValue=i,r.advance(),!0):!1};pp$9.regexp_eatDecimalEscape=function(r){r.lastIntValue=0;var i=r.current();if(i>=49&&i<=57){do r.lastIntValue=10*r.lastIntValue+(i-48),r.advance();while((i=r.current())>=48&&i<=57);return!0}return!1};pp$9.regexp_eatCharacterClassEscape=function(r){var i=r.current();if(isCharacterClassEscape(i))return r.lastIntValue=-1,r.advance(),!0;if(r.switchU&&this.options.ecmaVersion>=9&&(i===80||i===112)){if(r.lastIntValue=-1,r.advance(),r.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(r)&&r.eat(125))return!0;r.raise("Invalid property name")}return!1};function isCharacterClassEscape(r){return r===100||r===68||r===115||r===83||r===119||r===87}pp$9.regexp_eatUnicodePropertyValueExpression=function(r){var i=r.pos;if(this.regexp_eatUnicodePropertyName(r)&&r.eat(61)){var s=r.lastStringValue;if(this.regexp_eatUnicodePropertyValue(r)){var l=r.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(r,s,l),!0}}if(r.pos=i,this.regexp_eatLoneUnicodePropertyNameOrValue(r)){var o=r.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(r,o),!0}return!1};pp$9.regexp_validateUnicodePropertyNameAndValue=function(r,i,s){(!data.hasOwnProperty(i)||data[i].indexOf(s)===-1)&&r.raise("Invalid property name")};pp$9.regexp_validateUnicodePropertyNameOrValue=function(r,i){data.$LONE.indexOf(i)===-1&&r.raise("Invalid property name")};pp$9.regexp_eatUnicodePropertyName=function(r){var i=0;for(r.lastStringValue="";isUnicodePropertyNameCharacter(i=r.current());)r.lastStringValue+=codePointToString$1(i),r.advance();return r.lastStringValue!==""};function isUnicodePropertyNameCharacter(r){return isControlLetter(r)||r===95}pp$9.regexp_eatUnicodePropertyValue=function(r){var i=0;for(r.lastStringValue="";isUnicodePropertyValueCharacter(i=r.current());)r.lastStringValue+=codePointToString$1(i),r.advance();return r.lastStringValue!==""};function isUnicodePropertyValueCharacter(r){return isUnicodePropertyNameCharacter(r)||isDecimalDigit(r)}pp$9.regexp_eatLoneUnicodePropertyNameOrValue=function(r){return this.regexp_eatUnicodePropertyValue(r)};pp$9.regexp_eatCharacterClass=function(r){if(r.eat(91)){if(r.eat(94),this.regexp_classRanges(r),r.eat(93))return!0;r.raise("Unterminated character class")}return!1};pp$9.regexp_classRanges=function(r){for(var i=this;this.regexp_eatClassAtom(r);){var s=r.lastIntValue;if(r.eat(45)&&i.regexp_eatClassAtom(r)){var l=r.lastIntValue;r.switchU&&(s===-1||l===-1)&&r.raise("Invalid character class"),s!==-1&&l!==-1&&s>l&&r.raise("Range out of order in character class")}}};pp$9.regexp_eatClassAtom=function(r){var i=r.pos;if(r.eat(92)){if(this.regexp_eatClassEscape(r))return!0;if(r.switchU){var s=r.current();(s===99||isOctalDigit(s))&&r.raise("Invalid class escape"),r.raise("Invalid escape")}r.pos=i}var l=r.current();return l!==93?(r.lastIntValue=l,r.advance(),!0):!1};pp$9.regexp_eatClassEscape=function(r){var i=r.pos;if(r.eat(98))return r.lastIntValue=8,!0;if(r.switchU&&r.eat(45))return r.lastIntValue=45,!0;if(!r.switchU&&r.eat(99)){if(this.regexp_eatClassControlLetter(r))return!0;r.pos=i}return this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)};pp$9.regexp_eatClassControlLetter=function(r){var i=r.current();return isDecimalDigit(i)||i===95?(r.lastIntValue=i%32,r.advance(),!0):!1};pp$9.regexp_eatHexEscapeSequence=function(r){var i=r.pos;if(r.eat(120)){if(this.regexp_eatFixedHexDigits(r,2))return!0;r.switchU&&r.raise("Invalid escape"),r.pos=i}return!1};pp$9.regexp_eatDecimalDigits=function(r){var i=r.pos,s=0;for(r.lastIntValue=0;isDecimalDigit(s=r.current());)r.lastIntValue=10*r.lastIntValue+(s-48),r.advance();return r.pos!==i};function isDecimalDigit(r){return r>=48&&r<=57}pp$9.regexp_eatHexDigits=function(r){var i=r.pos,s=0;for(r.lastIntValue=0;isHexDigit(s=r.current());)r.lastIntValue=16*r.lastIntValue+hexToInt(s),r.advance();return r.pos!==i};function isHexDigit(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}function hexToInt(r){return r>=65&&r<=70?10+(r-65):r>=97&&r<=102?10+(r-97):r-48}pp$9.regexp_eatLegacyOctalEscapeSequence=function(r){if(this.regexp_eatOctalDigit(r)){var i=r.lastIntValue;if(this.regexp_eatOctalDigit(r)){var s=r.lastIntValue;i<=3&&this.regexp_eatOctalDigit(r)?r.lastIntValue=i*64+s*8+r.lastIntValue:r.lastIntValue=i*8+s}else r.lastIntValue=i;return!0}return!1};pp$9.regexp_eatOctalDigit=function(r){var i=r.current();return isOctalDigit(i)?(r.lastIntValue=i-48,r.advance(),!0):(r.lastIntValue=0,!1)};function isOctalDigit(r){return r>=48&&r<=55}pp$9.regexp_eatFixedHexDigits=function(r,i){var s=r.pos;r.lastIntValue=0;for(var l=0;l<i;++l){var o=r.current();if(!isHexDigit(o))return r.pos=s,!1;r.lastIntValue=16*r.lastIntValue+hexToInt(o),r.advance()}return!0};var Token=function(i){this.type=i.type,this.value=i.value,this.start=i.start,this.end=i.end,i.options.locations&&(this.loc=new SourceLocation(i,i.startLoc,i.endLoc)),i.options.ranges&&(this.range=[i.start,i.end])},pp$8=Parser.prototype;pp$8.next=function(){this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp$8.getToken=function(){return this.next(),new Token(this)};typeof Symbol<"u"&&(pp$8[Symbol.iterator]=function(){var r=this;return{next:function(){var i=r.getToken();return{done:i.type===types.eof,value:i}}}});pp$8.curContext=function(){return this.context[this.context.length-1]};pp$8.nextToken=function(){var r=this.curContext();if((!r||!r.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types.eof);if(r.override)return r.override(this);this.readToken(this.fullCharCodeAtPos())};pp$8.readToken=function(r){return isIdentifierStart(r,this.options.ecmaVersion>=6)||r===92?this.readWord():this.getTokenFromCode(r)};pp$8.fullCharCodeAtPos=function(){var r=this.input.charCodeAt(this.pos);if(r<=55295||r>=57344)return r;var i=this.input.charCodeAt(this.pos+1);return(r<<10)+i-56613888};pp$8.skipBlockComment=function(){var r=this,i=this.options.onComment&&this.curPosition(),s=this.pos,l=this.input.indexOf("*/",this.pos+=2);if(l===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=l+2,this.options.locations){lineBreakG.lastIndex=s;for(var o;(o=lineBreakG.exec(this.input))&&o.index<this.pos;)++r.curLine,r.lineStart=o.index+o[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(s+2,l),s,this.pos,i,this.curPosition())};pp$8.skipLineComment=function(r){for(var i=this,s=this.pos,l=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=r);this.pos<this.input.length&&!isNewLine(o);)o=i.input.charCodeAt(++i.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(s+r,this.pos),s,this.pos,l,this.curPosition())};pp$8.skipSpace=function(){var r=this;e:for(;this.pos<this.input.length;){var i=r.input.charCodeAt(r.pos);switch(i){case 32:case 160:++r.pos;break;case 13:r.input.charCodeAt(r.pos+1)===10&&++r.pos;case 10:case 8232:case 8233:++r.pos,r.options.locations&&(++r.curLine,r.lineStart=r.pos);break;case 47:switch(r.input.charCodeAt(r.pos+1)){case 42:r.skipBlockComment();break;case 47:r.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&nonASCIIwhitespace.test(String.fromCharCode(i)))++r.pos;else break e}}};pp$8.finishToken=function(r,i){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var s=this.type;this.type=r,this.value=i,this.updateContext(s)};pp$8.readToken_dot=function(){var r=this.input.charCodeAt(this.pos+1);if(r>=48&&r<=57)return this.readNumber(!0);var i=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&r===46&&i===46?(this.pos+=3,this.finishToken(types.ellipsis)):(++this.pos,this.finishToken(types.dot))};pp$8.readToken_slash=function(){var r=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):r===61?this.finishOp(types.assign,2):this.finishOp(types.slash,1)};pp$8.readToken_mult_modulo_exp=function(r){var i=this.input.charCodeAt(this.pos+1),s=1,l=r===42?types.star:types.modulo;return this.options.ecmaVersion>=7&&r===42&&i===42&&(++s,l=types.starstar,i=this.input.charCodeAt(this.pos+2)),i===61?this.finishOp(types.assign,s+1):this.finishOp(l,s)};pp$8.readToken_pipe_amp=function(r){var i=this.input.charCodeAt(this.pos+1);return i===r?this.finishOp(r===124?types.logicalOR:types.logicalAND,2):i===61?this.finishOp(types.assign,2):this.finishOp(r===124?types.bitwiseOR:types.bitwiseAND,1)};pp$8.readToken_caret=function(){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(types.assign,2):this.finishOp(types.bitwiseXOR,1)};pp$8.readToken_plus_min=function(r){var i=this.input.charCodeAt(this.pos+1);return i===r?i===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types.incDec,2):i===61?this.finishOp(types.assign,2):this.finishOp(types.plusMin,1)};pp$8.readToken_lt_gt=function(r){var i=this.input.charCodeAt(this.pos+1),s=1;return i===r?(s=r===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+s)===61?this.finishOp(types.assign,s+1):this.finishOp(types.bitShift,s)):i===33&&r===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(i===61&&(s=2),this.finishOp(types.relational,s))};pp$8.readToken_eq_excl=function(r){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(types.equality,this.input.charCodeAt(this.pos+2)===61?3:2):r===61&&i===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types.arrow)):this.finishOp(r===61?types.eq:types.prefix,1)};pp$8.getTokenFromCode=function(r){switch(r){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types.parenL);case 41:return++this.pos,this.finishToken(types.parenR);case 59:return++this.pos,this.finishToken(types.semi);case 44:return++this.pos,this.finishToken(types.comma);case 91:return++this.pos,this.finishToken(types.bracketL);case 93:return++this.pos,this.finishToken(types.bracketR);case 123:return++this.pos,this.finishToken(types.braceL);case 125:return++this.pos,this.finishToken(types.braceR);case 58:return++this.pos,this.finishToken(types.colon);case 63:return++this.pos,this.finishToken(types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types.backQuote);case 48:var i=this.input.charCodeAt(this.pos+1);if(i===120||i===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(i===111||i===79)return this.readRadixNumber(8);if(i===98||i===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(r);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(r);case 124:case 38:return this.readToken_pipe_amp(r);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(r);case 60:case 62:return this.readToken_lt_gt(r);case 61:case 33:return this.readToken_eq_excl(r);case 126:return this.finishOp(types.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(r)+"'")};pp$8.finishOp=function(r,i){var s=this.input.slice(this.pos,this.pos+i);return this.pos+=i,this.finishToken(r,s)};pp$8.readRegexp=function(){for(var r=this,i,s,l=this.pos;;){r.pos>=r.input.length&&r.raise(l,"Unterminated regular expression");var o=r.input.charAt(r.pos);if(lineBreak.test(o)&&r.raise(l,"Unterminated regular expression"),i)i=!1;else{if(o==="[")s=!0;else if(o==="]"&&s)s=!1;else if(o==="/"&&!s)break;i=o==="\\"}++r.pos}var y=this.input.slice(l,this.pos);++this.pos;var f=this.pos,g=this.readWord1();this.containsEsc&&this.unexpected(f);var v=this.regexpState||(this.regexpState=new RegExpValidationState(this));v.reset(l,y,g),this.validateRegExpFlags(v),this.validateRegExpPattern(v);var p=null;try{p=new RegExp(y,g)}catch{}return this.finishToken(types.regexp,{pattern:y,flags:g,value:p})};pp$8.readInt=function(r,i){for(var s=this,l=this.pos,o=0,y=0,f=i??1/0;y<f;++y){var g=s.input.charCodeAt(s.pos),v=void 0;if(g>=97?v=g-97+10:g>=65?v=g-65+10:g>=48&&g<=57?v=g-48:v=1/0,v>=r)break;++s.pos,o=o*r+v}return this.pos===l||i!=null&&this.pos-l!==i?null:o};pp$8.readRadixNumber=function(r){this.pos+=2;var i=this.readInt(r);return i==null&&this.raise(this.start+2,"Expected number in radix "+r),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types.num,i)};pp$8.readNumber=function(r){var i=this.pos;!r&&this.readInt(10)===null&&this.raise(i,"Invalid number");var s=this.pos-i>=2&&this.input.charCodeAt(i)===48;s&&this.strict&&this.raise(i,"Invalid number"),s&&/[89]/.test(this.input.slice(i,this.pos))&&(s=!1);var l=this.input.charCodeAt(this.pos);l===46&&!s&&(++this.pos,this.readInt(10),l=this.input.charCodeAt(this.pos)),(l===69||l===101)&&!s&&(l=this.input.charCodeAt(++this.pos),(l===43||l===45)&&++this.pos,this.readInt(10)===null&&this.raise(i,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=this.input.slice(i,this.pos),y=s?parseInt(o,8):parseFloat(o);return this.finishToken(types.num,y)};pp$8.readCodePoint=function(){var r=this.input.charCodeAt(this.pos),i;if(r===123){this.options.ecmaVersion<6&&this.unexpected();var s=++this.pos;i=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,i>1114111&&this.invalidStringToken(s,"Code point out of bounds")}else i=this.readHexChar(4);return i};function codePointToString(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}pp$8.readString=function(r){for(var i=this,s="",l=++this.pos;;){i.pos>=i.input.length&&i.raise(i.start,"Unterminated string constant");var o=i.input.charCodeAt(i.pos);if(o===r)break;o===92?(s+=i.input.slice(l,i.pos),s+=i.readEscapedChar(!1),l=i.pos):(isNewLine(o,i.options.ecmaVersion>=10)&&i.raise(i.start,"Unterminated string constant"),++i.pos)}return s+=this.input.slice(l,this.pos++),this.finishToken(types.string,s)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp$8.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(r){if(r===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw r}this.inTemplateElement=!1};pp$8.invalidStringToken=function(r,i){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(r,i)};pp$8.readTmplToken=function(){for(var r=this,i="",s=this.pos;;){r.pos>=r.input.length&&r.raise(r.start,"Unterminated template");var l=r.input.charCodeAt(r.pos);if(l===96||l===36&&r.input.charCodeAt(r.pos+1)===123)return r.pos===r.start&&(r.type===types.template||r.type===types.invalidTemplate)?l===36?(r.pos+=2,r.finishToken(types.dollarBraceL)):(++r.pos,r.finishToken(types.backQuote)):(i+=r.input.slice(s,r.pos),r.finishToken(types.template,i));if(l===92)i+=r.input.slice(s,r.pos),i+=r.readEscapedChar(!0),s=r.pos;else if(isNewLine(l)){switch(i+=r.input.slice(s,r.pos),++r.pos,l){case 13:r.input.charCodeAt(r.pos)===10&&++r.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(l);break}r.options.locations&&(++r.curLine,r.lineStart=r.pos),s=r.pos}else++r.pos}};pp$8.readInvalidTemplateToken=function(){for(var r=this;this.pos<this.input.length;this.pos++)switch(r.input[r.pos]){case"\\":++r.pos;break;case"$":if(r.input[r.pos+1]!=="{")break;case"`":return r.finishToken(types.invalidTemplate,r.input.slice(r.start,r.pos))}this.raise(this.start,"Unterminated template")};pp$8.readEscapedChar=function(r){var i=this.input.charCodeAt(++this.pos);switch(++this.pos,i){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(i>=48&&i<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],l=parseInt(s,8);return l>255&&(s=s.slice(0,-1),l=parseInt(s,8)),this.pos+=s.length-1,i=this.input.charCodeAt(this.pos),(s!=="0"||i===56||i===57)&&(this.strict||r)&&this.invalidStringToken(this.pos-1-s.length,r?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(l)}return String.fromCharCode(i)}};pp$8.readHexChar=function(r){var i=this.pos,s=this.readInt(16,r);return s===null&&this.invalidStringToken(i,"Bad character escape sequence"),s};pp$8.readWord1=function(){var r=this;this.containsEsc=!1;for(var i="",s=!0,l=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var y=r.fullCharCodeAtPos();if(isIdentifierChar(y,o))r.pos+=y<=65535?1:2;else if(y===92){r.containsEsc=!0,i+=r.input.slice(l,r.pos);var f=r.pos;r.input.charCodeAt(++r.pos)!==117&&r.invalidStringToken(r.pos,"Expecting Unicode escape sequence \\uXXXX"),++r.pos;var g=r.readCodePoint();(s?isIdentifierStart:isIdentifierChar)(g,o)||r.invalidStringToken(f,"Invalid Unicode escape"),i+=codePointToString(g),l=r.pos}else break;s=!1}return i+this.input.slice(l,this.pos)};pp$8.readWord=function(){var r=this.readWord1(),i=types.name;return this.keywords.test(r)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+r),i=keywords$1[r]),this.finishToken(i,r)};var version="5.7.3";function parse(r,i){return new Parser(i,r).parse()}function parseExpressionAt(r,i,s){var l=new Parser(s,r,i);return l.nextToken(),l.parseExpression()}function tokenizer(r,i){return new Parser(i,r)}var parse_dammit,LooseParser,pluginsLoose;function addLooseExports(r,i,s){parse_dammit=r,LooseParser=i,pluginsLoose=s}const acorn_es=Object.freeze(Object.defineProperty({__proto__:null,get LooseParser(){return LooseParser},Node,Parser,Position,SourceLocation,TokContext,Token,TokenType,addLooseExports,defaultOptions,getLineInfo,isIdentifierChar,isIdentifierStart,isNewLine,keywordTypes:keywords$1,lineBreak,lineBreakG,nonASCIIwhitespace,parse,parseExpressionAt,get parse_dammit(){return parse_dammit},plugins,get pluginsLoose(){return pluginsLoose},tokContexts:types$1,tokTypes:types,tokenizer,version},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(acorn_es);var functionNodeBase,hasRequiredFunctionNodeBase;function requireFunctionNodeBase(){if(hasRequiredFunctionNodeBase)return functionNodeBase;hasRequiredFunctionNodeBase=1;var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_createClass=function(){function r(i,s){for(var l=0;l<s.length;l++){var o=s[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(i,s,l){return s&&r(i.prototype,s),l&&r(i,l),i}}();function _classCallCheck(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var utils=requireUtils(),acorn=require$$1;return functionNodeBase=function(){function BaseFunctionNode(r,i,s){_classCallCheck(this,BaseFunctionNode),this.calledFunctions=[],this.calledFunctionsArguments={},this.builder=null,this.isRootKernel=!1,this.isSubKernel=!1,this.parent=null,this.debug=null,this.prototypeOnly=null,this.constants=null,this.output=null,this.declarations={},this.states=[],this.fixIntegerDivisionAccuracy=null;var l=void 0,o=void 0;if(s&&(s.hasOwnProperty("debug")&&(this.debug=s.debug),s.hasOwnProperty("prototypeOnly")&&(this.prototypeOnly=s.prototypeOnly),s.hasOwnProperty("constants")&&(this.constants=s.constants),s.hasOwnProperty("output")&&(this.output=s.output),s.hasOwnProperty("loopMaxIterations")&&(this.loopMaxIterations=s.loopMaxIterations),s.hasOwnProperty("paramTypes")&&(this.paramTypes=l=s.paramTypes),s.hasOwnProperty("constantTypes")?this.constantTypes=s.constantTypes:this.constantTypes={},s.hasOwnProperty("returnType")&&(o=s.returnType),s.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=s.fixIntegerDivisionAccuracy)),!i)throw"jsFunction, parameter is missing";if(this.jsFunctionString=i.toString(),!utils.isFunctionString(this.jsFunctionString))throw console.error("jsFunction, to string conversion check failed: not a function?",this.jsFunctionString),"jsFunction, to string conversion check failed: not a function?";if(utils.isFunction(i)?this.jsFunction=i:this.jsFunction=null,this.functionName=r||i&&i.name||utils.getFunctionNameFromString(this.jsFunctionString),!this.functionName)throw"jsFunction, missing name argument or value";if(this.paramNames=utils.getParamNamesFromString(this.jsFunctionString),l){if(Array.isArray(l)){if(l.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+l.length+","+this.paramNames.length+")";this.paramTypes=l}else if((typeof l>"u"?"undefined":_typeof(l))==="object"){var y=Object.keys(l);if(l.hasOwnProperty("returns")&&(this.returnType=l.returns,y.splice(y.indexOf("returns"),1)),y.length>0&&y.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+y.length+","+this.paramNames.length+")";this.paramTypes=this.paramNames.map(function(f){return l.hasOwnProperty(f)?l[f]:"Number"})}}else this.paramTypes=[];this.returnType||(this.returnType=o||"Number")}return _createClass(BaseFunctionNode,[{key:"isIdentifierConstant",value:function(i){return this.constants?this.constants.hasOwnProperty(i):!1}},{key:"isInput",value:function(i){return this.paramTypes[this.paramNames.indexOf(i)]==="Input"}},{key:"setBuilder",value:function(i){return this.builder=i,this}},{key:"pushState",value:function(i){this.states.push(i)}},{key:"popState",value:function(i){if(this.state!==i)throw new Error("Cannot popState "+i+" when in "+this.state);this.states.pop()}},{key:"isState",value:function(i){return this.state===i}},{key:"getJsFunction",value:function getJsFunction(){if(this.jsFunction)return this.jsFunction;if(this.jsFunctionString)return this.jsFunction=eval(this.jsFunctionString),this.jsFunction;throw"Missing jsFunction, and jsFunctionString parameter"}},{key:"astMemberExpressionUnroll",value:function r(i){if(i.type==="Identifier")return i.name;if(i.type==="ThisExpression")return"this";if(i.type==="MemberExpression"&&i.object&&i.property)return i.object.hasOwnProperty("name")&&i.object.name[0]==="_"?this.astMemberExpressionUnroll(i.property):this.astMemberExpressionUnroll(i.object)+"."+this.astMemberExpressionUnroll(i.property);if(i.hasOwnProperty("expressions")){var s=i.expressions[0];if(s.type==="Literal"&&s.value===0&&i.expressions.length===2)return this.astMemberExpressionUnroll(i.expressions[1])}throw this.astErrorOutput("Unknown CallExpression_unroll",i)}},{key:"getJsAST",value:function r(i){if(this.jsFunctionAST)return this.jsFunctionAST;if(i=i||acorn,i===null)throw"Missing JS to AST parser";var s=i.parse("var "+this.functionName+" = "+this.jsFunctionString+";",{locations:!0});if(s===null)throw"Failed to parse JS code";var l=s.body[0].declarations[0].init;return this.jsFunctionAST=l,l}},{key:"getFunctionString",value:function r(){return this.generate(),this.functionString}},{key:"setFunctionString",value:function r(i){this.functionString=i}},{key:"getParamType",value:function r(i){var s=this.paramNames.indexOf(i);if(s===-1)return this.declarations.hasOwnProperty(i)?this.declarations[i]:"Number";if(this.parent){if(this.paramTypes[s])return this.paramTypes[s];for(var l=this.parent.calledFunctionsArguments[this.functionName],o=0;o<l.length;o++){var y=l[o];if(y[s]!==null)return this.paramTypes[s]=y[s].type}}else if(this.paramTypes[s])return this.paramTypes[s];return"Number"}},{key:"getConstantType",value:function r(i){return this.constantTypes[i]?this.constantTypes[i]:null}},{key:"getUserParamName",value:function r(i){var s=this.paramNames.indexOf(i);if(s===-1||!this.parent||!this.isSubKernel)return null;for(var l=this.parent.calledFunctionsArguments[this.functionName],o=0;o<l.length;o++){var y=l[o],f=y[s];if(f!==null&&f.type!=="Integer")return f.name}return null}},{key:"generate",value:function r(i){throw new Error("generate not defined on BaseFunctionNode")}},{key:"astGeneric",value:function r(i,s){if(i===null)throw this.astErrorOutput("NULL ast",i);if(Array.isArray(i)){for(var l=0;l<i.length;l++)this.astGeneric(i[l],s);return s}switch(i.type){case"FunctionDeclaration":return this.astFunctionDeclaration(i,s);case"FunctionExpression":return this.astFunctionExpression(i,s);case"ReturnStatement":return this.astReturnStatement(i,s);case"Literal":return this.astLiteral(i,s);case"BinaryExpression":return this.astBinaryExpression(i,s);case"Identifier":return this.astIdentifierExpression(i,s);case"AssignmentExpression":return this.astAssignmentExpression(i,s);case"ExpressionStatement":return this.astExpressionStatement(i,s);case"EmptyStatement":return this.astEmptyStatement(i,s);case"BlockStatement":return this.astBlockStatement(i,s);case"IfStatement":return this.astIfStatement(i,s);case"BreakStatement":return this.astBreakStatement(i,s);case"ContinueStatement":return this.astContinueStatement(i,s);case"ForStatement":return this.astForStatement(i,s);case"WhileStatement":return this.astWhileStatement(i,s);case"DoWhileStatement":return this.astDoWhileStatement(i,s);case"VariableDeclaration":return this.astVariableDeclaration(i,s);case"VariableDeclarator":return this.astVariableDeclarator(i,s);case"ThisExpression":return this.astThisExpression(i,s);case"SequenceExpression":return this.astSequenceExpression(i,s);case"UnaryExpression":return this.astUnaryExpression(i,s);case"UpdateExpression":return this.astUpdateExpression(i,s);case"LogicalExpression":return this.astLogicalExpression(i,s);case"MemberExpression":return this.astMemberExpression(i,s);case"CallExpression":return this.astCallExpression(i,s);case"ArrayExpression":return this.astArrayExpression(i,s);case"DebuggerStatement":return this.astDebuggerStatement(i,s)}throw this.astErrorOutput("Unknown ast type : "+i.type,i)}},{key:"astErrorOutput",value:function r(i,s){return console.error(utils.getAstString(this.jsFunctionString,s)),console.error(i,s,this),i}},{key:"astDebuggerStatement",value:function r(i,s){return s}},{key:"astFunctionDeclaration",value:function r(i,s){return s}},{key:"astFunctionExpression",value:function r(i,s){return s}},{key:"astReturnStatement",value:function r(i,s){return s}},{key:"astLiteral",value:function r(i,s){return s}},{key:"astBinaryExpression",value:function r(i,s){return s}},{key:"astIdentifierExpression",value:function r(i,s){return s}},{key:"astAssignmentExpression",value:function r(i,s){return s}},{key:"astExpressionStatement",value:function r(i,s){return s}},{key:"astEmptyStatement",value:function r(i,s){return s}},{key:"astBlockStatement",value:function r(i,s){return s}},{key:"astIfStatement",value:function r(i,s){return s}},{key:"astBreakStatement",value:function r(i,s){return s}},{key:"astContinueStatement",value:function r(i,s){return s}},{key:"astForStatement",value:function r(i,s){return s}},{key:"astWhileStatement",value:function r(i,s){return s}},{key:"astDoWhileStatement",value:function r(i,s){return s}},{key:"astVariableDeclaration",value:function r(i,s){return s}},{key:"astVariableDeclarator",value:function r(i,s){return s}},{key:"astThisExpression",value:function r(i,s){return s}},{key:"astSequenceExpression",value:function r(i,s){return s}},{key:"astUnaryExpression",value:function r(i,s){return s}},{key:"astUpdateExpression",value:function r(i,s){return s}},{key:"astLogicalExpression",value:function r(i,s){return s}},{key:"astMemberExpression",value:function r(i,s){return s}},{key:"astCallExpression",value:function r(i,s){return s}},{key:"astArrayExpression",value:function r(i,s){return s}},{key:"pushParameter",value:function r(i,s){this.isState("in-get-call-parameters")?i.push("int("+s+")"):i.push(s)}},{key:"state",get:function r(){return this.states[this.states.length-1]}}]),BaseFunctionNode}(),functionNodeBase}var functionNode$2,hasRequiredFunctionNode$2;function requireFunctionNode$2(){if(hasRequiredFunctionNode$2)return functionNode$2;hasRequiredFunctionNode$2=1;var r=function(){function m(E,_){for(var b=0;b<_.length;b++){var c=_[b];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,c.key,c)}}return function(E,_,b){return _&&m(E.prototype,_),b&&m(E,b),E}}();function i(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}function s(m,E){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:m}function l(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);m.prototype=Object.create(E&&E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(m,E):m.__proto__=E)}var o=requireFunctionNodeBase(),y=requireUtils(),f="Math.",g="this.",v="this.constants.",p=/decode32\(\s+encode32\(/g,d=/encode32\(\s+decode32\(/g,S=function(){};functionNode$2=function(m){l(E,m);function E(){return i(this,E),s(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return r(E,[{key:"generate",value:function(){return this.debug,this.prototypeOnly?this.astFunctionPrototype(this.getJsAST(),[]).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=O(this.functionStringArray.join("").trim()),this.functionString)}},{key:"astFunctionDeclaration",value:function(b,c){return this.builder.addFunction(null,y.getAstString(this.jsFunctionString,b)),c}},{key:"astFunctionPrototype",value:function(b,c){if(this.isRootKernel||this.isSubKernel)return c;var A=this.returnType,U=x[A];if(!U)throw new Error("unknown type "+A);c.push(U),c.push(" "),c.push(this.functionName),c.push("(");for(var V=0;V<this.paramNames.length;++V)V>0&&c.push(", "),c.push(this.paramTypes[V]),c.push(" "),c.push("user_"),c.push(this.paramNames[V]);return c.push(`);
`),c}},{key:"astFunctionExpression",value:function(b,c){if(this.isRootKernel)c.push("void");else{var A=this.returnType,U=x[A];if(!U)throw new Error("unknown type "+A);c.push(U)}if(c.push(" "),c.push(this.functionName),c.push("("),!this.isRootKernel)for(var V=0;V<this.paramNames.length;++V){var ne=this.paramNames[V];V>0&&c.push(", ");var Y=this.getParamType(ne),H=x[Y];if(!H)throw new Error("unknown type "+Y);c.push(H),c.push(" "),c.push("user_"),c.push(ne)}c.push(`) {
`);for(var k=0;k<b.body.body.length;++k)this.astGeneric(b.body.body[k],c),c.push(`
`);return c.push(`}
`),c}},{key:"astReturnStatement",value:function(b,c){return this.isRootKernel?(c.push("kernelResult = "),this.astGeneric(b.argument,c),c.push(";"),c.push("return;")):this.isSubKernel?(c.push(this.functionName+"Result = "),this.astGeneric(b.argument,c),c.push(";"),c.push("return "+this.functionName+"Result;")):(c.push("return "),this.astGeneric(b.argument,c),c.push(";")),c}},{key:"astLiteral",value:function(b,c){if(isNaN(b.value))throw this.astErrorOutput("Non-numeric literal not supported : "+b.value,b);c.push(b.value);var A=this.isState("in-get-call-parameters");return Number.isInteger(b.value)?A||c.push(".0"):A&&(c.pop(),c.push("int("),c.push(b.value),c.push(")")),c}},{key:"astBinaryExpression",value:function(b,c){var A=this.isState("in-get-call-parameters");return A&&(this.pushState("not-in-get-call-parameters"),c.push("int")),c.push("("),b.operator==="%"?(c.push("mod("),this.astGeneric(b.left,c),c.push(","),this.astGeneric(b.right,c),c.push(")")):b.operator==="==="?(this.astGeneric(b.left,c),c.push("=="),this.astGeneric(b.right,c)):b.operator==="!=="?(this.astGeneric(b.left,c),c.push("!="),this.astGeneric(b.right,c)):this.fixIntegerDivisionAccuracy&&b.operator==="/"?(c.push("div_with_int_check("),this.astGeneric(b.left,c),c.push(", "),this.astGeneric(b.right,c),c.push(")")):(this.astGeneric(b.left,c),c.push(b.operator),this.astGeneric(b.right,c)),c.push(")"),A&&this.popState("not-in-get-call-parameters"),c}},{key:"astIdentifierExpression",value:function(b,c){if(b.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",b);var A=!this.isState("in-get-call-parameters");switch(b.name){case"gpu_threadX":A&&c.push("float("),c.push("threadId.x"),A&&c.push(")");break;case"gpu_threadY":A&&c.push("float("),c.push("threadId.y"),A&&c.push(")");break;case"gpu_threadZ":A&&c.push("float("),c.push("threadId.z"),A&&c.push(")");break;case"gpu_outputX":c.push("uOutputDim.x");break;case"gpu_outputY":c.push("uOutputDim.y");break;case"gpu_outputZ":c.push("uOutputDim.z");break;case"Infinity":c.push("3.402823466e+38");break;default:var U=this.getUserParamName(b.name);U!==null?this.pushParameter(c,"user_"+U):this.pushParameter(c,"user_"+b.name)}return c}},{key:"astForStatement",value:function(b,c){if(b.type!=="ForStatement")throw this.astErrorOutput("Invalid for statment",b);if(b.test&&b.test.type==="BinaryExpression")if(b.test.right.type==="Identifier"&&b.test.operator==="<"&&this.isIdentifierConstant(b.test.right.name)===!1){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),c.push("for ("),this.astGeneric(b.init,c),this.astGeneric(b.test.left,c),c.push(b.test.operator),c.push("LOOP_MAX"),c.push(";"),this.astGeneric(b.update,c),c.push(")"),c.push(`{
`),c.push("if ("),this.astGeneric(b.test.left,c),c.push(b.test.operator),this.astGeneric(b.test.right,c),c.push(`) {
`),b.body.type==="BlockStatement")for(var A=0;A<b.body.body.length;A++)this.astGeneric(b.body.body[A],c);else this.astGeneric(b.body,c);return c.push(`
} else {
`),c.push(`break;
`),c.push(`}
`),c.push(`}
`),c}else{var U=JSON.parse(JSON.stringify(b.init.declarations)),V=b.update.argument;if(!Array.isArray(U)||U.length<1)throw S(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(U.length>1){for(var ne=null,Y=0;Y<U.length;Y++){var H=U[Y];H.id.name===V.name?(ne=H,U.splice(Y,1)):(c.push("float "),this.astGeneric(H,c),c.push(";"))}c.push("for (float "),this.astGeneric(ne,c),c.push(";")}else c.push("for ("),this.astGeneric(b.init,c);return this.astGeneric(b.test,c),c.push(";"),this.astGeneric(b.update,c),c.push(")"),this.astGeneric(b.body,c),c}throw this.astErrorOutput("Invalid for statement",b)}},{key:"astWhileStatement",value:function(b,c){if(b.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statment",b);return c.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),c.push("if ("),this.astGeneric(b.test,c),c.push(`) {
`),this.astGeneric(b.body,c),c.push(`} else {
`),c.push(`break;
`),c.push(`}
`),c.push(`}
`),c}},{key:"astDoWhileStatement",value:function(b,c){if(b.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statment",b);return c.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),this.astGeneric(b.body,c),c.push("if (!"),this.astGeneric(b.test,c),c.push(`) {
`),c.push(`break;
`),c.push(`}
`),c.push(`}
`),c}},{key:"astAssignmentExpression",value:function(b,c){if(b.operator==="%=")this.astGeneric(b.left,c),c.push("="),c.push("mod("),this.astGeneric(b.left,c),c.push(","),this.astGeneric(b.right,c),c.push(")");else return this.astGeneric(b.left,c),c.push(b.operator),this.astGeneric(b.right,c),c}},{key:"astEmptyStatement",value:function(b,c){return c}},{key:"astBlockStatement",value:function(b,c){c.push(`{
`);for(var A=0;A<b.body.length;A++)this.astGeneric(b.body[A],c);return c.push(`}
`),c}},{key:"astExpressionStatement",value:function(b,c){return this.astGeneric(b.expression,c),c.push(";"),c}},{key:"astVariableDeclaration",value:function(b,c){for(var A=0;A<b.declarations.length;A++){var U=b.declarations[A];A>0&&c.push(",");var V=[];this.astGeneric(U,V);var ne="Number";if(A===0){var Y=U.init;if(Y){if(Y.object){if(Y.object.type==="MemberExpression"&&Y.object.object){if(Y.object.object.type==="ThisExpression"&&Y.object.property&&(Y.object.property.name==="thread"||Y.object.property.name==="output"))ne="Integer";else if(Y.object.object.type==="Identifier"){var H=this.getParamType(Y.object.object.name);ne=T[H]}else if(Y.object.object.object&&Y.object.object.object.type==="Identifier"){var k=this.getParamType(Y.object.object.object.name);ne=T[k]}else if(Y.object.object.object&&Y.object.object.object.object&&Y.object.object.object.object.type==="ThisExpression"&&Y.object.object.object.property.name==="constants"){var R=this.getConstantType(Y.object.object.property.name);ne=T[R]}else if(Y.object.object.object&&Y.object.object.object.object&&Y.object.object.object.object.object&&Y.object.object.object.object.object.type==="ThisExpression"&&Y.object.object.object.object.property.name==="constants"){var D=this.getConstantType(Y.object.object.object.property.name);ne=T[D]}}if(!ne)throw new Error("unknown lookup type "+T)}else if(Y.name&&this.declarations[Y.name])ne=this.declarations[Y.name];else if(Y.type==="ArrayExpression")ne="Array("+Y.elements.length+")";else if(Y.type==="CallExpression"){var B=this.builder.nodeMap[Y.callee.name];B&&B.returnType&&(ne=B.returnType)}}var M=x[ne];if(!M)throw new Error("type "+ne+" not handled");c.push(M+" ")}this.declarations[U.id.name]=ne,c.push.apply(c,V)}return c.push(";"),c}},{key:"astVariableDeclarator",value:function(b,c){return this.astGeneric(b.id,c),b.init!==null&&(c.push("="),this.astGeneric(b.init,c)),c}},{key:"astIfStatement",value:function(b,c){return c.push("if ("),this.astGeneric(b.test,c),c.push(")"),b.consequent.type==="BlockStatement"?this.astGeneric(b.consequent,c):(c.push(` {
`),this.astGeneric(b.consequent,c),c.push(`
}
`)),b.alternate&&(c.push("else "),b.alternate.type==="BlockStatement"?this.astGeneric(b.alternate,c):(c.push(` {
`),this.astGeneric(b.alternate,c),c.push(`
}
`))),c}},{key:"astBreakStatement",value:function(b,c){return c.push(`break;
`),c}},{key:"astContinueStatement",value:function(b,c){return c.push(`continue;
`),c}},{key:"astLogicalExpression",value:function(b,c){return c.push("("),this.astGeneric(b.left,c),c.push(b.operator),this.astGeneric(b.right,c),c.push(")"),c}},{key:"astUpdateExpression",value:function(b,c){return b.prefix?(c.push(b.operator),this.astGeneric(b.argument,c)):(this.astGeneric(b.argument,c),c.push(b.operator)),c}},{key:"astUnaryExpression",value:function(b,c){return b.prefix?(c.push(b.operator),this.astGeneric(b.argument,c)):(this.astGeneric(b.argument,c),c.push(b.operator)),c}},{key:"astThisExpression",value:function(b,c){return c.push("this"),c}},{key:"astMemberExpression",value:function(b,c){if(S("[in] astMemberExpression "+b.object.type),b.computed)if(b.object.type==="Identifier"||b.object.type==="MemberExpression"&&b.object.object.object&&b.object.object.object.type==="ThisExpression"&&b.object.object.property.name==="constants"){var A=b.object.name;this.functionName;var U=!1;if(this.paramNames){var V=this.paramNames.indexOf(A);V>=0&&this.paramTypes[V]==="Number"&&(U=!0)}if(U)this.astGeneric(b.object,c),c.push("[int("),this.astGeneric(b.property,c),c.push(")]");else{var ne=this.isState("in-get-call-parameters"),Y=this.isState("multi-member-expression");Y&&this.popState("multi-member-expression"),this.pushState("not-in-get-call-parameters");var H=null;switch(b.object.name?this.declarations[b.object.name]?H=this.declarations[b.object.name]:H=this.getParamType(b.object.name):b.object&&b.object.object&&b.object.object.object&&b.object.object.object.type==="ThisExpression"&&(H=this.getConstantType(b.object.property.name)),H){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(b.object,c),c.push("["),c.push(b.property.raw),c.push("]"),Y&&this.popState("not-in-get-call-parameters");break;case"HTMLImageArray":c.push("getImage3D("),this.astGeneric(b.object,c),c.push(", ivec2("),this.astGeneric(b.object,c),c.push("Size[0],"),this.astGeneric(b.object,c),c.push("Size[1]), ivec3("),this.astGeneric(b.object,c),c.push("Dim[0],"),this.astGeneric(b.object,c),c.push("Dim[1],"),this.astGeneric(b.object,c),c.push("Dim[2]"),c.push("), "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(b.property,c),Y||this.popState("in-get-call-parameters"),c.push(")");break;case"ArrayTexture(4)":case"HTMLImage":c.push("getImage2D("),this.astGeneric(b.object,c),c.push(", ivec2("),this.astGeneric(b.object,c),c.push("Size[0],"),this.astGeneric(b.object,c),c.push("Size[1]), ivec3("),this.astGeneric(b.object,c),c.push("Dim[0],"),this.astGeneric(b.object,c),c.push("Dim[1],"),this.astGeneric(b.object,c),c.push("Dim[2]"),c.push("), "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(b.property,c),Y||this.popState("in-get-call-parameters"),c.push(")");break;default:ne&&c.push("int("),c.push("get("),this.astGeneric(b.object,c),c.push(", ivec2("),this.astGeneric(b.object,c),c.push("Size[0],"),this.astGeneric(b.object,c),c.push("Size[1]), ivec3("),this.astGeneric(b.object,c),c.push("Dim[0],"),this.astGeneric(b.object,c),c.push("Dim[1],"),this.astGeneric(b.object,c),c.push("Dim[2]"),c.push("), "),this.astGeneric(b.object,c),c.push("BitRatio"),c.push(", "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(b.property,c),Y||this.popState("in-get-call-parameters"),c.push(")"),ne&&c.push(")");break}}}else{S("- astMemberExpression obj:",b.object),this.states.length;var k=this.isState("in-get-call-parameters");k||this.pushState("multi-member-expression"),this.astGeneric(b.object,c),this.isState("multi-member-expression")&&this.popState("multi-member-expression");var R=!k&&this.isState("in-get-call-parameters"),D=c.pop();c.push(","),S("- astMemberExpression prop:",b.property);var B=this.isState("should-pop-in-get-call-parameters");B&&this.popState("should-pop-in-get-call-parameters"),this.astGeneric(b.property,c),c.push(D),R?this.pushState("should-pop-in-get-call-parameters"):B&&this.popState("in-get-call-parameters")}else{var M=this.astMemberExpressionUnroll(b),j=M.toLowerCase();M.indexOf(v)===0&&(M="constants_"+M.slice(v.length));var z=!this.isState("in-get-call-parameters");switch(j){case"this.thread.x":z&&c.push("float("),c.push("threadId.x"),z&&c.push(")");break;case"this.thread.y":z&&c.push("float("),c.push("threadId.y"),z&&c.push(")");break;case"this.thread.z":z&&c.push("float("),c.push("threadId.z"),z&&c.push(")");break;case"this.output.x":c.push(this.output[0]+".0");break;case"this.output.y":c.push(this.output[1]+".0");break;case"this.output.z":c.push(this.output[2]+".0");break;default:b.object&&b.object.name&&this.declarations[b.object.name]&&c.push("user_"),c.push(M)}}return S("[out] astMemberExpression "+b.object.type),c}},{key:"astSequenceExpression",value:function(b,c){for(var A=0;A<b.expressions.length;A++)A>0&&c.push(","),this.astGeneric(b.expressions,c);return c}},{key:"astCallExpression",value:function(b,c){if(b.callee){var A=this.astMemberExpressionUnroll(b.callee);A.indexOf(f)===0&&(A=A.slice(f.length)),A.indexOf(g)===0&&(A=A.slice(g.length)),A==="atan2"&&(A="atan"),this.calledFunctions.indexOf(A)<0&&this.calledFunctions.push(A),this.hasOwnProperty("funcName")||(this.calledFunctionsArguments[A]=[]);var U=[];this.calledFunctionsArguments[A].push(U),c.push(A),c.push("(");for(var V=0;V<b.arguments.length;++V){var ne=b.arguments[V];if(V>0&&c.push(", "),this.astGeneric(ne,c),ne.type==="Identifier"){var Y=this.paramNames.indexOf(ne.name);Y===-1?U.push(null):U.push({name:ne.name,type:this.paramTypes[Y]||"Number"})}else U.push(null)}return c.push(")"),c}throw this.astErrorOutput("Unknown CallExpression",b)}},{key:"astArrayExpression",value:function(b,c){var A=b.elements.length;c.push("vec"+A+"(");for(var U=0;U<A;++U){U>0&&c.push(", ");var V=b.elements[U];this.astGeneric(V,c)}return c.push(")"),c}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"build",value:function(){return this.getFunctionPrototypeString().length>0}}]),E}(o);var x={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4",Array2D:"sampler2D",Array3D:"sampler2D",Float:"float",Input:"sampler2D",Integer:"float",Number:"float",NumberTexture:"sampler2D","ArrayTexture(4)":"sampler2D"},T={Array:"Number",Array2D:"Number",Array3D:"Number",HTMLImage:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number","ArrayTexture(4)":"Array(4)"};function O(m){return m.replace(p,"((").replace(d,"((")}return functionNode$2}var functionBuilder$2,hasRequiredFunctionBuilder$2;function requireFunctionBuilder$2(){if(hasRequiredFunctionBuilder$2)return functionBuilder$2;hasRequiredFunctionBuilder$2=1;var r=function(){function g(v,p){for(var d=0;d<p.length;d++){var S=p[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,p,d){return p&&g(v.prototype,p),d&&g(v,d),v}}();function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function l(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var o=requireFunctionBuilderBase(),y=requireFunctionNode$2();functionBuilder$2=function(g){l(v,g);function v(){i(this,v);var p=s(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return p.Node=y,p}return r(v,[{key:"polyfillStandardFunctions",value:function(){this.addFunction("round",f)}}],[{key:"round",value:function(d){return f(d)}}]),v}(o);function f(g){return Math.floor(g+.5)}return functionBuilder$2}var runner$2,hasRequiredRunner$2;function requireRunner$2(){if(hasRequiredRunner$2)return runner$2;hasRequiredRunner$2=1;var r=function(){function g(v,p){for(var d=0;d<p.length;d++){var S=p[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,p,d){return p&&g(v.prototype,p),d&&g(v,d),v}}();function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function l(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var o=requireRunnerBase(),y=requireKernel$2(),f=requireFunctionBuilder$2();return runner$2=function(g){l(v,g);function v(p){i(this,v);var d=s(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,new f,p));return d.Kernel=y,d.kernel=null,d}return r(v,[{key:"getMode",value:function(){return"gpu"}}]),v}(o),runner$2}var functionNode$1,hasRequiredFunctionNode$1;function requireFunctionNode$1(){if(hasRequiredFunctionNode$1)return functionNode$1;hasRequiredFunctionNode$1=1;var r=function(){function v(p,d){for(var S=0;S<d.length;S++){var x=d[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,d,S){return d&&v(p.prototype,d),S&&v(p,S),p}}();function i(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function s(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function l(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var o=requireFunctionNode$2(),y=/decode32\(\s+encode32\(/g,f=/encode32\(\s+decode32\(/g;functionNode$1=function(v){l(p,v);function p(){return i(this,p),s(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return r(p,[{key:"generate",value:function(){return this.debug&&console.log(this),this.prototypeOnly?this.astFunctionPrototype(this.getJsAST(),[]).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=g(this.functionStringArray.join("").trim()),this.functionString)}},{key:"astIdentifierExpression",value:function(S,x){if(S.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",S);var T=!this.isState("in-get-call-parameters");switch(S.name){case"gpu_threadX":T&&x.push("float("),x.push("threadId.x"),T&&x.push(")");break;case"gpu_threadY":T&&x.push("float("),x.push("threadId.y"),T&&x.push(")");break;case"gpu_threadZ":T&&x.push("float("),x.push("threadId.z"),T&&x.push(")");break;case"gpu_outputX":x.push("uOutputDim.x");break;case"gpu_outputY":x.push("uOutputDim.y");break;case"gpu_outputZ":x.push("uOutputDim.z");break;case"Infinity":x.push("intBitsToFloat(2139095039)");break;default:var O=this.getUserParamName(S.name);O!==null?this.pushParameter(x,"user_"+O):this.pushParameter(x,"user_"+S.name)}return x}}]),p}(o);function g(v){return v.replace(y,"((").replace(f,"((")}return functionNode$1}var functionBuilder$1,hasRequiredFunctionBuilder$1;function requireFunctionBuilder$1(){if(hasRequiredFunctionBuilder$1)return functionBuilder$1;hasRequiredFunctionBuilder$1=1;function r(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}function i(y,f){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:y}function s(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(y,f):y.__proto__=f)}var l=requireFunctionBuilderBase(),o=requireFunctionNode$1();return functionBuilder$1=function(y){s(f,y);function f(){r(this,f);var g=i(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return g.Node=o,g}return f}(l),functionBuilder$1}var shaderFrag,hasRequiredShaderFrag;function requireShaderFrag(){return hasRequiredShaderFrag||(hasRequiredShaderFrag=1,shaderFrag=`#version 300 es
__HEADER__;
precision highp float;
precision highp int;
precision highp sampler2D;

const float LOOP_MAX = __LOOP_MAX__;

__CONSTANTS__;

in vec2 vTexCoord;

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 rgba) {
  __DECODE32_ENDIANNESS__;
  rgba *= 255.0;
  vec2 gte128;
  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  rgba.b = rgba.b - 128.0 * gte128.x;
  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

vec4 encode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  rgba.rg = integerMod(rgba.rg, 256.0);
  rgba.b = integerMod(rgba.b, 128.0);
  rgba.a = exponent*0.5 + 63.5;
  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  rgba = floor(rgba);
  rgba *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return rgba;
}
// Dragons end here

float decode(vec4 rgba, int x, int bitRatio) {
  if (bitRatio == 1) {
    return decode32(rgba);
  }
  __DECODE32_ENDIANNESS__;
  int channel = integerMod(x, bitRatio);
  if (bitRatio == 4) {
    return rgba[channel] * 255.0;
  }
  else {
    return rgba[channel*2] * 255.0 + rgba[channel*2 + 1] * 65280.0;
  }
}

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio,  int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  vec4 texel = texture(tex, st / vec2(texSize));
  __GET_RESULT__;
  
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int y, int x) {
  return get(tex, texSize, texDim, bitRatio, 0, y, x);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int x) {
  return get(tex, texSize, texDim, bitRatio, 0, 0, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int y, int x) {
  return getImage2D(tex, texSize, texDim, 0, y, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int x) {
  return getImage2D(tex, texSize, texDim, 0, 0, x);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

__MAIN_PARAMS__;
__MAIN_CONSTANTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`),shaderFrag}var shaderVert,hasRequiredShaderVert;function requireShaderVert(){return hasRequiredShaderVert||(hasRequiredShaderVert=1,shaderVert=`#version 300 es
precision highp float;
precision highp int;
precision highp sampler2D;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`),shaderVert}var kernel$1,hasRequiredKernel$1;function requireKernel$1(){if(hasRequiredKernel$1)return kernel$1;hasRequiredKernel$1=1;var r=function(){function p(d,S){for(var x=0;x<S.length;x++){var T=S[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,S,x){return S&&p(d.prototype,S),x&&p(d,x),d}}();function i(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function s(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:p}function l(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}var o=requireKernel$2(),y=requireUtils(),f=requireTexture(),g=requireShaderFrag(),v=requireShaderVert();return kernel$1=function(p){l(d,p);function d(){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return r(d,[{key:"initWebGl",value:function(){return y.initWebGl2(this.getCanvas())}},{key:"validateOptions",value:function(){var x=y.isFloatReadPixelsSupportedWebGL2();if(this.floatOutput===!0&&this.floatOutputForce!==!0&&!x)throw new Error("Float texture outputs are not supported on this browser");this.floatTextures===void 0&&(this.floatTextures=!0,this.floatOutput=x);var T=y.hasIntegerDivisionAccuracyBug();if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=T:this.fixIntegerDivisionAccuracy&&!T&&(this.fixIntegerDivisionAccuracy=!1),y.checkOutput(this.output),!this.output||this.output.length===0){if(arguments.length!==1)throw new Error("Auto output only supported for kernels with only one input");var O=y.getArgumentType(arguments[0]);if(O==="Array")this.output=y.getDimensions(O);else if(O==="NumberTexture"||O==="ArrayTexture(4)")this.output=arguments[0].output;else throw new Error("Auto output not supported for input type: "+O)}if(this.texSize=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=y.clone(this.output)}else this.floatOutput===void 0&&(this.floatOutput=!0);(this.floatOutput||this.floatOutputForce)&&this._webGl.getExtension("EXT_color_buffer_float")}},{key:"run",value:function(){this.program===null&&this.build.apply(this,arguments);var x=this.paramNames,T=this.paramTypes,O=this.texSize,m=this._webGl;m.useProgram(this.program),m.scissor(0,0,O[0],O[1]),this.hardcodeConstants||(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",O)),this.setUniform2f("ratio",O[0]/this.maxTexSize[0],O[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var E=0;E<x.length;E++)this._addArgument(arguments[E],T[E],x[E]);if(this.graphical){if(this.outputToTexture)return m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,this.framebuffer),(!this.outputTexture||this.outputImmutable)&&this._setupOutputTexture(),m.drawArrays(m.TRIANGLE_STRIP,0,4),new f(this.outputTexture,O,this.threadDim,this.output,this._webGl,"ArrayTexture(4)");m.bindRenderbuffer(m.RENDERBUFFER,null),m.bindFramebuffer(m.FRAMEBUFFER,null),m.drawArrays(m.TRIANGLE_STRIP,0,4);return}m.bindFramebuffer(m.FRAMEBUFFER,this.framebuffer),this.outputImmutable&&this._setupOutputTexture();var _=this.outputTexture;if(this.subKernelOutputVariableNames!==null&&(this.outputImmutable&&(this.subKernelOutputTextures=[],this._setupSubOutputTextures(this.subKernelOutputVariableNames.length)),m.drawBuffers(this.drawBuffersMap)),m.drawArrays(m.TRIANGLE_STRIP,0,4),this.subKernelOutputTextures!==null){if(this.subKernels!==null){var b=[];b.result=this.renderOutput(_);for(var c=0;c<this.subKernels.length;c++)b.push(new f(this.subKernelOutputTextures[c],O,this.threadDim,this.output,this._webGl));return b}else if(this.subKernelProperties!==null){var A={result:this.renderOutput(_)},U=0;for(var V in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(V)&&(A[V]=new f(this.subKernelOutputTextures[U],O,this.threadDim,this.output,this._webGl),U++);return A}}return this.renderOutput(_)}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"_setupOutputTexture",value:function(){var x=this._webGl,T=this.texSize,O=this.outputTexture=this._webGl.createTexture();x.activeTexture(x.TEXTURE0+this.constantsLength+this.paramNames.length),x.bindTexture(x.TEXTURE_2D,O),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),this.floatOutput?x.texImage2D(x.TEXTURE_2D,0,x.RGBA32F,T[0],T[1],0,x.RGBA,x.FLOAT,null):x.texImage2D(x.TEXTURE_2D,0,x.RGBA,T[0],T[1],0,x.RGBA,x.UNSIGNED_BYTE,null),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,O,0)}},{key:"_setupSubOutputTextures",value:function(x){for(var T=this._webGl,O=this.texSize,m=this.drawBuffersMap=[T.COLOR_ATTACHMENT0],E=this.subKernelOutputTextures=[],_=0;_<x;_++){var b=this._webGl.createTexture();E.push(b),m.push(T.COLOR_ATTACHMENT0+_+1),T.activeTexture(T.TEXTURE0+this.constantsLength+this.paramNames.length+_),T.bindTexture(T.TEXTURE_2D,b),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,T.NEAREST),this.floatOutput?T.texImage2D(T.TEXTURE_2D,0,T.RGBA32F,O[0],O[1],0,T.RGBA,T.FLOAT,null):T.texImage2D(T.TEXTURE_2D,0,T.RGBA,O[0],O[1],0,T.RGBA,T.UNSIGNED_BYTE,null),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0+_+1,T.TEXTURE_2D,b,0)}}},{key:"_addArgument",value:function(x,T,O){var m=this._webGl,E=this.getArgumentTexture(O);switch(x instanceof f&&(T=x.type),T){case"Array":{var _=y.getDimensions(x,!0),b=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},_);m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,E),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var c=b[0]*b[1],A=this._formatArrayTransfer(x,c),U=A.valuesFlat,V=A.bitRatio,ne=void 0;this.floatTextures?m.texImage2D(m.TEXTURE_2D,0,m.RGBA32F,b[0],b[1],0,m.RGBA,m.FLOAT,U):(ne=new Uint8Array(U.buffer),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,b[0]/V,b[1],0,m.RGBA,m.UNSIGNED_BYTE,ne)),this.hardcodeConstants||(this.setUniform3iv("user_"+O+"Dim",_),this.setUniform2iv("user_"+O+"Size",b)),this.setUniform1i("user_"+O+"BitRatio",V),this.setUniform1i("user_"+O,this.argumentsLength);break}case"Integer":case"Float":case"Number":{this.setUniform1f("user_"+O,x);break}case"Input":{var Y=x,H=Y.size,k=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},H);m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,E),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var R=k[0]*k[1],D=this._formatArrayTransfer(x.value,R),B=D.valuesFlat,M=D.bitRatio;if(this.floatTextures)m.texImage2D(m.TEXTURE_2D,0,m.RGBA32F,k[0],k[1],0,m.RGBA,m.FLOAT,inputArray);else{var j=new Uint8Array(B.buffer);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,k[0]/M,k[1],0,m.RGBA,m.UNSIGNED_BYTE,j)}this.hardcodeConstants||(this.setUniform3iv("user_"+O+"Dim",H),this.setUniform2iv("user_"+O+"Size",k)),this.setUniform1i("user_"+O+"BitRatio",M),this.setUniform1i("user_"+O,this.argumentsLength);break}case"HTMLImage":{var z=x,q=[z.width,z.height,1],K=[z.width,z.height];m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,E),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var ee=0,L=m.RGBA,Q=m.RGBA,ie=m.UNSIGNED_BYTE;m.texImage2D(m.TEXTURE_2D,ee,L,Q,ie,z),this.setUniform3iv("user_"+O+"Dim",q),this.setUniform2iv("user_"+O+"Size",K),this.setUniform1i("user_"+O,this.argumentsLength);break}case"HTMLImageArray":{var J=x,ue=[J[0].width,J[0].height,J.length],de=[J[0].width,J[0].height];m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D_ARRAY,E),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MIN_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var P=0,I=m.RGBA,X=J[0].width,$=J[0].height,le=J.length,N=0,G=m.RGBA,se=m.UNSIGNED_BYTE;m.texImage3D(m.TEXTURE_2D_ARRAY,P,I,X,$,le,N,G,se,null);for(var he=0;he<J.length;he++){var Ee=0,ge=0,_e=1;m.texSubImage3D(m.TEXTURE_2D_ARRAY,P,Ee,ge,he,J[he].width,J[he].height,_e,G,se,J[he])}this.setUniform3iv("user_"+O+"Dim",ue),this.setUniform2iv("user_"+O+"Size",de),this.setUniform1i("user_"+O,this.argumentsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var Ce=x,ze=Ce.dimensions,Be=Ce.size;m.activeTexture(m.TEXTURE0+this.constantsLength+this.argumentsLength),m.bindTexture(m.TEXTURE_2D,Ce.texture),this.setUniform3iv("user_"+O+"Dim",ze),this.setUniform2iv("user_"+O+"Size",Be),this.setUniform1i("user_"+O+"BitRatio",1),this.setUniform1i("user_"+O,this.argumentsLength);break}default:throw new Error("Input type not supported (WebGL): "+x)}this.argumentsLength++}},{key:"_getMainConstantsString",value:function(){var x=[];if(this.constants){for(var T in this.constants)if(this.constants.hasOwnProperty(T)){var O=this.constants[T],m=y.getArgumentType(O);switch(m){case"Integer":x.push("const float constants_"+T+" = "+parseInt(O)+".0");break;case"Float":x.push("const float constants_"+T+" = "+parseFloat(O));break;case"Array":case"Input":case"HTMLImage":case"ArrayTexture(4)":case"NumberTexture":x.push("uniform highp sampler2D constants_"+T,"uniform highp ivec2 constants_"+T+"Size","uniform highp ivec3 constants_"+T+"Dim","uniform highp int constants_"+T+"BitRatio");break;case"HTMLImageArray":x.push("uniform highp sampler2DArray constants_"+T,"uniform highp ivec2 constants_"+T+"Size","uniform highp ivec3 constants_"+T+"Dim","uniform highp int constants_"+T+"BitRatio");break;default:throw new Error("Unsupported constant "+T+" type "+m)}}}return this._linesToString(x)}},{key:"_addConstant",value:function(x,T,O){var m=this._webGl,E=this.getArgumentTexture(O);switch(x instanceof f&&(T=x.type),T){case"Array":{var _=y.getDimensions(x,!0),b=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},_);m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,E),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var c=b[0]*b[1],A=this._formatArrayTransfer(x,c),U=A.valuesFlat,V=A.bitRatio,ne=void 0;this.floatTextures?m.texImage2D(m.TEXTURE_2D,0,m.RGBA,b[0],b[1],0,m.RGBA,m.FLOAT,U):(ne=new Uint8Array(U.buffer),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,b[0]/V,b[1],0,m.RGBA,m.UNSIGNED_BYTE,ne)),this.hardcodeConstants||(this.setUniform3iv("constants_"+O+"Dim",_),this.setUniform2iv("constants_"+O+"Size",b)),this.setUniform1i("constants_"+O+"BitRatio",V),this.setUniform1i("constants_"+O,this.constantsLength);break}case"Input":{var Y=x,H=Y.size,k=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},H);m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,E),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);var R=k[0]*k[1],D=this._formatArrayTransfer(x.value,R),B=D.valuesFlat,M=D.bitRatio;if(this.floatTextures)m.texImage2D(m.TEXTURE_2D,0,m.RGBA32F,k[0],k[1],0,m.RGBA,m.FLOAT,inputArray);else{var j=new Uint8Array(B.buffer);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,k[0]/M,k[1],0,m.RGBA,m.UNSIGNED_BYTE,j)}this.hardcodeConstants||(this.setUniform3iv("constants_"+O+"Dim",H),this.setUniform2iv("constants_"+O+"Size",k)),this.setUniform1i("constants_"+O+"BitRatio",M),this.setUniform1i("constants_"+O,this.constantsLength);break}case"HTMLImage":{var z=x,q=[z.width,z.height,1],K=[z.width,z.height];m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,E),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var ee=0,L=m.RGBA,Q=m.RGBA,ie=m.UNSIGNED_BYTE;m.texImage2D(m.TEXTURE_2D,ee,L,Q,ie,z),this.setUniform3iv("constants_"+O+"Dim",q),this.setUniform2iv("constants_"+O+"Size",K),this.setUniform1i("constants_"+O,this.constantsLength);break}case"HTMLImageArray":{var J=x,ue=[J[0].width,J[0].height,J.length],de=[J[0].width,J[0].height];m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D_ARRAY,E),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D_ARRAY,m.TEXTURE_MIN_FILTER,m.NEAREST),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var P=0,I=m.RGBA,X=J[0].width,$=J[0].height,le=J.length,N=0,G=m.RGBA,se=m.UNSIGNED_BYTE;m.texImage3D(m.TEXTURE_2D_ARRAY,P,I,X,$,le,N,G,se,null);for(var he=0;he<J.length;he++){var Ee=0,ge=0,_e=1;m.texSubImage3D(m.TEXTURE_2D_ARRAY,P,Ee,ge,he,J[he].width,J[he].height,_e,G,se,J[he])}this.setUniform3iv("constants_"+O+"Dim",ue),this.setUniform2iv("constants_"+O+"Size",de),this.setUniform1i("constants_"+O,this.constantsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var Ce=x,ze=Ce.dimensions,Be=Ce.size;m.activeTexture(m.TEXTURE0+this.constantsLength),m.bindTexture(m.TEXTURE_2D,Ce.texture),this.setUniform3iv("constants_"+O+"Dim",ze),this.setUniform2iv("constants_"+O+"Size",Be),this.setUniform1i("constants_"+O+"BitRatio",1),this.setUniform1i("constants_"+O,this.constantsLength);break}case"Integer":case"Float":default:throw new Error("Input type not supported (WebGL): "+x)}}},{key:"_getGetResultString",value:function(){return this.floatTextures?"  return texel[channel];":"  return decode(texel, x, bitRatio);"}},{key:"_getHeaderString",value:function(){return""}},{key:"_getTextureCoordinate",value:function(){var x=this.subKernelOutputVariableNames;return x===null||x.length<1?`in highp vec2 vTexCoord;
`:`out highp vec2 vTexCoord;
`}},{key:"_getMainParamsString",value:function(x){for(var T=[],O=this.paramTypes,m=this.paramNames,E=0;E<m.length;E++){var _=x[E],b=m[E],c=O[E];if(this.hardcodeConstants)if(c==="Array"||c==="NumberTexture"||c==="ArrayTexture(4)"){var A=y.getDimensions(_,!0),U=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},A);T.push("uniform highp sampler2D user_"+b,"highp ivec2 user_"+b+"Size = ivec2("+U[0]+", "+U[1]+")","highp ivec3 user_"+b+"Dim = ivec3("+A[0]+", "+A[1]+", "+A[2]+")","uniform highp int user_"+b+"BitRatio")}else c==="Integer"?T.push("highp float user_"+b+" = "+_+".0"):c==="Float"&&T.push("highp float user_"+b+" = "+_);else c==="Array"||c==="NumberTexture"||c==="ArrayTexture(4)"||c==="Input"||c==="HTMLImage"?(T.push("uniform highp sampler2D user_"+b,"uniform highp ivec2 user_"+b+"Size","uniform highp ivec3 user_"+b+"Dim"),c!=="HTMLImage"&&T.push("uniform highp int user_"+b+"BitRatio")):c==="HTMLImageArray"?T.push("uniform highp sampler2DArray user_"+b,"uniform highp ivec2 user_"+b+"Size","uniform highp ivec3 user_"+b+"Dim"):(c==="Integer"||c==="Float")&&T.push("uniform float user_"+b)}return this._linesToString(T)}},{key:"_getKernelString",value:function(){var x=[],T=this.subKernelOutputVariableNames;if(T!==null){x.push("float kernelResult = 0.0"),x.push("layout(location = 0) out vec4 data0");for(var O=0;O<T.length;O++)x.push("float "+T[O]+" = 0.0","layout(location = "+(O+1)+") out vec4 data"+(O+1))}else x.push("out vec4 data0"),x.push("float kernelResult = 0.0");return this._linesToString(x)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var x=this.subKernelOutputVariableNames,T=[];if(this.floatOutput&&T.push("  index *= 4"),this.graphical)T.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor");else if(this.floatOutput)for(var O=["r","g","b","a"],m=0;m<O.length;++m){if(T.push("  threadId = indexTo3D(index, uOutputDim)"),T.push("  kernel()"),x){T.push("  data0."+O[m]+" = kernelResult");for(var E=0;E<x.length;++E)T.push("  data"+(E+1)+"."+O[m]+" = "+x[E])}else T.push("  data0."+O[m]+" = kernelResult");m<O.length-1&&T.push("  index += 1")}else if(x!==null){T.push("  threadId = indexTo3D(index, uOutputDim)"),T.push("  kernel()"),T.push("  data0 = encode32(kernelResult)");for(var _=0;_<x.length;_++)T.push("  data"+(_+1)+" = encode32("+x[_]+")")}else T.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = encode32(kernelResult)");return this._linesToString(T)}},{key:"_addKernels",value:function(){var x=this,T=this.functionBuilder;this._webGl,T.addFunctions(this.functions,{constants:this.constants,output:this.output}),T.addNativeFunctions(this.nativeFunctions),T.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,constantTypes:this.constantTypes,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernels!==null?(this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],this.subKernels.forEach(function(O){return x._addSubKernel(O)})):this.subKernelProperties!==null&&(this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],Object.keys(this.subKernelProperties).forEach(function(O){return x._addSubKernel(x.subKernelProperties[O])}))}},{key:"_getFragShaderString",value:function(x){return this.compiledFragShaderString!==null?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(this.constructor.fragShaderString,this._getFragShaderArtifactMap(x))}},{key:"_getVertShaderString",value:function(x){return this.compiledVertShaderString!==null?this.compiledVertShaderString:this.compiledVertShaderString=this.constructor.vertShaderString}}],[{key:"fragShaderString",get:function(){return g}},{key:"vertShaderString",get:function(){return v}}]),d}(o),kernel$1}var runner$1,hasRequiredRunner$1;function requireRunner$1(){if(hasRequiredRunner$1)return runner$1;hasRequiredRunner$1=1;var r=function(){function g(v,p){for(var d=0;d<p.length;d++){var S=p[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,p,d){return p&&g(v.prototype,p),d&&g(v,d),v}}();function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function l(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var o=requireRunnerBase(),y=requireFunctionBuilder$1(),f=requireKernel$1();return runner$1=function(g){l(v,g);function v(p){i(this,v);var d=s(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,new y,p));return d.Kernel=f,d.kernel=null,d}return r(v,[{key:"getMode",value:function(){return"gpu"}}]),v}(o),runner$1}var kernelString,hasRequiredKernelString;function requireKernelString(){if(hasRequiredKernelString)return kernelString;hasRequiredKernelString=1;var r=requireUtils(),i=requireKernelRunShortcut();function s(o){return/^function /.test(o)&&(o=o.substring(9)),o.replace(/[_]typeof/g,"typeof")}function l(o){return o.replace(/[_]typeof/g,"typeof")}return kernelString=function(o,y){return`() => {
    `+i.toString()+`;
    const utils = {
      allPropertiesOf: `+l(r.allPropertiesOf.toString())+`,
      clone: `+l(r.clone.toString())+`,
      checkOutput: `+l(r.checkOutput.toString())+`
    };
    const Utils = utils;
    let Input = function() {};
    class `+(y||"Kernel")+` {
      constructor() {        
        this.argumentsLength = 0;
        this._canvas = null;
        this._webGl = null;
        this.built = false;
        this.program = null;
        this.paramNames = `+JSON.stringify(o.paramNames)+`;
        this.paramTypes = `+JSON.stringify(o.paramTypes)+`;
        this.texSize = `+JSON.stringify(o.texSize)+`;
        this.output = `+JSON.stringify(o.output)+";\n        this._kernelString = `"+o._kernelString+"`;\n        this.output = "+JSON.stringify(o.output)+`;
		    this.run = function() {
          this.run = null;
          this.build();
          return this.run.apply(this, arguments);
        }.bind(this);
        this.thread = {
          x: 0,
          y: 0,
          z: 0
        };
      }
      setCanvas(canvas) { this._canvas = canvas; return this; }
      setWebGl(webGl) { this._webGl = webGl; return this; }
      setInput(Type) { Input = Type; }
      `+s(o.build.toString())+`
      `+s(o.setupParams.toString())+`
      `+s(o.setupConstants.toString())+`
      run () { `+o.kernelString+` }
      getKernelString() { return this._kernelString; }
      `+s(o.validateOptions.toString())+`
    };
    return kernelRunShortcut(new Kernel());
  };`},kernelString}var kernel,hasRequiredKernel;function requireKernel(){if(hasRequiredKernel)return kernel;hasRequiredKernel=1;var r=function(){function g(v,p){for(var d=0;d<p.length;d++){var S=p[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,p,d){return p&&g(v.prototype,p),d&&g(v,d),v}}();function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function l(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var o=requireKernelBase(),y=requireUtils(),f=requireKernelString();return kernel=function(g){l(v,g);function v(p,d){i(this,v);var S=s(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,p,d));return S._fn=null,S.run=null,S._canvasCtx=null,S._imageData=null,S._colorData=null,S._kernelString=null,S.thread={x:0,y:0,z:0},S.run=(function(){return this.run=null,this.build.apply(this,arguments),this.run.apply(this,arguments)}).bind(S),S}return r(v,[{key:"validateOptions",value:function(){if(!this.output||this.output.length===0){if(arguments.length!==1)throw"Auto dimensions only supported for kernels with only one input";var d=y.getArgumentType(arguments[0]);if(d==="Array")this.output=y.getDimensions(d);else if(d==="NumberTexture"||d==="ArrayTexture(4)")this.output=arguments[0].output;else throw"Auto dimensions not supported for input type: "+d}y.checkOutput(this.output)}},{key:"build",value:function(){this.setupConstants(),this.setupParams(arguments),this.validateOptions();var d=this._canvas;d&&(this._canvasCtx=d.getContext("2d"));for(var S=this.threadDim=y.clone(this.output);S.length<3;)S.push(1);if(this.graphical){var x=this._canvas;if(!x)throw new Error("no canvas available for using graphical output");x.width=S[0],x.height=S[1],this._imageData=this._canvasCtx.createImageData(S[0],S[1]),this._colorData=new Uint8ClampedArray(S[0]*S[1]*4)}var T=this.getKernelString();this.debug&&(console.log("Options:"),console.dir(this),console.log("Function output:"),console.log(T)),this.kernelString=T,this.run=new Function([],T).bind(this)()}},{key:"color",value:function(d,S,x,T){typeof T>"u"&&(T=1),d=Math.floor(d*255),S=Math.floor(S*255),x=Math.floor(x*255),T=Math.floor(T*255);var O=this.output[0],m=this.output[1],E=this.thread.x,_=m-this.thread.y-1,b=E+_*O;this._colorData[b*4+0]=d,this._colorData[b*4+1]=S,this._colorData[b*4+2]=x,this._colorData[b*4+3]=T}},{key:"getKernelString",value:function(){if(this._kernelString!==null)return this._kernelString;for(var d=this.functionBuilder,S=this.threadDim||(this.threadDim=y.clone(this.output));S.length<3;)S.push(1);if(d.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:S,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,paramSizes:this.paramSizes,constantTypes:this.constantTypes}),d.addFunctions(this.functions,{constants:this.constants,output:S}),d.addNativeFunctions(this.nativeFunctions),this.subKernels!==null){this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[];for(var x=0;x<this.subKernels.length;x++){var T=this.subKernels[x];d.addSubKernel(T,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations}),this.subKernelOutputVariableNames.push(T.name+"Result")}}else if(this.subKernelProperties!==null){this.subKernelOutputVariableNames=[];for(var O in this.subKernelProperties)if(this.subKernelProperties.hasOwnProperty(O)){var m=this.subKernelProperties[O];d.addSubKernel(m),this.subKernelOutputVariableNames.push(m.name+"Result")}}var E=d.getPrototypes("kernel"),_=null;E.length>1?E=E.filter(function(c){return/^function/.test(c)?c:(_=c,!1)}):_=E.shift();var b=this._kernelString=`
		var LOOP_MAX = `+this._getLoopMaxString()+`
		var constants = this.constants;
		var _this = this;
    return function (`+this.paramNames.map(function(c){return"user_"+c}).join(", ")+`) {
      `+this._processConstants()+`
      `+this._processParams()+`
      `+this._kernelLoop(_)+`
      if (this.graphical) {
        this._imageData.data.set(this._colorData);
        this._canvasCtx.putImageData(this._imageData, 0, 0);
        return;
      }
      `+this._kernelOutput()+`
      `+(E.length>0?E.join(`
`):"")+`
    }.bind(this);`;return b}},{key:"toString",value:function(){return f(this)}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+`;
`:` 1000;
`}},{key:"_processConstants",value:function(){if(!this.constants)return"";var d=[];for(var S in this.constants){var x=this.constantTypes[S];switch(x){case"HTMLImage":d.push("  var constants_"+S+" = this._imageTo2DArray(this.constants."+S+")");break;case"HTMLImageArray":d.push("  var constants_"+S+" = this._imageTo3DArray(this.constants."+S+")");break;case"Input":d.push("  var constants_"+S+" = this.constants."+S+".value");break;default:d.push("  var constants_"+S+" = this.constants."+S)}}return d.join(`
`)}},{key:"_processParams",value:function(){for(var d=[],S=0;S<this.paramTypes.length;S++)switch(this.paramTypes[S]){case"HTMLImage":d.push("  user_"+this.paramNames[S]+" = this._imageTo2DArray(user_"+this.paramNames[S]+")");break;case"HTMLImageArray":d.push("  user_"+this.paramNames[S]+" = this._imageTo3DArray(user_"+this.paramNames[S]+")");break;case"Input":d.push("  user_"+this.paramNames[S]+" = user_"+this.paramNames[S]+".value");break}return d.join(`;
`)}},{key:"_imageTo2DArray",value:function(d){var S=this._canvas;S.width<d.width&&(S.width=d.width),S.height<d.height&&(S.height=d.height);var x=this._canvasCtx;x.drawImage(d,0,0,d.width,d.height);for(var T=x.getImageData(0,0,d.width,d.height).data,O=new Array(d.height),m=0,E=d.height-1;E>=0;E--){O[E]=new Array(d.width);for(var _=0;_<d.width;_++){var b=T[m++]/255,c=T[m++]/255,A=T[m++]/255,U=T[m++]/255,V=[b,c,A,U];V.r=b,V.g=c,V.b=A,V.a=U,O[E][_]=V}}return O}},{key:"_imageTo3DArray",value:function(d){for(var S=new Array(d.length),x=0;x<d.length;x++)S[x]=this._imageTo2DArray(d[x]);return S}},{key:"_kernelLoop",value:function(d){switch(this.output.length){case 1:return this._kernel1DLoop(d);case 2:return this._kernel2DLoop(d);case 3:return this._kernel3DLoop(d);default:throw new Error("unsupported size kernel")}}},{key:"_kernel1DLoop",value:function(d){var S=this.threadDim;return`
    var result = new Float32Array(`+S[0]+`);
    `+this._mapSubKernels(function(x){return"var result_"+x+" = new Float32Array("+S[0]+`);
`}).join("")+`
    for (var x = 0; x < `+S[0]+`; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      var kernelResult;
      `+d+`
      result[x] = kernelResult;
      `+this._mapSubKernels(function(x){return"result_"+x+"[x] = "+x+`;
`}).join("")+`
    }`}},{key:"_kernel2DLoop",value:function(d){var S=this.threadDim;return`
    var result = new Array(`+S[1]+`);
    `+this._mapSubKernels(function(x){return"var result_"+x+" = new Array("+S[1]+`);
`}).join("")+`
    for (var y = 0; y < `+S[1]+`; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      var resultX = result[y] = new Float32Array(`+S[0]+`);
      `+this._mapSubKernels(function(x){return"var result_"+x+"X = result_"+x+"[y] = new Float32Array("+S[0]+`);
`}).join("")+`
      for (var x = 0; x < `+S[0]+`; x++) {
      	this.thread.x = x;
        var kernelResult;
        `+d+`
        resultX[x] = kernelResult;
        `+this._mapSubKernels(function(x){return"result_"+x+"X[x] = "+x+`;
`}).join("")+`
      }
    }`}},{key:"_kernel3DLoop",value:function(d){var S=this.threadDim;return`
    var result = new Array(`+S[2]+`);
    `+this._mapSubKernels(function(x){return"var result_"+x+" = new Array("+S[2]+`);
`}).join("")+`
    for (var z = 0; z < `+S[2]+`; z++) {
      this.thread.z = z;
      var resultY = result[z] = new Array(`+S[1]+`);
      `+this._mapSubKernels(function(x){return"var result_"+x+"Y = result_"+x+"[z] = new Array("+S[1]+`);
`}).join("")+`
      for (var y = 0; y < `+S[1]+`; y++) {
        this.thread.y = y;
        var resultX = resultY[y] = new Float32Array(`+S[0]+`);
        `+this._mapSubKernels(function(x){return"var result_"+x+"X = result_"+x+"Y[y] = new Float32Array("+S[0]+`);
`}).join("")+`
        for (var x = 0; x < `+S[0]+`; x++) {
        	this.thread.x = x;
          var kernelResult;
          `+d+`
          resultX[x] = kernelResult;
          `+this._mapSubKernels(function(x){return"result_"+x+"X[x] = "+x+`;
`}).join("")+`
        }
      }
    }`}},{key:"_kernelOutput",value:function(){var d=this;return this.subKernelOutputVariableNames?`return {
      result: result,
      `+Object.keys(this.subKernelProperties||this.subKernelOutputVariableNames).map(function(S,x){return S+": result_"+d.subKernelOutputVariableNames[x]}).join(`,
`)+`
    };`:"return result;"}},{key:"_mapSubKernels",value:function(d){return this.subKernelOutputVariableNames===null?[""]:this.subKernelOutputVariableNames.map(d)}}]),v}(o),kernel}var functionNode,hasRequiredFunctionNode;function requireFunctionNode(){if(hasRequiredFunctionNode)return functionNode;hasRequiredFunctionNode=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var d=v[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function l(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var o=requireFunctionNodeBase(),y=requireUtils();return functionNode=function(f){l(g,f);function g(v,p,d){i(this,g);var S=s(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v,p,d));return S.paramSizes=d?d.paramSizes:[],S.memberStates=[],S}return r(g,[{key:"pushMemberState",value:function(p){this.memberStates.push(p)}},{key:"popMemberState",value:function(p){if(this.memberState===p)this.memberStates.pop();else throw new Error("Cannot popMemberState "+p+" when in "+this.memberState)}},{key:"generate",value:function(){return this.debug&&console.log(this),this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=this.functionStringArray.join("").trim(),this.functionString}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"astFunctionDeclaration",value:function(p,d){return this.builder.addFunction(null,y.getAstString(this.jsFunctionString,p)),d}},{key:"astFunctionPrototype",value:function(p,d){if(this.isRootKernel||this.isSubKernel)return d;d.push(this.returnType),d.push(" "),d.push(this.functionName),d.push("(");for(var S=0;S<this.paramNames.length;++S)S>0&&d.push(", "),d.push("user_"),d.push(this.paramNames[S]);return d.push(`);
`),d}},{key:"astFunctionExpression",value:function(p,d){if(!this.isRootKernel){d.push("function"),d.push(" "),d.push(this.functionName),d.push("(");for(var S=0;S<this.paramNames.length;++S){var x=this.paramNames[S];S>0&&d.push(", "),d.push("user_"),d.push(x)}d.push(`) {
`)}for(var T=0;T<p.body.body.length;++T)this.astGeneric(p.body.body[T],d),d.push(`
`);return this.isRootKernel||d.push(`}
`),d}},{key:"astReturnStatement",value:function(p,d){return this.isRootKernel?(d.push("kernelResult = "),this.astGeneric(p.argument,d),d.push(";")):this.isSubKernel?(d.push(this.functionName+"Result = "),this.astGeneric(p.argument,d),d.push(";"),d.push("return "+this.functionName+"Result;")):(d.push("return "),this.astGeneric(p.argument,d),d.push(";")),d}},{key:"astLiteral",value:function(p,d){if(isNaN(p.value))throw this.astErrorOutput("Non-numeric literal not supported : "+p.value,p);return d.push(p.value),d}},{key:"astBinaryExpression",value:function(p,d){return d.push("("),this.astGeneric(p.left,d),d.push(p.operator),this.astGeneric(p.right,d),d.push(")"),d}},{key:"astIdentifierExpression",value:function(p,d){if(p.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",p);switch(this.state){case"input-index-y":case"input-index-z":d.push("(")}switch(p.name){case"gpu_threadX":d.push("threadId.x");break;case"gpu_threadY":d.push("threadId.y");break;case"gpu_threadZ":d.push("threadId.z");break;case"gpu_outputX":d.push("uOutputDim.x");break;case"gpu_outputY":d.push("uOutputDim.y");break;case"gpu_outputZ":d.push("uOutputDim.z");break;case"Infinity":d.push("Infinity");break;default:if(this.constants&&this.constants.hasOwnProperty(p.name))d.push("constants_"+p.name);else{var S=this.getUserParamName(p.name);S!==null?d.push("user_"+S):d.push("user_"+p.name)}}switch(this.state){case"input-index-y":{var x=this.paramSizes[this.paramNames.indexOf(this.memberState)];d.push(" * "+x[0]+")");break}case"input-index-z":{var T=this.paramSizes[this.paramNames.indexOf(this.memberState)];d.push(" * "+T[0]*T[1]+")");break}}return d}},{key:"astForStatement",value:function(p,d){if(p.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",p);if(p.test&&p.test.type==="BinaryExpression"){if((p.test.right.type==="Identifier"||p.test.right.type==="Literal")&&p.test.operator==="<"&&this.isIdentifierConstant(p.test.right.name)===!1){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),d.push("for ("),this.astGeneric(p.init,d),d[d.length-1]!==";"&&d.push(";"),this.astGeneric(p.test.left,d),d.push(p.test.operator),d.push("LOOP_MAX"),d.push(";"),this.astGeneric(p.update,d),d.push(")"),d.push(`{
`),d.push("if ("),this.astGeneric(p.test.left,d),d.push(p.test.operator),this.astGeneric(p.test.right,d),d.push(`) {
`),p.body.type==="BlockStatement")for(var S=0;S<p.body.body.length;S++)this.astGeneric(p.body.body[S],d);else this.astGeneric(p.body,d);return d.push(`} else {
`),d.push(`break;
`),d.push(`}
`),d.push(`}
`),d}else if(p.init.declarations){var x=JSON.parse(JSON.stringify(p.init.declarations)),T=p.update.argument;if(!Array.isArray(x)||x.length<1)throw console.log(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(x.length>1){for(var O=null,m=0;m<x.length;m++){var E=x[m];E.id.name===T.name?(O=E,x.splice(m,1)):(d.push("var "),this.astGeneric(E,d),d.push(";"))}d.push("for (let "),this.astGeneric(O,d),d.push(";")}else d.push("for ("),this.astGeneric(p.init,d);return this.astGeneric(p.test,d),d.push(";"),this.astGeneric(p.update,d),d.push(")"),this.astGeneric(p.body,d),d}}throw this.astErrorOutput("Invalid for statement",p)}},{key:"astWhileStatement",value:function(p,d){if(p.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",p);return d.push("for (let i = 0; i < LOOP_MAX; i++) {"),d.push("if ("),this.astGeneric(p.test,d),d.push(`) {
`),this.astGeneric(p.body,d),d.push(`} else {
`),d.push(`break;
`),d.push(`}
`),d.push(`}
`),d}},{key:"astDoWhileStatement",value:function(p,d){if(p.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",p);return d.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(p.body,d),d.push("if (!"),this.astGeneric(p.test,d),d.push(`) {
`),d.push(`break;
`),d.push(`}
`),d.push(`}
`),d}},{key:"astAssignmentExpression",value:function(p,d){return this.astGeneric(p.left,d),d.push(p.operator),this.astGeneric(p.right,d),d}},{key:"astEmptyStatement",value:function(p,d){return d}},{key:"astBlockStatement",value:function(p,d){d.push(`{
`);for(var S=0;S<p.body.length;S++)this.astGeneric(p.body[S],d);return d.push(`}
`),d}},{key:"astExpressionStatement",value:function(p,d){return this.astGeneric(p.expression,d),d.push(";"),d}},{key:"astVariableDeclaration",value:function(p,d){d.push("var ");for(var S=0;S<p.declarations.length;S++)this.declarations[p.declarations[S].id.name]="var",S>0&&d.push(","),this.astGeneric(p.declarations[S],d);return d.push(";"),d}},{key:"astVariableDeclarator",value:function(p,d){return this.astGeneric(p.id,d),p.init!==null&&(d.push("="),this.astGeneric(p.init,d)),d}},{key:"astIfStatement",value:function(p,d){return d.push("if ("),this.astGeneric(p.test,d),d.push(")"),p.consequent.type==="BlockStatement"?this.astGeneric(p.consequent,d):(d.push(` {
`),this.astGeneric(p.consequent,d),d.push(`
}
`)),p.alternate&&(d.push("else "),p.alternate.type==="BlockStatement"?this.astGeneric(p.alternate,d):(d.push(` {
`),this.astGeneric(p.alternate,d),d.push(`
}
`))),d}},{key:"astBreakStatement",value:function(p,d){return d.push(`break;
`),d}},{key:"astContinueStatement",value:function(p,d){return d.push(`continue;
`),d}},{key:"astLogicalExpression",value:function(p,d){return d.push("("),this.astGeneric(p.left,d),d.push(p.operator),this.astGeneric(p.right,d),d.push(")"),d}},{key:"astUpdateExpression",value:function(p,d){return p.prefix?(d.push(p.operator),this.astGeneric(p.argument,d)):(this.astGeneric(p.argument,d),d.push(p.operator)),d}},{key:"astUnaryExpression",value:function(p,d){return p.prefix?(d.push(p.operator),this.astGeneric(p.argument,d)):(this.astGeneric(p.argument,d),d.push(p.operator)),d}},{key:"astThisExpression",value:function(p,d){return d.push("_this"),d}},{key:"astMemberExpression",value:function(p,d){if(p.computed)if(p.object.type==="Identifier"||p.object.type==="MemberExpression"&&p.object.object.object&&p.object.object.object.type==="ThisExpression"&&p.object.object.property.name==="constants")this.pushState("identifier"),this.astGeneric(p.object,d),this.popState("identifier"),d.push("["),this.isInput(p.object.name)?this.astGeneric(p.property,d):this.astGeneric(p.property,d),d.push("]");else if(p.object.object)if(p.object.object.object&&this.isInput(p.object.object.object.name)){this.pushMemberState(p.object.object.object.name),this.pushState("input-index-z"),this.astGeneric(p.object,d);var S=d.pop();d.push(" + "),this.popState("input-index-z"),this.pushState("input-index"),this.astGeneric(p.property,d),this.popState("input-index"),d.push(S),this.popMemberState(p.object.object.object.name)}else if(this.isInput(p.object.object.name)){this.pushMemberState(p.object.object.name),this.isState("input-index-z")||this.pushState("input-index-y"),this.astGeneric(p.object,d);var x=d.pop();d.push(" + "),this.isState("input-index-z")||this.popState("input-index-y");var T=this.isState("input-index-z");T?this.pushState("input-index-y"):this.pushState("input-index"),this.astGeneric(p.property,d),T?this.popState("input-index-y"):this.popState("input-index"),d.push(x),this.popMemberState(p.object.object.name)}else{this.astGeneric(p.object,d);var O=d.pop();d.push("]["),this.astGeneric(p.property,d),d.push(O)}else{this.astGeneric(p.object,d);var m=d.pop();d.push("]["),this.astGeneric(p.property,d),d.push(m)}else{var E=this.astMemberExpressionUnroll(p);switch(p.property.type==="Identifier"&&p.computed&&(E="user_"+E),E.indexOf("this.constants")===0?E="constants_"+E.substring(15):E.indexOf("this")===0&&(E="_"+E),this.state){case"input-index-y":case"input-index-z":d.push("(")}switch(E){case"_this.output.x":d.push(this.output[0]);break;case"_this.output.y":d.push(this.output[1]);break;case"_this.output.z":d.push(this.output[2]);break;default:p.object&&p.object.name&&this.declarations[p.object.name]&&d.push("user_"),d.push(E)}switch(this.state){case"input-index-y":{var _=this.paramSizes[this.paramNames.indexOf(this.memberState)];d.push(" * "+_[0]+")");break}case"input-index-z":{var b=this.paramSizes[this.paramNames.indexOf(this.memberState)];d.push(" * "+b[0]*b[1]+")");break}}}return d}},{key:"astSequenceExpression",value:function(p,d){for(var S=0;S<p.expressions.length;S++)S>0&&d.push(","),this.astGeneric(p.expressions,d);return d}},{key:"astCallExpression",value:function(p,d){if(p.callee){var S=this.astMemberExpressionUnroll(p.callee);this.calledFunctions.indexOf(S)<0&&this.calledFunctions.push(S),this.hasOwnProperty("funcName")||(this.calledFunctionsArguments[S]=[]);var x=[];this.calledFunctionsArguments[S].push(x),d.push(S),d.push("(");for(var T=0;T<p.arguments.length;++T){var O=p.arguments[T];if(T>0&&d.push(", "),this.astGeneric(O,d),O.type==="Identifier"){var m=this.paramNames.indexOf(O.name);m===-1?x.push(null):x.push({name:O.name,type:this.paramTypes[m]})}else x.push(null)}return d.push(")"),d}throw this.astErrorOutput("Unknown CallExpression",p)}},{key:"astArrayExpression",value:function(p,d){var S=p.elements.length;d.push("[");for(var x=0;x<S;++x){x>0&&d.push(", ");var T=p.elements[x];this.astGeneric(T,d)}return d.push("]"),d}},{key:"astDebuggerStatement",value:function(p,d){return d.push("debugger;"),d}},{key:"memberState",get:function(){return this.memberStates[this.memberStates.length-1]}}]),g}(o),functionNode}var functionBuilder,hasRequiredFunctionBuilder;function requireFunctionBuilder(){if(hasRequiredFunctionBuilder)return functionBuilder;hasRequiredFunctionBuilder=1;function r(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}function i(y,f){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:y}function s(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(y,f):y.__proto__=f)}var l=requireFunctionBuilderBase(),o=requireFunctionNode();return functionBuilder=function(y){s(f,y);function f(){r(this,f);var g=i(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return g.Node=o,g}return f}(l),functionBuilder}var runner,hasRequiredRunner;function requireRunner(){if(hasRequiredRunner)return runner;hasRequiredRunner=1;var r=function(){function g(v,p){for(var d=0;d<p.length;d++){var S=p[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,p,d){return p&&g(v.prototype,p),d&&g(v,d),v}}();function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function s(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function l(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}requireUtils();var o=requireRunnerBase(),y=requireKernel(),f=requireFunctionBuilder();return runner=function(g){l(v,g);function v(p){i(this,v);var d=s(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,new f,p));return d.Kernel=y,d.kernel=null,d}return r(v,[{key:"getMode",value:function(){return"cpu"}}]),v}(o),runner}var validatorKernel$1,hasRequiredValidatorKernel$1;function requireValidatorKernel$1(){if(hasRequiredValidatorKernel$1)return validatorKernel$1;hasRequiredValidatorKernel$1=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var d=v[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function l(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var o=requireKernel$2(),y=requireUtils();return validatorKernel$1=function(f){l(g,f);function g(){return i(this,g),s(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return r(g,[{key:"validateOptions",value:function(){this.texSize=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),g}(o),validatorKernel$1}var validatorKernel,hasRequiredValidatorKernel;function requireValidatorKernel(){if(hasRequiredValidatorKernel)return validatorKernel;hasRequiredValidatorKernel=1;var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var d=v[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}();function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function l(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var o=requireKernel$1(),y=requireUtils();return validatorKernel=function(f){l(g,f);function g(){return i(this,g),s(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return r(g,[{key:"validateOptions",value:function(){this._webGl.getExtension("EXT_color_buffer_float"),this.texSize=y.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),g}(o),validatorKernel}var gpuCore,hasRequiredGpuCore;function requireGpuCore(){if(hasRequiredGpuCore)return gpuCore;hasRequiredGpuCore=1;var r=function(){function s(l,o){for(var y=0;y<o.length;y++){var f=o[y];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,o,y){return o&&s(l.prototype,o),y&&s(l,y),l}}();function i(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}return requireUtilsCore(),gpuCore=function(){function s(){i(this,s)}return r(s,null,[{key:"validateKernelObj",value:function(o){if(o===null)throw"KernelObj being validated is NULL";if(typeof o=="string"){try{o=JSON.parse(o)}catch(y){throw console.error(y),"Failed to convert KernelObj from JSON string"}if(o===null)throw"Invalid (NULL) KernelObj JSON string representation"}if(o.isKernelObj!==!0)throw"Failed missing isKernelObj flag check";return o}},{key:"loadKernelObj",value:function(o,y){o=validateKernelObj(o)}}]),s}(),gpuCore}var gpu,hasRequiredGpu;function requireGpu(){if(hasRequiredGpu)return gpu;hasRequiredGpu=1;var r=function(){function x(T,O){for(var m=0;m<O.length;m++){var E=O[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}return function(T,O,m){return O&&x(T.prototype,O),m&&x(T,m),T}}();function i(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function s(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function l(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var o=requireUtils(),y=requireRunner$2(),f=requireRunner$1(),g=requireRunner(),v=requireValidatorKernel$1(),p=requireValidatorKernel(),d=requireGpuCore(),S=function(x){l(T,x);function T(O){i(this,T);var m=s(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O));O=O||{},m._canvas=O.canvas||null,m._webGl=O.webGl||null;var E=O.mode,_=void 0;if(o.isWebGlSupported())if(m._webGl)if(typeof WebGL2RenderingContext<"u"&&m._webGl.constructor===WebGL2RenderingContext)_="webgl2";else if(typeof WebGLRenderingContext<"u"&&m._webGl.constructor===WebGLRenderingContext)_="webgl";else throw new Error("unknown WebGL Context");else _=E||"gpu";else{if(E&&E!=="cpu")throw new Error('A requested mode of "'+E+'" and is not supported');console.warn("Warning: gpu not supported, falling back to cpu support"),_="cpu"}m.kernels=[];var b={canvas:m._canvas,webGl:m._webGl};switch(_){case"cpu":m._runner=new g(b);break;case"gpu":var c=m.getGPURunner();m._runner=new c(b);break;case"webgl2":m._runner=new f(b);break;case"webgl":m._runner=new y(b);break;case"webgl2-validator":m._runner=new f(b),m._runner.Kernel=p;break;case"webgl-validator":m._runner=new y(b),m._runner.Kernel=v;break;default:throw new Error('"'+E+'" mode is not defined')}return m}return r(T,[{key:"createKernel",value:function(m,E){if(typeof m>"u")throw"Missing fn parameter";if(!o.isFunction(m)&&typeof m!="string")throw"fn parameter not a function";var _=Object.assign({webGl:this._webGl,canvas:this._canvas},E||{}),b=this._runner.buildKernel(m,_);return this._canvas||(this._canvas=b.getCanvas()),this._runner.canvas||(this._runner.canvas=b.getCanvas()),this.kernels.push(b),b}},{key:"createKernelMap",value:function(){var m=void 0,E=void 0;typeof arguments[arguments.length-2]=="function"?(m=arguments[arguments.length-2],E=arguments[arguments.length-1]):m=arguments[arguments.length-1],o.isWebGlDrawBuffersSupported()||(this._runner=new g(E));var _=this.createKernel(m,E);if(Array.isArray(arguments[0]))for(var b=arguments[0],c=0;c<b.length;c++)_.addSubKernel(b[c]);else{var A=arguments[0];for(var U in A)A.hasOwnProperty(U)&&_.addSubKernelProperty(U,A[U])}return _}},{key:"combineKernels",value:function(){var m=arguments[arguments.length-2],E=arguments[arguments.length-1];if(this.getMode()==="cpu")return E;for(var _=arguments[0].getCanvas(),b=arguments[0].getWebGl(),c=0;c<arguments.length-1;c++)arguments[c].setCanvas(_).setWebGl(b).setOutputToTexture(!0);return function(){E.apply(null,arguments);var A=m.texSize,U=m.getWebGl(),V=m.threadDim,ne=void 0;if(m.floatOutput){var Y=A[0],H=Math.ceil(A[1]/4);ne=new Float32Array(Y*H*4),U.readPixels(0,0,Y,H,U.RGBA,U.FLOAT,ne)}else{var k=new Uint8Array(A[0]*A[1]*4);U.readPixels(0,0,A[0],A[1],U.RGBA,U.UNSIGNED_BYTE,k),ne=new Float32Array(k.buffer)}if(ne=ne.subarray(0,V[0]*V[1]*V[2]),m.output.length===1)return ne;if(m.output.length===2)return o.splitArray(ne,m.output[0]);if(m.output.length===3){var R=o.splitArray(ne,m.output[0]*m.output[1]);return R.map(function(D){return o.splitArray(D,m.output[0])})}}}},{key:"getGPURunner",value:function(){if(typeof WebGL2RenderingContext<"u"&&o.isWebGl2Supported())return f;if(typeof WebGLRenderingContext<"u")return y}},{key:"addFunction",value:function(m,E){return this._runner.functionBuilder.addFunction(null,m,E),this}},{key:"addNativeFunction",value:function(m,E){return this._runner.functionBuilder.addNativeFunction(m,E),this}},{key:"getMode",value:function(){return this._runner.getMode()}},{key:"isWebGlSupported",value:function(){return o.isWebGlSupported()}},{key:"hasIntegerDivisionAccuracyBug",value:function(){return o.hasIntegerDivisionAccuracyBug()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"destroy",value:function(){var m=this;setTimeout(function(){for(var E=m.kernels,_=!m._webGl&&E.length&&E[0]._webGl,b=0;b<m.kernels.length;b++)m.kernels[b].destroy(!0);if(_){_.OES_texture_float=null,_.OES_texture_float_linear=null,_.OES_element_index_uint=null;var c=_.getExtension("WEBGL_lose_context");c&&c.loseContext()}},0)}}]),T}(d);return Object.assign(S,d),gpu=S,gpu}var alias,hasRequiredAlias;function requireAlias(){if(hasRequiredAlias)return alias;hasRequiredAlias=1;var r=requireUtils();return alias=function(s,l){var o=l.toString();return new Function("return function "+s+" ("+r.getParamNamesFromString(o).join(", ")+") {"+r.getFunctionBodyFromString(o)+"}")()},alias}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(r){var i=requireGpu(),s=requireAlias(),l=requireUtils(),o=requireInput(),y=requireTexture(),f=requireFunctionBuilder(),g=requireFunctionNode(),v=requireKernel(),p=requireRunner(),d=requireFunctionBuilder$2(),S=requireFunctionNode$2(),x=requireKernel$2(),T=requireRunner$2(),O=requireFunctionBuilder$1(),m=requireFunctionNode$1(),E=requireKernel$1(),_=requireRunner$1();i.alias=s,i.utils=l,i.Texture=y,i.Input=o,i.input=function(b,c){return new o(b,c)},i.CPUFunctionBuilder=f,i.CPUFunctionNode=g,i.CPUKernel=v,i.CPURunner=p,i.WebGLFunctionBuilder=d,i.WebGLFunctionNode=S,i.WebGLKernel=x,i.WebGLRunner=T,i.WebGL2FunctionBuilder=O,i.WebGL2FunctionNode=m,i.WebGL2Kernel=E,i.WebGL2Runner=_,r.exports=i,typeof window<"u"&&(window.GPU=i),typeof self<"u"&&(self.GPU=i)}(dist)),dist.exports}var hasRequiredNeuralNetworkGpu;function requireNeuralNetworkGpu(){if(hasRequiredNeuralNetworkGpu)return neuralNetworkGpu;hasRequiredNeuralNetworkGpu=1,Object.defineProperty(neuralNetworkGpu,"__esModule",{value:!0});var r=function(){function R(D,B){for(var M=0;M<B.length;M++){var j=B[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,B,M){return B&&R(D.prototype,B),M&&R(D,M),D}}(),i=function R(D,B,M){D===null&&(D=Function.prototype);var j=Object.getOwnPropertyDescriptor(D,B);if(j===void 0){var z=Object.getPrototypeOf(D);return z===null?void 0:R(z,B,M)}else{if("value"in j)return j.value;var q=j.get;return q===void 0?void 0:q.call(M)}},s=requireNeuralNetwork(),l=v(s),o=requireLookup(),y=v(o),f=requireDist(),g=v(f);function v(R){return R&&R.__esModule?R:{default:R}}function p(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function d(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function S(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var x=function(R){S(D,R);function D(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p(this,D);var M=d(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,B));return M.forwardPropagate=[],M.backwardPropagate=[],M.changesPropagate=[],M.biasesPropagate=[],M.biasCopies=[],M.copyBias=[],M.changesCopies=[],M.copyChanges=[],M.weightsCopies=[],M.copyWeights=[],M.errorCheckInterval=100,M.gpu=new g.default({mode:B.mode}),M}return r(D,[{key:"initialize",value:function(){i(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"initialize",this).call(this),this.buildRunInput(),this.buildCalculateDeltas(),this.buildGetChanges(),this.buildChangeBiases(),this.buildGetMSE()}},{key:"setActivation",value:function(){}},{key:"trainPattern",value:function(M,j){return this.runInput(M.input),this.calculateDeltas(M.output),this.adjustWeights(),j?this.getMSE(this.errors[this.outputLayer])[0]:null}},{key:"adjustWeights",value:function(){this.getChanges(),this.changeBiases()}},{key:"buildRunInput",value:function(){var M=null;switch(this.activation){case"sigmoid":M=T;break;case"relu":M=O;break;case"leaky-relu":M=m;break;case"tanh":M=E;break;default:throw new Error("unknown activation "+this.activation)}for(var j=1;j<=this.outputLayer;j++)this.forwardPropagate[j]=this.gpu.createKernel(M,{output:[this.sizes[j]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.sizes[j-1]}});this.texturizeInputData=this.gpu.createKernel(function(z){return z[this.thread.x]},{output:[this.sizes[1]],outputToTexture:!0,hardcodeConstants:!0,outputImmutable:!0})}},{key:"runInput",value:function(M){var j=void 0;this.outputs[0]=M;for(var z=1;z<=this.outputLayer;z++)this.outputs[z]=this.forwardPropagate[z](this.weights[z],this.biases[z],M),j=M=this.outputs[z];return j}},{key:"buildCalculateDeltas",value:function(){var M=null;switch(this.activation){case"sigmoid":M=b;break;case"relu":M=c;break;case"leaky-relu":M=A;break;case"tanh":M=U;break;default:throw new Error("unknown activation "+this.activation)}for(var j=this.outputLayer;j>0;j--)j===this.outputLayer?this.backwardPropagate[j]=this.gpu.createKernelMap({error:g.default.alias("calcErrorOutput",_),deltas:g.default.alias("calcDeltas",M)},function(z,q){var K=z[this.thread.x];return M(_(K,q),K)},{output:[this.sizes[j]],outputToTexture:!0,hardcodeConstants:!0}):this.backwardPropagate[j]=this.gpu.createKernelMap({error:g.default.alias("calcError",V),deltas:g.default.alias("calcDeltas",M)},function(z,q,K){var ee=q[this.thread.x];return M(V(z,K),ee)},{output:[this.sizes[j]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.deltas[j+1].length}})}},{key:"calculateDeltas",value:function(M){for(var j=this.outputLayer;j>0;j--){var z=void 0;j===this.outputLayer?z=this.backwardPropagate[j](this.outputs[j],M):z=this.backwardPropagate[j](this.weights[j+1],this.outputs[j],this.deltas[j+1]),this.deltas[j]=z.deltas,this.errors[j]=z.error}}},{key:"buildGetChanges",value:function(){for(var M=1;M<=this.outputLayer;M++)this.changesPropagate[M]=this.gpu.createKernelMap({weights:g.default.alias("addWeights",Y),changes:g.default.alias("calcChanges",ne)},function(j,z,q,K){var ee=ne(K,z,j);return Y(ee,q)},{output:[this.sizes[M-1],this.sizes[M]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.outputs[M-1].length,learningRate:this.trainOpts.learningRate,momentum:this.trainOpts.momentum}}),this.copyChanges[M]=this.gpu.createKernel(function(j){return j[this.thread.y][this.thread.x]},{output:this.changesPropagate[M].output,outputToTexture:!0,hardCodeConstants:!0}),this.copyWeights[M]=this.gpu.createKernel(function(j){return j[this.thread.y][this.thread.x]},{output:this.changesPropagate[M].output,outputToTexture:!0,hardCodeConstants:!0})}},{key:"getChanges",value:function(){for(var M=1;M<=this.outputLayer;M++){var j=this.changesPropagate[M](this.outputs[M-1],this.deltas[M],this.weightsCopies[M]||this.weights[M],this.changesCopies[M]||this.changes[M]);this.changes[M]=j.changes,this.weights[M]=j.weights,this.changesCopies[M]=this.copyChanges[M](j.changes),this.weightsCopies[M]=this.copyWeights[M](j.weights)}}},{key:"buildChangeBiases",value:function(){for(var M=1;M<=this.outputLayer;M++)this.biasesPropagate[M]=this.gpu.createKernel(H,{output:[this.sizes[M]],outputToTexture:!0,hardcodeConstants:!0,constants:{learningRate:this.trainOpts.learningRate}}),this.copyBias[M]=this.gpu.createKernel(function(j){return j[this.thread.x]},{output:this.biasesPropagate[M].output,outputToTexture:!0,hardCodeConstants:!0})}},{key:"changeBiases",value:function(){for(var M=1;M<=this.outputLayer;M++)this.biases[M]=this.biasesPropagate[M](this.biasCopies[M]||this.biases[M],this.deltas[M]),this.biasCopies[M]=this.copyBias[M](this.biases[M])}},{key:"buildGetMSE",value:function(){this.getMSE=this.gpu.createKernel(k,{output:[1],hardcodeConstants:!0,constants:{size:this.sizes[this.outputLayer]}})}},{key:"run",value:function(M){if(!this.isRunnable)return null;this.inputLookup&&(M=y.default.toArray(this.inputLookup,M,this.inputLookupLength));var j=this.texturizeInputData(M),z=this.runInput(j),q=void 0;return z.toArray?q=z.toArray(this.gpu):q=z,this.outputLookup&&(q=y.default.toObject(this.outputLookup,q)),q}},{key:"prepTraining",value:function(M,j){var z=this;this.updateTrainingOptions(j),M=this.formatData(M);var q=Date.now()+this.trainOpts.timeout,K={error:1,iterations:0};this.verifyIsInitialized(M);var ee=this.gpu.createKernel(function(L){return L[this.thread.x]},{output:[M[0].output.length],outputToTexture:!0,hardcodeConstants:!0,outputImmutable:!0});return{data:M.map(function(L){return{input:z.texturizeInputData(L.input),output:ee(L.output)}}),status:K,endTime:q}}},{key:"toJSON",value:function(){var M=this;if(!this.weights[1].toArray)return i(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"toJSON",this).call(this);for(var j=[],z=[],q=1;q<=this.outputLayer;q++)j[q]=Array.from(this.weights[q].toArray(this.gpu)),z[q]=Array.from(this.biases[q].toArray(this.gpu));return l.default.prototype.toJSON.call({inputLookup:this.inputLookup,outputLookup:this.outputLookup,outputLayer:this.outputLayer,sizes:this.sizes,getTrainOptsJSON:function(){return M.getTrainOptsJSON()},weights:j,biases:z})}}]),D}(l.default);neuralNetworkGpu.default=x;function T(R,D,B){for(var M=D[this.thread.x],j=0;j<this.constants.size;j++)M+=R[this.thread.x][j]*B[j];return 1/(1+Math.exp(-M))}function O(R,D,B){for(var M=D[this.thread.x],j=0;j<this.constants.size;j++)M+=R[this.thread.x][j]*B[j];return M<0?0:M}function m(R,D,B){for(var M=D[this.thread.x],j=0;j<this.constants.size;j++)M+=R[this.thread.x][j]*B[j];return M<0?0:.01*M}function E(R,D,B){for(var M=D[this.thread.x],j=0;j<this.constants.size;j++)M+=R[this.thread.x][j]*B[j];return Math.tanh(M)}function _(R,D){return D[this.thread.x]-R}function b(R,D){return R*D*(1-D)}function c(R,D){return D>0?R:0}function A(R,D){return D>0?R:.01*R}function U(R,D){return(1-D*D)*R}function V(R,D){for(var B=0,M=0;M<this.constants.size;M++)B+=D[M]*R[M][this.thread.x];return B}function ne(R,D,B){return this.constants.learningRate*D[this.thread.y]*B[this.thread.x]+this.constants.momentum*R[this.thread.y][this.thread.x]}function Y(R,D){return R+D[this.thread.y][this.thread.x]}function H(R,D){return R[this.thread.x]+D[this.thread.x]*this.constants.learningRate}function k(R){for(var D=0,B=0;B<this.constants.size;B++)D+=Math.pow(R[B],2);return D/this.constants.size}return neuralNetworkGpu}var trainStream={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(i,s){s&&(i.super_=s,i.prototype=Object.create(s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(i,s){if(s){i.super_=s;var l=function(){};l.prototype=s.prototype,i.prototype=new l,i.prototype.constructor=i}}),inherits_browser.exports}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=require$$0.EventEmitter),streamBrowser}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function r(O,m){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(O);m&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(O,b).enumerable})),E.push.apply(E,_)}return E}function i(O){for(var m=1;m<arguments.length;m++){var E=arguments[m]!=null?arguments[m]:{};m%2?r(Object(E),!0).forEach(function(_){s(O,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):r(Object(E)).forEach(function(_){Object.defineProperty(O,_,Object.getOwnPropertyDescriptor(E,_))})}return O}function s(O,m,E){return m=f(m),m in O?Object.defineProperty(O,m,{value:E,enumerable:!0,configurable:!0,writable:!0}):O[m]=E,O}function l(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}function o(O,m){for(var E=0;E<m.length;E++){var _=m[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,f(_.key),_)}}function y(O,m,E){return m&&o(O.prototype,m),Object.defineProperty(O,"prototype",{writable:!1}),O}function f(O){var m=g(O,"string");return typeof m=="symbol"?m:String(m)}function g(O,m){if(typeof O!="object"||O===null)return O;var E=O[Symbol.toPrimitive];if(E!==void 0){var _=E.call(O,m);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}var v=require$$0,p=v.Buffer,d=require$$0,S=d.inspect,x=S&&S.custom||"inspect";function T(O,m,E){p.prototype.copy.call(O,m,E)}return buffer_list=function(){function O(){l(this,O),this.head=null,this.tail=null,this.length=0}return y(O,[{key:"push",value:function(E){var _={data:E,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(E){var _={data:E,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var _=this.head,b=""+_.data;_=_.next;)b+=E+_.data;return b}},{key:"concat",value:function(E){if(this.length===0)return p.alloc(0);for(var _=p.allocUnsafe(E>>>0),b=this.head,c=0;b;)T(b.data,_,c),c+=b.data.length,b=b.next;return _}},{key:"consume",value:function(E,_){var b;return E<this.head.data.length?(b=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?b=this.shift():b=_?this._getString(E):this._getBuffer(E),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var _=this.head,b=1,c=_.data;for(E-=c.length;_=_.next;){var A=_.data,U=E>A.length?A.length:E;if(U===A.length?c+=A:c+=A.slice(0,E),E-=U,E===0){U===A.length?(++b,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=A.slice(U));break}++b}return this.length-=b,c}},{key:"_getBuffer",value:function(E){var _=p.allocUnsafe(E),b=this.head,c=1;for(b.data.copy(_),E-=b.data.length;b=b.next;){var A=b.data,U=E>A.length?A.length:E;if(A.copy(_,_.length-E,0,U),E-=U,E===0){U===A.length?(++c,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=A.slice(U));break}++c}return this.length-=c,_}},{key:x,value:function(E,_){return S(this,i(i({},_),{},{depth:0,customInspect:!1}))}}]),O}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function r(f,g){var v=this,p=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return p||d?(g?g(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,f)):process.nextTick(o,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(S){!g&&S?v._writableState?v._writableState.errorEmitted?process.nextTick(s,v):(v._writableState.errorEmitted=!0,process.nextTick(i,v,S)):process.nextTick(i,v,S):g?(process.nextTick(s,v),g(S)):process.nextTick(s,v)}),this)}function i(f,g){o(f,g),s(f)}function s(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(f,g){f.emit("error",g)}function y(f,g){var v=f._readableState,p=f._writableState;v&&v.autoDestroy||p&&p.autoDestroy?f.destroy(g):f.emit("error",g)}return destroy_1={destroy:r,undestroy:l,errorOrDestroy:y},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function r(g,v){g.prototype=Object.create(v.prototype),g.prototype.constructor=g,g.__proto__=v}var i={};function s(g,v,p){p||(p=Error);function d(x,T,O){return typeof v=="string"?v:v(x,T,O)}var S=function(x){r(T,x);function T(O,m,E){return x.call(this,d(O,m,E))||this}return T}(p);S.prototype.name=p.name,S.prototype.code=g,i[g]=S}function l(g,v){if(Array.isArray(g)){var p=g.length;return g=g.map(function(d){return String(d)}),p>2?"one of ".concat(v," ").concat(g.slice(0,p-1).join(", "),", or ")+g[p-1]:p===2?"one of ".concat(v," ").concat(g[0]," or ").concat(g[1]):"of ".concat(v," ").concat(g[0])}else return"of ".concat(v," ").concat(String(g))}function o(g,v,p){return g.substr(0,v.length)===v}function y(g,v,p){return(p===void 0||p>g.length)&&(p=g.length),g.substring(p-v.length,p)===v}function f(g,v,p){return typeof p!="number"&&(p=0),p+v.length>g.length?!1:g.indexOf(v,p)!==-1}return s("ERR_INVALID_OPT_VALUE",function(g,v){return'The value "'+v+'" is invalid for option "'+g+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(g,v,p){var d;typeof v=="string"&&o(v,"not ")?(d="must not be",v=v.replace(/^not /,"")):d="must be";var S;if(y(g," argument"))S="The ".concat(g," ").concat(d," ").concat(l(v,"type"));else{var x=f(g,".")?"property":"argument";S='The "'.concat(g,'" ').concat(x," ").concat(d," ").concat(l(v,"type"))}return S+=". Received type ".concat(typeof p),S},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=i,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var r=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function i(l,o,y){return l.highWaterMark!=null?l.highWaterMark:o?l[y]:null}function s(l,o,y,f){var g=i(o,f,y);if(g!=null){if(!(isFinite(g)&&Math.floor(g)===g)||g<0){var v=f?y:"highWaterMark";throw new r(v,g)}return Math.floor(g)}return l.objectMode?16:16*1024}return state={getHighWaterMark:s},state}var browser,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1,browser=r;function r(s,l){if(i("noDeprecation"))return s;var o=!1;function y(){if(!o){if(i("throwDeprecation"))throw new Error(l);i("traceDeprecation")?console.trace(l):console.warn(l),o=!0}return s.apply(this,arguments)}return y}function i(s){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var l=commonjsGlobal.localStorage[s];return l==null?!1:String(l).toLowerCase()==="true"}return browser}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=Y;function r(P){var I=this;this.next=null,this.entry=null,this.finish=function(){de(I,P)}}var i;Y.WritableState=V;var s={deprecate:requireBrowser()},l=requireStreamBrowser(),o=require$$0.Buffer,y=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(P){return o.from(P)}function g(P){return o.isBuffer(P)||P instanceof y}var v=requireDestroy(),p=requireState(),d=p.getHighWaterMark,S=requireErrorsBrowser().codes,x=S.ERR_INVALID_ARG_TYPE,T=S.ERR_METHOD_NOT_IMPLEMENTED,O=S.ERR_MULTIPLE_CALLBACK,m=S.ERR_STREAM_CANNOT_PIPE,E=S.ERR_STREAM_DESTROYED,_=S.ERR_STREAM_NULL_VALUES,b=S.ERR_STREAM_WRITE_AFTER_END,c=S.ERR_UNKNOWN_ENCODING,A=v.errorOrDestroy;requireInherits_browser()(Y,l);function U(){}function V(P,I,X){i=i||require_stream_duplex(),P=P||{},typeof X!="boolean"&&(X=I instanceof i),this.objectMode=!!P.objectMode,X&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=d(this,P,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=P.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){z(I,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}V.prototype.getBuffer=function(){for(var I=this.bufferedRequest,X=[];I;)X.push(I),I=I.next;return X},function(){try{Object.defineProperty(V.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(I){return ne.call(this,I)?!0:this!==Y?!1:I&&I._writableState instanceof V}})):ne=function(I){return I instanceof this};function Y(P){i=i||require_stream_duplex();var I=this instanceof i;if(!I&&!ne.call(Y,this))return new Y(P);this._writableState=new V(P,this,I),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),l.call(this)}Y.prototype.pipe=function(){A(this,new m)};function H(P,I){var X=new b;A(P,X),process.nextTick(I,X)}function k(P,I,X,$){var le;return X===null?le=new _:typeof X!="string"&&!I.objectMode&&(le=new x("chunk",["string","Buffer"],X)),le?(A(P,le),process.nextTick($,le),!1):!0}Y.prototype.write=function(P,I,X){var $=this._writableState,le=!1,N=!$.objectMode&&g(P);return N&&!o.isBuffer(P)&&(P=f(P)),typeof I=="function"&&(X=I,I=null),N?I="buffer":I||(I=$.defaultEncoding),typeof X!="function"&&(X=U),$.ending?H(this,X):(N||k(this,$,P,X))&&($.pendingcb++,le=D(this,$,N,P,I,X)),le},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&ee(this,P))},Y.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new c(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(P,I,X){return!P.objectMode&&P.decodeStrings!==!1&&typeof I=="string"&&(I=o.from(I,X)),I}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(P,I,X,$,le,N){if(!X){var G=R(I,$,le);$!==G&&(X=!0,le="buffer",$=G)}var se=I.objectMode?1:$.length;I.length+=se;var he=I.length<I.highWaterMark;if(he||(I.needDrain=!0),I.writing||I.corked){var Ee=I.lastBufferedRequest;I.lastBufferedRequest={chunk:$,encoding:le,isBuf:X,callback:N,next:null},Ee?Ee.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else B(P,I,!1,se,$,le,N);return he}function B(P,I,X,$,le,N,G){I.writelen=$,I.writecb=G,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new E("write")):X?P._writev(le,I.onwrite):P._write(le,N,I.onwrite),I.sync=!1}function M(P,I,X,$,le){--I.pendingcb,X?(process.nextTick(le,$),process.nextTick(J,P,I),P._writableState.errorEmitted=!0,A(P,$)):(le($),P._writableState.errorEmitted=!0,A(P,$),J(P,I))}function j(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function z(P,I){var X=P._writableState,$=X.sync,le=X.writecb;if(typeof le!="function")throw new O;if(j(X),I)M(P,X,$,I,le);else{var N=L(X)||P.destroyed;!N&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&ee(P,X),$?process.nextTick(q,P,X,N,le):q(P,X,N,le)}}function q(P,I,X,$){X||K(P,I),I.pendingcb--,$(),J(P,I)}function K(P,I){I.length===0&&I.needDrain&&(I.needDrain=!1,P.emit("drain"))}function ee(P,I){I.bufferProcessing=!0;var X=I.bufferedRequest;if(P._writev&&X&&X.next){var $=I.bufferedRequestCount,le=new Array($),N=I.corkedRequestsFree;N.entry=X;for(var G=0,se=!0;X;)le[G]=X,X.isBuf||(se=!1),X=X.next,G+=1;le.allBuffers=se,B(P,I,!0,I.length,le,"",N.finish),I.pendingcb++,I.lastBufferedRequest=null,N.next?(I.corkedRequestsFree=N.next,N.next=null):I.corkedRequestsFree=new r(I),I.bufferedRequestCount=0}else{for(;X;){var he=X.chunk,Ee=X.encoding,ge=X.callback,_e=I.objectMode?1:he.length;if(B(P,I,!1,_e,he,Ee,ge),X=X.next,I.bufferedRequestCount--,I.writing)break}X===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=X,I.bufferProcessing=!1}Y.prototype._write=function(P,I,X){X(new T("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(P,I,X){var $=this._writableState;return typeof P=="function"?(X=P,P=null,I=null):typeof I=="function"&&(X=I,I=null),P!=null&&this.write(P,I),$.corked&&($.corked=1,this.uncork()),$.ending||ue(this,$,X),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function Q(P,I){P._final(function(X){I.pendingcb--,X&&A(P,X),I.prefinished=!0,P.emit("prefinish"),J(P,I)})}function ie(P,I){!I.prefinished&&!I.finalCalled&&(typeof P._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,process.nextTick(Q,P,I)):(I.prefinished=!0,P.emit("prefinish")))}function J(P,I){var X=L(I);if(X&&(ie(P,I),I.pendingcb===0&&(I.finished=!0,P.emit("finish"),I.autoDestroy))){var $=P._readableState;(!$||$.autoDestroy&&$.endEmitted)&&P.destroy()}return X}function ue(P,I,X){I.ending=!0,J(P,I),X&&(I.finished?process.nextTick(X):P.once("finish",X)),I.ended=!0,P.writable=!1}function de(P,I,X){var $=P.entry;for(P.entry=null;$;){var le=$.callback;I.pendingcb--,le(X),$=$.next}I.corkedRequestsFree.next=P}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),Y.prototype.destroy=v.destroy,Y.prototype._undestroy=v.undestroy,Y.prototype._destroy=function(P,I){I(P)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var r=Object.keys||function(p){var d=[];for(var S in p)d.push(S);return d};_stream_duplex=f;var i=require_stream_readable(),s=require_stream_writable();requireInherits_browser()(f,i);for(var l=r(s.prototype),o=0;o<l.length;o++){var y=l[o];f.prototype[y]||(f.prototype[y]=s.prototype[y])}function f(p){if(!(this instanceof f))return new f(p);i.call(this,p),s.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(){this._writableState.ended||process.nextTick(v,this)}function v(p){p.end()}return Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(r,i){var s=require$$0,l=s.Buffer;function o(f,g){for(var v in f)g[v]=f[v]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?r.exports=s:(o(s,i),i.Buffer=y);function y(f,g,v){return l(f,g,v)}y.prototype=Object.create(l.prototype),o(l,y),y.from=function(f,g,v){if(typeof f=="number")throw new TypeError("Argument must not be a number");return l(f,g,v)},y.alloc=function(f,g,v){if(typeof f!="number")throw new TypeError("Argument must be a number");var p=l(f);return g!==void 0?typeof v=="string"?p.fill(g,v):p.fill(g):p.fill(0),p},y.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return l(f)},y.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(f)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var r=requireSafeBuffer().Buffer,i=r.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(_){if(!_)return"utf8";for(var b;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(b)return;_=(""+_).toLowerCase(),b=!0}}function l(_){var b=s(_);if(typeof b!="string"&&(r.isEncoding===i||!i(_)))throw new Error("Unknown encoding: "+_);return b||_}string_decoder.StringDecoder=o;function o(_){this.encoding=l(_);var b;switch(this.encoding){case"utf16le":this.text=S,this.end=x,b=4;break;case"utf8":this.fillLast=v,b=4;break;case"base64":this.text=T,this.end=O,b=3;break;default:this.write=m,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(b)}o.prototype.write=function(_){if(_.length===0)return"";var b,c;if(this.lastNeed){if(b=this.fillLast(_),b===void 0)return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<_.length?b?b+this.text(_,c):this.text(_,c):b||""},o.prototype.end=d,o.prototype.text=p,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function y(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function f(_,b,c){var A=b.length-1;if(A<c)return 0;var U=y(b[A]);return U>=0?(U>0&&(_.lastNeed=U-1),U):--A<c||U===-2?0:(U=y(b[A]),U>=0?(U>0&&(_.lastNeed=U-2),U):--A<c||U===-2?0:(U=y(b[A]),U>=0?(U>0&&(U===2?U=0:_.lastNeed=U-3),U):0))}function g(_,b,c){if((b[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return _.lastNeed=2,""}}function v(_){var b=this.lastTotal-this.lastNeed,c=g(this,_);if(c!==void 0)return c;if(this.lastNeed<=_.length)return _.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,b,0,_.length),this.lastNeed-=_.length}function p(_,b){var c=f(this,_,b);if(!this.lastNeed)return _.toString("utf8",b);this.lastTotal=c;var A=_.length-(c-this.lastNeed);return _.copy(this.lastChar,0,A),_.toString("utf8",b,A)}function d(_){var b=_&&_.length?this.write(_):"";return this.lastNeed?b+"":b}function S(_,b){if((_.length-b)%2===0){var c=_.toString("utf16le",b);if(c){var A=c.charCodeAt(c.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",b,_.length-1)}function x(_){var b=_&&_.length?this.write(_):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function T(_,b){var c=(_.length-b)%3;return c===0?_.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,c===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",b,_.length-c))}function O(_){var b=_&&_.length?this.write(_):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(_){return _.toString(this.encoding)}function E(_){return _&&_.length?this.write(_):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var r=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function i(y){var f=!1;return function(){if(!f){f=!0;for(var g=arguments.length,v=new Array(g),p=0;p<g;p++)v[p]=arguments[p];y.apply(this,v)}}}function s(){}function l(y){return y.setHeader&&typeof y.abort=="function"}function o(y,f,g){if(typeof f=="function")return o(y,null,f);f||(f={}),g=i(g||s);var v=f.readable||f.readable!==!1&&y.readable,p=f.writable||f.writable!==!1&&y.writable,d=function(){y.writable||x()},S=y._writableState&&y._writableState.finished,x=function(){p=!1,S=!0,v||g.call(y)},T=y._readableState&&y._readableState.endEmitted,O=function(){v=!1,T=!0,p||g.call(y)},m=function(c){g.call(y,c)},E=function(){var c;if(v&&!T)return(!y._readableState||!y._readableState.ended)&&(c=new r),g.call(y,c);if(p&&!S)return(!y._writableState||!y._writableState.ended)&&(c=new r),g.call(y,c)},_=function(){y.req.on("finish",x)};return l(y)?(y.on("complete",x),y.on("abort",E),y.req?_():y.on("request",_)):p&&!y._writableState&&(y.on("end",d),y.on("close",d)),y.on("end",O),y.on("finish",x),f.error!==!1&&y.on("error",m),y.on("close",E),function(){y.removeListener("complete",x),y.removeListener("abort",E),y.removeListener("request",_),y.req&&y.req.removeListener("finish",x),y.removeListener("end",d),y.removeListener("close",d),y.removeListener("finish",x),y.removeListener("end",O),y.removeListener("error",m),y.removeListener("close",E)}}return endOfStream=o,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var r;function i(c,A,U){return A=s(A),A in c?Object.defineProperty(c,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):c[A]=U,c}function s(c){var A=l(c,"string");return typeof A=="symbol"?A:String(A)}function l(c,A){if(typeof c!="object"||c===null)return c;var U=c[Symbol.toPrimitive];if(U!==void 0){var V=U.call(c,A);if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(c)}var o=requireEndOfStream(),y=Symbol("lastResolve"),f=Symbol("lastReject"),g=Symbol("error"),v=Symbol("ended"),p=Symbol("lastPromise"),d=Symbol("handlePromise"),S=Symbol("stream");function x(c,A){return{value:c,done:A}}function T(c){var A=c[y];if(A!==null){var U=c[S].read();U!==null&&(c[p]=null,c[y]=null,c[f]=null,A(x(U,!1)))}}function O(c){process.nextTick(T,c)}function m(c,A){return function(U,V){c.then(function(){if(A[v]){U(x(void 0,!0));return}A[d](U,V)},V)}}var E=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((r={get stream(){return this[S]},next:function(){var A=this,U=this[g];if(U!==null)return Promise.reject(U);if(this[v])return Promise.resolve(x(void 0,!0));if(this[S].destroyed)return new Promise(function(H,k){process.nextTick(function(){A[g]?k(A[g]):H(x(void 0,!0))})});var V=this[p],ne;if(V)ne=new Promise(m(V,this));else{var Y=this[S].read();if(Y!==null)return Promise.resolve(x(Y,!1));ne=new Promise(this[d])}return this[p]=ne,ne}},i(r,Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var A=this;return new Promise(function(U,V){A[S].destroy(null,function(ne){if(ne){V(ne);return}U(x(void 0,!0))})})}),r),E),b=function(A){var U,V=Object.create(_,(U={},i(U,S,{value:A,writable:!0}),i(U,y,{value:null,writable:!0}),i(U,f,{value:null,writable:!0}),i(U,g,{value:null,writable:!0}),i(U,v,{value:A._readableState.endEmitted,writable:!0}),i(U,d,{value:function(Y,H){var k=V[S].read();k?(V[p]=null,V[y]=null,V[f]=null,Y(x(k,!1))):(V[y]=Y,V[f]=H)},writable:!0}),U));return V[p]=null,o(A,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=V[f];Y!==null&&(V[p]=null,V[y]=null,V[f]=null,Y(ne)),V[g]=ne;return}var H=V[y];H!==null&&(V[p]=null,V[y]=null,V[f]=null,H(x(void 0,!0))),V[v]=!0}),A.on("readable",O.bind(null,V)),V};return async_iterator=b,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=H;var r;H.ReadableState=Y,require$$0.EventEmitter;var i=function(G,se){return G.listeners(se).length},s=requireStreamBrowser(),l=require$$0.Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(N){return l.from(N)}function f(N){return l.isBuffer(N)||N instanceof o}var g=require$$0,v;g&&g.debuglog?v=g.debuglog("stream"):v=function(){};var p=requireBuffer_list(),d=requireDestroy(),S=requireState(),x=S.getHighWaterMark,T=requireErrorsBrowser().codes,O=T.ERR_INVALID_ARG_TYPE,m=T.ERR_STREAM_PUSH_AFTER_EOF,E=T.ERR_METHOD_NOT_IMPLEMENTED,_=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,c,A;requireInherits_browser()(H,s);var U=d.errorOrDestroy,V=["error","close","destroy","pause","resume"];function ne(N,G,se){if(typeof N.prependListener=="function")return N.prependListener(G,se);!N._events||!N._events[G]?N.on(G,se):Array.isArray(N._events[G])?N._events[G].unshift(se):N._events[G]=[se,N._events[G]]}function Y(N,G,se){r=r||require_stream_duplex(),N=N||{},typeof se!="boolean"&&(se=G instanceof r),this.objectMode=!!N.objectMode,se&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=x(this,N,"readableHighWaterMark",se),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(b||(b=requireString_decoder().StringDecoder),this.decoder=new b(N.encoding),this.encoding=N.encoding)}function H(N){if(r=r||require_stream_duplex(),!(this instanceof H))return new H(N);var G=this instanceof r;this._readableState=new Y(N,this,G),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),s.call(this)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),H.prototype.destroy=d.destroy,H.prototype._undestroy=d.undestroy,H.prototype._destroy=function(N,G){G(N)},H.prototype.push=function(N,G){var se=this._readableState,he;return se.objectMode?he=!0:typeof N=="string"&&(G=G||se.defaultEncoding,G!==se.encoding&&(N=l.from(N,G),G=""),he=!0),k(this,N,G,!1,he)},H.prototype.unshift=function(N){return k(this,N,null,!0,!1)};function k(N,G,se,he,Ee){v("readableAddChunk",G);var ge=N._readableState;if(G===null)ge.reading=!1,z(N,ge);else{var _e;if(Ee||(_e=D(ge,G)),_e)U(N,_e);else if(ge.objectMode||G&&G.length>0)if(typeof G!="string"&&!ge.objectMode&&Object.getPrototypeOf(G)!==l.prototype&&(G=y(G)),he)ge.endEmitted?U(N,new _):R(N,ge,G,!0);else if(ge.ended)U(N,new m);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(G=ge.decoder.write(G),ge.objectMode||G.length!==0?R(N,ge,G,!1):ee(N,ge)):R(N,ge,G,!1)}else he||(ge.reading=!1,ee(N,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function R(N,G,se,he){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,N.emit("data",se)):(G.length+=G.objectMode?1:se.length,he?G.buffer.unshift(se):G.buffer.push(se),G.needReadable&&q(N)),ee(N,G)}function D(N,G){var se;return!f(G)&&typeof G!="string"&&G!==void 0&&!N.objectMode&&(se=new O("chunk",["string","Buffer","Uint8Array"],G)),se}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(N){b||(b=requireString_decoder().StringDecoder);var G=new b(N);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,he="";se!==null;)he+=G.write(se.data),se=se.next;return this._readableState.buffer.clear(),he!==""&&this._readableState.buffer.push(he),this._readableState.length=he.length,this};var B=1073741824;function M(N){return N>=B?N=B:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function j(N,G){return N<=0||G.length===0&&G.ended?0:G.objectMode?1:N!==N?G.flowing&&G.length?G.buffer.head.data.length:G.length:(N>G.highWaterMark&&(G.highWaterMark=M(N)),N<=G.length?N:G.ended?G.length:(G.needReadable=!0,0))}H.prototype.read=function(N){v("read",N),N=parseInt(N,10);var G=this._readableState,se=N;if(N!==0&&(G.emittedReadable=!1),N===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return v("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?X(this):q(this),null;if(N=j(N,G),N===0&&G.ended)return G.length===0&&X(this),null;var he=G.needReadable;v("need readable",he),(G.length===0||G.length-N<G.highWaterMark)&&(he=!0,v("length less than watermark",he)),G.ended||G.reading?(he=!1,v("reading or ended",he)):he&&(v("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(N=j(se,G)));var Ee;return N>0?Ee=I(N,G):Ee=null,Ee===null?(G.needReadable=G.length<=G.highWaterMark,N=0):(G.length-=N,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),se!==N&&G.ended&&X(this)),Ee!==null&&this.emit("data",Ee),Ee};function z(N,G){if(v("onEofChunk"),!G.ended){if(G.decoder){var se=G.decoder.end();se&&se.length&&(G.buffer.push(se),G.length+=G.objectMode?1:se.length)}G.ended=!0,G.sync?q(N):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,K(N)))}}function q(N){var G=N._readableState;v("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(v("emitReadable",G.flowing),G.emittedReadable=!0,process.nextTick(K,N))}function K(N){var G=N._readableState;v("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(N.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,P(N)}function ee(N,G){G.readingMore||(G.readingMore=!0,process.nextTick(L,N,G))}function L(N,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var se=G.length;if(v("maybeReadMore read 0"),N.read(0),se===G.length)break}G.readingMore=!1}H.prototype._read=function(N){U(this,new E("_read()"))},H.prototype.pipe=function(N,G){var se=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=N;break;case 1:he.pipes=[he.pipes,N];break;default:he.pipes.push(N);break}he.pipesCount+=1,v("pipe count=%d opts=%j",he.pipesCount,G);var Ee=(!G||G.end!==!1)&&N!==process.stdout&&N!==process.stderr,ge=Ee?Ce:Ye;he.endEmitted?process.nextTick(ge):se.once("end",ge),N.on("unpipe",_e);function _e(je,Fe){v("onunpipe"),je===se&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,ht())}function Ce(){v("onend"),N.end()}var ze=Q(se);N.on("drain",ze);var Be=!1;function ht(){v("cleanup"),N.removeListener("close",Ne),N.removeListener("finish",Pe),N.removeListener("drain",ze),N.removeListener("error",xe),N.removeListener("unpipe",_e),se.removeListener("end",Ce),se.removeListener("end",Ye),se.removeListener("data",gt),Be=!0,he.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&ze()}se.on("data",gt);function gt(je){v("ondata");var Fe=N.write(je);v("dest.write",Fe),Fe===!1&&((he.pipesCount===1&&he.pipes===N||he.pipesCount>1&&le(he.pipes,N)!==-1)&&!Be&&(v("false write response, pause",he.awaitDrain),he.awaitDrain++),se.pause())}function xe(je){v("onerror",je),Ye(),N.removeListener("error",xe),i(N,"error")===0&&U(N,je)}ne(N,"error",xe);function Ne(){N.removeListener("finish",Pe),Ye()}N.once("close",Ne);function Pe(){v("onfinish"),N.removeListener("close",Ne),Ye()}N.once("finish",Pe);function Ye(){v("unpipe"),se.unpipe(N)}return N.emit("pipe",se),he.flowing||(v("pipe resume"),se.resume()),N};function Q(N){return function(){var se=N._readableState;v("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&i(N,"data")&&(se.flowing=!0,P(N))}}H.prototype.unpipe=function(N){var G=this._readableState,se={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return N&&N!==G.pipes?this:(N||(N=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,N&&N.emit("unpipe",this,se),this);if(!N){var he=G.pipes,Ee=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var ge=0;ge<Ee;ge++)he[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var _e=le(G.pipes,N);return _e===-1?this:(G.pipes.splice(_e,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),N.emit("unpipe",this,se),this)},H.prototype.on=function(N,G){var se=s.prototype.on.call(this,N,G),he=this._readableState;return N==="data"?(he.readableListening=this.listenerCount("readable")>0,he.flowing!==!1&&this.resume()):N==="readable"&&!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.flowing=!1,he.emittedReadable=!1,v("on readable",he.length,he.reading),he.length?q(this):he.reading||process.nextTick(J,this)),se},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(N,G){var se=s.prototype.removeListener.call(this,N,G);return N==="readable"&&process.nextTick(ie,this),se},H.prototype.removeAllListeners=function(N){var G=s.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&process.nextTick(ie,this),G};function ie(N){var G=N._readableState;G.readableListening=N.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:N.listenerCount("data")>0&&N.resume()}function J(N){v("readable nexttick read 0"),N.read(0)}H.prototype.resume=function(){var N=this._readableState;return N.flowing||(v("resume"),N.flowing=!N.readableListening,ue(this,N)),N.paused=!1,this};function ue(N,G){G.resumeScheduled||(G.resumeScheduled=!0,process.nextTick(de,N,G))}function de(N,G){v("resume",G.reading),G.reading||N.read(0),G.resumeScheduled=!1,N.emit("resume"),P(N),G.flowing&&!G.reading&&N.read(0)}H.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function P(N){var G=N._readableState;for(v("flow",G.flowing);G.flowing&&N.read()!==null;);}H.prototype.wrap=function(N){var G=this,se=this._readableState,he=!1;N.on("end",function(){if(v("wrapped end"),se.decoder&&!se.ended){var _e=se.decoder.end();_e&&_e.length&&G.push(_e)}G.push(null)}),N.on("data",function(_e){if(v("wrapped data"),se.decoder&&(_e=se.decoder.write(_e)),!(se.objectMode&&_e==null)&&!(!se.objectMode&&(!_e||!_e.length))){var Ce=G.push(_e);Ce||(he=!0,N.pause())}});for(var Ee in N)this[Ee]===void 0&&typeof N[Ee]=="function"&&(this[Ee]=function(Ce){return function(){return N[Ce].apply(N,arguments)}}(Ee));for(var ge=0;ge<V.length;ge++)N.on(V[ge],this.emit.bind(this,V[ge]));return this._read=function(_e){v("wrapped _read",_e),he&&(he=!1,N.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=requireAsync_iterator()),c(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),H._fromList=I,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I(N,G){if(G.length===0)return null;var se;return G.objectMode?se=G.buffer.shift():!N||N>=G.length?(G.decoder?se=G.buffer.join(""):G.buffer.length===1?se=G.buffer.first():se=G.buffer.concat(G.length),G.buffer.clear()):se=G.buffer.consume(N,G.decoder),se}function X(N){var G=N._readableState;v("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,process.nextTick($,G,N))}function $(N,G){if(v("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,G.readable=!1,G.emit("end"),N.autoDestroy)){var se=G._writableState;(!se||se.autoDestroy&&se.finished)&&G.destroy()}}typeof Symbol=="function"&&(H.from=function(N,G){return A===void 0&&(A=requireFromBrowser()),A(H,N,G)});function le(N,G){for(var se=0,he=N.length;se<he;se++)if(N[se]===G)return se;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=g;var r=requireErrorsBrowser().codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,l=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,y=require_stream_duplex();requireInherits_browser()(g,y);function f(d,S){var x=this._transformState;x.transforming=!1;var T=x.writecb;if(T===null)return this.emit("error",new s);x.writechunk=null,x.writecb=null,S!=null&&this.push(S),T(d);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function g(d){if(!(this instanceof g))return new g(d);y.call(this,d),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",v)}function v(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,x){p(d,S,x)}):p(this,null,null)}g.prototype.push=function(d,S){return this._transformState.needTransform=!1,y.prototype.push.call(this,d,S)},g.prototype._transform=function(d,S,x){x(new i("_transform()"))},g.prototype._write=function(d,S,x){var T=this._transformState;if(T.writecb=x,T.writechunk=d,T.writeencoding=S,!T.transforming){var O=this._readableState;(T.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},g.prototype._read=function(d){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},g.prototype._destroy=function(d,S){y.prototype._destroy.call(this,d,function(x){S(x)})};function p(d,S,x){if(S)return d.emit("error",S);if(x!=null&&d.push(x),d._writableState.length)throw new o;if(d._transformState.transforming)throw new l;return d.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=i;var r=require_stream_transform();requireInherits_browser()(i,r);function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}return i.prototype._transform=function(s,l,o){o(null,s)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var r;function i(x){var T=!1;return function(){T||(T=!0,x.apply(void 0,arguments))}}var s=requireErrorsBrowser().codes,l=s.ERR_MISSING_ARGS,o=s.ERR_STREAM_DESTROYED;function y(x){if(x)throw x}function f(x){return x.setHeader&&typeof x.abort=="function"}function g(x,T,O,m){m=i(m);var E=!1;x.on("close",function(){E=!0}),r===void 0&&(r=requireEndOfStream()),r(x,{readable:T,writable:O},function(b){if(b)return m(b);E=!0,m()});var _=!1;return function(b){if(!E&&!_){if(_=!0,f(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();m(b||new o("pipe"))}}}function v(x){x()}function p(x,T){return x.pipe(T)}function d(x){return!x.length||typeof x[x.length-1]!="function"?y:x.pop()}function S(){for(var x=arguments.length,T=new Array(x),O=0;O<x;O++)T[O]=arguments[O];var m=d(T);if(Array.isArray(T[0])&&(T=T[0]),T.length<2)throw new l("streams");var E,_=T.map(function(b,c){var A=c<T.length-1,U=c>0;return g(b,A,U,function(V){E||(E=V),V&&_.forEach(v),!A&&(_.forEach(v),m(E))})});return T.reduce(p)}return pipeline_1=S,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=s;var r=require$$0.EventEmitter,i=requireInherits_browser();i(s,r),s.Readable=require_stream_readable(),s.Writable=require_stream_writable(),s.Duplex=require_stream_duplex(),s.Transform=require_stream_transform(),s.PassThrough=require_stream_passthrough(),s.finished=requireEndOfStream(),s.pipeline=requirePipeline(),s.Stream=s;function s(){r.call(this)}return s.prototype.pipe=function(l,o){var y=this;function f(T){l.writable&&l.write(T)===!1&&y.pause&&y.pause()}y.on("data",f);function g(){y.readable&&y.resume&&y.resume()}l.on("drain",g),!l._isStdio&&(!o||o.end!==!1)&&(y.on("end",p),y.on("close",d));var v=!1;function p(){v||(v=!0,l.end())}function d(){v||(v=!0,typeof l.destroy=="function"&&l.destroy())}function S(T){if(x(),r.listenerCount(this,"error")===0)throw T}y.on("error",S),l.on("error",S);function x(){y.removeListener("data",f),l.removeListener("drain",g),y.removeListener("end",p),y.removeListener("close",d),y.removeListener("error",S),l.removeListener("error",S),y.removeListener("end",x),y.removeListener("close",x),l.removeListener("close",x)}return y.on("end",x),y.on("close",x),l.on("close",x),l.emit("pipe",y),l},streamBrowserify}var hasRequiredTrainStream;function requireTrainStream(){if(hasRequiredTrainStream)return trainStream;hasRequiredTrainStream=1,Object.defineProperty(trainStream,"__esModule",{value:!0});var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var d=v[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}(),i=requireStreamBrowserify();function s(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function l(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function o(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var y=function(f){o(g,f);function g(v){s(this,g);var p=l(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,{objectMode:!0}));if(v=v||{},!v.neuralNetwork)throw new Error("no neural network specified");var d=v,S=d.neuralNetwork;p.neuralNetwork=S,p.dataFormatDetermined=!1,p.i=0,p.size=0,p.count=0,p.sum=0,p.floodCallback=v.floodCallback,p.doneTrainingCallback=v.doneTrainingCallback,S.updateTrainingOptions(v);var x=S.trainOpts;return p.iterations=x.iterations,p.errorThresh=x.errorThresh,p.log=x.log,p.logPeriod=x.logPeriod,p.callbackPeriod=x.callbackPeriod,p.callback=x.callback,p.on("finish",p.finishStreamIteration.bind(p)),p}return r(g,[{key:"endInputs",value:function(){this.write(!1)}},{key:"_write",value:function(p,d,S){if(!p)return this.emit("finish"),S();if(!this.dataFormatDetermined)return this.size++,this.neuralNetwork.addFormat(p),this.firstDatum=this.firstDatum||p,S();this.count++;var x=this.neuralNetwork.formatData(p);this.sum+=this.neuralNetwork.trainPattern(x[0],!0),S()}},{key:"finishStreamIteration",value:function(){if(this.dataFormatDetermined&&this.size!==this.count&&this.log("This iteration's data length was different from the first."),!this.dataFormatDetermined){var p=this.neuralNetwork.formatData(this.firstDatum);this.neuralNetwork.verifyIsInitialized(p),this.dataFormatDetermined=!0,typeof this.floodCallback=="function"&&this.floodCallback();return}var d=this.sum/this.size;if(this.log&&this.i%this.logPeriod===0&&this.log("iterations: "+this.i+", training error: "+d),this.callback&&this.i%this.callbackPeriod===0&&this.callback({error:d,iterations:this.i}),this.sum=0,this.count=0,this.i++,this.i<this.iterations&&d>this.errorThresh){if(typeof this.floodCallback=="function")return this.floodCallback()}else if(typeof this.doneTrainingCallback=="function")return this.doneTrainingCallback({error:d,iterations:this.i})}}]),g}(i.Writable);return trainStream.default=y,trainStream}var rnnTimeStep={},matrix={},hasRequiredMatrix;function requireMatrix(){if(hasRequiredMatrix)return matrix;hasRequiredMatrix=1,Object.defineProperty(matrix,"__esModule",{value:!0});var r=function(){function f(g,v){for(var p=0;p<v.length;p++){var d=v[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,p){return v&&f(g.prototype,v),p&&f(g,p),g}}(),i=requireZeros(),s=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function o(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}var y=function(){function f(g,v){o(this,f),g!==void 0&&v!==void 0&&(this.rows=g,this.columns=v,this.weights=(0,s.default)(g*v),this.deltas=(0,s.default)(g*v))}return r(f,[{key:"getWeights",value:function(v,p){var d=this.columns*v+p;if(d<0&&d>=this.weights.length)throw new Error("get accessor is skewed");return this.weights[d]}},{key:"setWeight",value:function(v,p,d){var S=this.columns*v+p;if(S<0&&S>=this.weights.length)throw new Error("set accessor is skewed");this.weights[S]=d}},{key:"setDeltas",value:function(v,p,d){var S=this.columns*v+p;if(S<0&&S>=this.weights.length)throw new Error("set accessor is skewed");this.deltas[S]=d}},{key:"toJSON",value:function(){return{rows:this.rows,columns:this.columns,weights:this.weights.slice(0)}}},{key:"weightsToArray",value:function(){for(var v=[],p=0,d=0,S=0;S<this.weights.length;S++)d===0&&v.push([]),v[p].push(this.weights[S]),d++,d>=this.columns&&(d=0,p++);return v}},{key:"deltasToArray",value:function(){for(var v=[],p=0,d=0,S=0;S<this.deltas.length;S++)d===0&&v.push([]),v[p].push(this.deltas[S]),d++,d>=this.columns&&(d=0,p++);return v}}],[{key:"fromJSON",value:function(v){for(var p=new f(v.rows,v.columns),d=0,S=v.rows*v.columns;d<S;d++)p.weights[d]=v.weights[d];return p}},{key:"fromArray",value:function(v,p){var d=v.length,S=v[0].length,x=new f(d,S);p=p||v;for(var T=0;T<d;T++)for(var O=v[T],m=p[T],E=0;E<S;E++)x.setWeight(T,E,O[E]),x.setDeltas(T,E,m[E]);return x}}]),f}();return matrix.default=y,matrix}var randomMatrix={},random={},hasRequiredRandom;function requireRandom(){if(hasRequiredRandom)return random;hasRequiredRandom=1,Object.defineProperty(random,"__esModule",{value:!0}),random.randomF=r,random.randomI=i,random.randomN=s;function r(o,y){return Math.random()*(y-o)+o}function i(o,y){return Math.floor(Math.random()*(y-o)+o)}function s(o,y){return o+l()*y}function l(){if(l.returnV)return l.returnV=!1,l.vVal;var o=2*Math.random()-1,y=2*Math.random()-1,f=o*o+y*y;if(f==0||f>1)return l();var g=Math.sqrt(-2*Math.log(f)/f);return l.vVal=y*g,l.returnV=!0,o*g}return l.returnV=!1,l.vVal=0,random}var hasRequiredRandomMatrix;function requireRandomMatrix(){if(hasRequiredRandomMatrix)return randomMatrix;hasRequiredRandomMatrix=1,Object.defineProperty(randomMatrix,"__esModule",{value:!0});var r=requireMatrix(),i=l(r),s=requireRandom();function l(v){return v&&v.__esModule?v:{default:v}}function o(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function y(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function f(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var g=function(v){f(p,v);function p(d,S,x){o(this,p);var T=y(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,d,S));T.rows=d,T.columns=S,T.std=x;for(var O=0,m=T.weights.length;O<m;O++)T.weights[O]=(0,s.randomF)(-x,x);return T}return p}(i.default);return randomMatrix.default=g,randomMatrix}var equation={},onesMatrix={},ones={},hasRequiredOnes;function requireOnes(){if(hasRequiredOnes)return ones;hasRequiredOnes=1,Object.defineProperty(ones,"__esModule",{value:!0}),ones.default=r;function r(i){if(typeof Float32Array<"u")return new Float32Array(i).fill(1);for(var s=new Array(i),l=0;l<i;l++)s[l]=1;return s}return ones}var hasRequiredOnesMatrix;function requireOnesMatrix(){if(hasRequiredOnesMatrix)return onesMatrix;hasRequiredOnesMatrix=1,Object.defineProperty(onesMatrix,"__esModule",{value:!0});var r=requireMatrix(),i=o(r),s=requireOnes(),l=o(s);function o(p){return p&&p.__esModule?p:{default:p}}function y(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function f(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:p}function g(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}var v=function(p){g(d,p);function d(S,x){y(this,d);var T=f(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S,x));return T.rows=S,T.columns=x,T.weights=(0,l.default)(S*x),T.deltas=(0,l.default)(S*x),T}return d}(i.default);return onesMatrix.default=v,onesMatrix}var copy={},hasRequiredCopy;function requireCopy(){if(hasRequiredCopy)return copy;hasRequiredCopy=1,Object.defineProperty(copy,"__esModule",{value:!0}),copy.default=r;function r(i,s){i.rows=parseInt(s.rows),i.columns=parseInt(s.columns),i.weights=s.weights.slice(0),i.deltas=s.deltas.slice(0)}return copy}var cloneNegative={},hasRequiredCloneNegative;function requireCloneNegative(){if(hasRequiredCloneNegative)return cloneNegative;hasRequiredCloneNegative=1,Object.defineProperty(cloneNegative,"__esModule",{value:!0}),cloneNegative.default=r;function r(i,s){i.rows=parseInt(s.rows),i.columns=parseInt(s.columns),i.weights=s.weights.slice(0),i.deltas=s.deltas.slice(0);for(var l=0;l<s.weights.length;l++)i.weights[l]=-s.weights[l],i.deltas[l]=0}return cloneNegative}var add={},hasRequiredAdd;function requireAdd(){if(hasRequiredAdd)return add;hasRequiredAdd=1,Object.defineProperty(add,"__esModule",{value:!0}),add.default=r;function r(i,s,l){for(var o=0;o<s.weights.length;o++)i.weights[o]=s.weights[o]+l.weights[o],i.deltas[o]=0}return add}var addB={},hasRequiredAddB;function requireAddB(){if(hasRequiredAddB)return addB;hasRequiredAddB=1,Object.defineProperty(addB,"__esModule",{value:!0}),addB.default=r;function r(i,s,l){for(var o=0;o<i.deltas.length;o++)s.deltas[o]=i.deltas[o],l.deltas[o]=i.deltas[o]}return addB}var allOnes={},hasRequiredAllOnes;function requireAllOnes(){if(hasRequiredAllOnes)return allOnes;hasRequiredAllOnes=1,Object.defineProperty(allOnes,"__esModule",{value:!0}),allOnes.default=r;function r(i){for(var s=0;s<i.weights.length;s++)i.weights[s]=1,i.deltas[s]=0}return allOnes}var multiply={},hasRequiredMultiply;function requireMultiply(){if(hasRequiredMultiply)return multiply;hasRequiredMultiply=1,Object.defineProperty(multiply,"__esModule",{value:!0}),multiply.default=r;function r(i,s,l){for(var o=s.rows,y=s.columns,f=l.columns,g=0;g<o;g++)for(var v=y*g,p=f*g,d=0;d<f;d++){for(var S=0,x=0;x<y;x++){var T=f*x,O=v+x,m=T+d;S+=s.weights[O]*l.weights[m],s.deltas[O]=0,l.deltas[m]=0}i.weights[p+d]=S}}return multiply}var multiplyB={},hasRequiredMultiplyB;function requireMultiplyB(){if(hasRequiredMultiplyB)return multiplyB;hasRequiredMultiplyB=1,Object.defineProperty(multiplyB,"__esModule",{value:!0}),multiplyB.default=r;function r(i,s,l){for(var o=s.rows,y=s.columns,f=l.columns,g=0;g<o;g++)for(var v=y*g,p=f*g,d=0;d<f;d++)for(var S=0;S<y;S++){var x=f*S,T=v+S,O=x+d,m=i.deltas[p+d];s.deltas[T]+=l.weights[O]*m,l.deltas[O]+=s.weights[T]*m}}return multiplyB}var multiplyElement={},hasRequiredMultiplyElement;function requireMultiplyElement(){if(hasRequiredMultiplyElement)return multiplyElement;hasRequiredMultiplyElement=1,Object.defineProperty(multiplyElement,"__esModule",{value:!0}),multiplyElement.default=r;function r(i,s,l){for(var o=s.weights,y=0;y<o.length;y++)i.weights[y]=s.weights[y]*l.weights[y],i.deltas[y]=0}return multiplyElement}var multiplyElementB={},hasRequiredMultiplyElementB;function requireMultiplyElementB(){if(hasRequiredMultiplyElementB)return multiplyElementB;hasRequiredMultiplyElementB=1,Object.defineProperty(multiplyElementB,"__esModule",{value:!0}),multiplyElementB.default=r;function r(i,s,l){for(var o=0;o<s.weights.length;o++)s.deltas[o]=l.weights[o]*i.deltas[o],l.deltas[o]=s.weights[o]*i.deltas[o]}return multiplyElementB}var relu={},hasRequiredRelu;function requireRelu(){if(hasRequiredRelu)return relu;hasRequiredRelu=1,Object.defineProperty(relu,"__esModule",{value:!0}),relu.default=r;function r(i,s){for(var l=0;l<s.weights.length;l++)i.weights[l]=Math.max(0,s.weights[l]),i.deltas[l]=0}return relu}var reluB={},hasRequiredReluB;function requireReluB(){if(hasRequiredReluB)return reluB;hasRequiredReluB=1,Object.defineProperty(reluB,"__esModule",{value:!0}),reluB.default=r;function r(i,s){for(var l=0;l<i.deltas.length;l++)s.deltas[l]=s.weights[l]>0?i.deltas[l]:0}return reluB}var rowPluck={},hasRequiredRowPluck;function requireRowPluck(){if(hasRequiredRowPluck)return rowPluck;hasRequiredRowPluck=1,Object.defineProperty(rowPluck,"__esModule",{value:!0}),rowPluck.default=r;function r(i,s,l){for(var o=s.columns,y=o*l,f=0;f<o;f++)i.weights[f]=s.weights[y+f],i.deltas[f]=0}return rowPluck}var rowPluckB={},hasRequiredRowPluckB;function requireRowPluckB(){if(hasRequiredRowPluckB)return rowPluckB;hasRequiredRowPluckB=1,Object.defineProperty(rowPluckB,"__esModule",{value:!0}),rowPluckB.default=r;function r(i,s,l){for(var o=s.columns,y=o*l,f=0;f<o;f++)s.deltas[y+f]=i.deltas[f]}return rowPluckB}var sigmoid={},hasRequiredSigmoid;function requireSigmoid(){if(hasRequiredSigmoid)return sigmoid;hasRequiredSigmoid=1,Object.defineProperty(sigmoid,"__esModule",{value:!0}),sigmoid.default=r;function r(i,s){for(var l=0;l<s.weights.length;l++)i.weights[l]=1/(1+Math.exp(-s.weights[l])),i.deltas[l]=0}return sigmoid}var sigmoidB={},hasRequiredSigmoidB;function requireSigmoidB(){if(hasRequiredSigmoidB)return sigmoidB;hasRequiredSigmoidB=1,Object.defineProperty(sigmoidB,"__esModule",{value:!0}),sigmoidB.default=r;function r(i,s){for(var l=0;l<i.deltas.length;l++){var o=i.weights[l];s.deltas[l]=o*(1-o)*i.deltas[l]}}return sigmoidB}var tanh={},hasRequiredTanh;function requireTanh(){if(hasRequiredTanh)return tanh;hasRequiredTanh=1,Object.defineProperty(tanh,"__esModule",{value:!0}),tanh.default=r;function r(i,s){for(var l=0;l<s.weights.length;l++)i.weights[l]=Math.tanh(s.weights[l]),i.deltas[l]=0}return tanh}var tanhB={},hasRequiredTanhB;function requireTanhB(){if(hasRequiredTanhB)return tanhB;hasRequiredTanhB=1,Object.defineProperty(tanhB,"__esModule",{value:!0}),tanhB.default=r;function r(i,s){for(var l=0;l<i.deltas.length;l++){var o=i.weights[l];s.deltas[l]=(1-o*o)*i.deltas[l]}}return tanhB}var softmax={},hasRequiredSoftmax;function requireSoftmax(){if(hasRequiredSoftmax)return softmax;hasRequiredSoftmax=1,Object.defineProperty(softmax,"__esModule",{value:!0}),softmax.default=l;var r=requireMatrix(),i=s(r);function s(o){return o&&o.__esModule?o:{default:o}}function l(o){for(var y=new i.default(o.rows,o.columns),f=-999999,g=0;g<o.weights.length;g++)o.weights[g]>f&&(f=o.weights[g]);for(var v=0,p=0;p<o.weights.length;p++)y.weights[p]=Math.exp(o.weights[p]-f),v+=y.weights[p];for(var d=0;d<o.weights.length;d++)y.weights[d]/=v;return y}return softmax}var hasRequiredEquation;function requireEquation(){if(hasRequiredEquation)return equation;hasRequiredEquation=1,Object.defineProperty(equation,"__esModule",{value:!0});var r=function(){function P(I,X){for(var $=0;$<X.length;$++){var le=X[$];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(I,le.key,le)}}return function(I,X,$){return X&&P(I.prototype,X),$&&P(I,$),I}}(),i=requireMatrix(),s=J(i),l=requireOnesMatrix();J(l);var o=requireCopy();J(o);var y=requireCloneNegative(),f=J(y),g=requireAdd(),v=J(g),p=requireAddB(),d=J(p),S=requireAllOnes(),x=J(S),T=requireMultiply(),O=J(T),m=requireMultiplyB(),E=J(m),_=requireMultiplyElement(),b=J(_),c=requireMultiplyElementB(),A=J(c),U=requireRelu(),V=J(U),ne=requireReluB(),Y=J(ne),H=requireRowPluck(),k=J(H),R=requireRowPluckB(),D=J(R),B=requireSigmoid(),M=J(B),j=requireSigmoidB(),z=J(j),q=requireTanh(),K=J(q),ee=requireTanhB(),L=J(ee),Q=requireSoftmax(),ie=J(Q);function J(P){return P&&P.__esModule?P:{default:P}}function ue(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}var de=function(){function P(){ue(this,P),this.inputRow=0,this.inputValue=null,this.states=[]}return r(P,[{key:"add",value:function(X,$){if(X.weights.length!==$.weights.length)throw new Error("misaligned matrices");var le=new s.default(X.rows,X.columns);return this.states.push({left:X,right:$,product:le,forwardFn:v.default,backpropagationFn:d.default}),le}},{key:"allOnes",value:function(X,$){var le=new s.default(X,$);return this.states.push({left:le,product:le,forwardFn:x.default}),le}},{key:"cloneNegative",value:function(X){var $=new s.default(X.rows,X.columns);return this.states.push({left:X,product:$,forwardFn:f.default}),$}},{key:"subtract",value:function(X,$){if(X.weights.length!==$.weights.length)throw new Error("misaligned matrices");return this.add(this.add(this.allOnes(X.rows,X.columns),this.cloneNegative(X)),$)}},{key:"multiply",value:function(X,$){if(X.columns!==$.rows)throw new Error("misaligned matrices");var le=new s.default(X.rows,$.columns);return this.states.push({left:X,right:$,product:le,forwardFn:O.default,backpropagationFn:E.default}),le}},{key:"multiplyElement",value:function(X,$){if(X.weights.length!==$.weights.length)throw new Error("misaligned matrices");var le=new s.default(X.rows,X.columns);return this.states.push({left:X,right:$,product:le,forwardFn:b.default,backpropagationFn:A.default}),le}},{key:"relu",value:function(X){var $=new s.default(X.rows,X.columns);return this.states.push({left:X,product:$,forwardFn:V.default,backpropagationFn:Y.default}),$}},{key:"input",value:function(X){var $=this;return this.states.push({product:X,forwardFn:function(N){N.weights=X.weights=$.inputValue}}),X}},{key:"inputMatrixToRow",value:function(X){var $=this,le=new s.default(X.columns,1);return this.states.push({left:X,get right(){return $.inputRow},product:le,forwardFn:k.default,backpropagationFn:D.default}),le}},{key:"sigmoid",value:function(X){var $=new s.default(X.rows,X.columns);return this.states.push({left:X,product:$,forwardFn:M.default,backpropagationFn:z.default}),$}},{key:"tanh",value:function(X){var $=new s.default(X.rows,X.columns);return this.states.push({left:X,product:$,forwardFn:K.default,backpropagationFn:L.default}),$}},{key:"observe",value:function(X){return this.states.push({forwardFn:function(){},backpropagationFn:function(){}}),X}},{key:"runIndex",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.inputRow=X;for(var $=void 0,le=0,N=this.states.length;le<N;le++)$=this.states[le],$.hasOwnProperty("forwardFn")&&$.forwardFn($.product,$.left,$.right);return $.product}},{key:"runInput",value:function(X){this.inputValue=X;for(var $=void 0,le=0,N=this.states.length;le<N;le++)$=this.states[le],$.hasOwnProperty("forwardFn")&&$.forwardFn($.product,$.left,$.right);return $.product}},{key:"backpropagate",value:function(){for(var X=this.states.length,$=void 0;X-- >0;)$=this.states[X],$.hasOwnProperty("backpropagationFn")&&$.backpropagationFn($.product,$.left,$.right);return $.product}},{key:"backpropagateIndex",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.inputRow=X;for(var $=this.states.length,le=void 0;$-- >0;)le=this.states[$],le.hasOwnProperty("backpropagationFn")&&le.backpropagationFn(le.product,le.left,le.right);return le.product}},{key:"predictTarget",value:function(X,$){for(var le=this.runInput(X),N=0,G=0;G<le.weights.length;G++){var se=le.weights[G]-$[G];N+=Math.abs(se),le.deltas[G]=se}return N}},{key:"predictTargetIndex",value:function(X,$){var le=this.runIndex(X),N=le,G=(0,ie.default)(le);return N.deltas=G.weights.slice(0),N.deltas[$]-=1,-Math.log2(G.weights[$])}}]),P}();return equation.default=de,equation}var rnn={},sampleI={},hasRequiredSampleI;function requireSampleI(){if(hasRequiredSampleI)return sampleI;hasRequiredSampleI=1,Object.defineProperty(sampleI,"__esModule",{value:!0}),sampleI.default=s;var r=requireRandom(),i=r.randomF;function s(l){for(var o=i(0,1),y=0,f=0,g=l.weights;;){if(y+=g[f],y>o)return f;f++}}return sampleI}var maxI={},hasRequiredMaxI;function requireMaxI(){if(hasRequiredMaxI)return maxI;hasRequiredMaxI=1,Object.defineProperty(maxI,"__esModule",{value:!0}),maxI.default=r;function r(i){for(var s=i.weights,l=s[0],o=0,y=1;y<s.length;y++){var f=s[y];f<l||(o=y,l=f)}return o}return maxI}var dataFormatter={},hasRequiredDataFormatter;function requireDataFormatter(){if(hasRequiredDataFormatter)return dataFormatter;hasRequiredDataFormatter=1,Object.defineProperty(dataFormatter,"__esModule",{value:!0});var r=function(){function o(y,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,f,g){return f&&o(y.prototype,f),g&&o(y,g),y}}();function i(o){if(Array.isArray(o)){for(var y=0,f=Array(o.length);y<o.length;y++)f[y]=o[y];return f}else return Array.from(o)}function s(o,y){if(!(o instanceof y))throw new TypeError("Cannot call a class as a function")}var l=function(){function o(y){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;s(this,o),y!==void 0&&(this.values=y,this.indexTable={},this.characterTable={},this.characters=[],this.specialIndexes=[],this.buildCharactersFromIterable(y),this.buildTables(f))}return r(o,[{key:"buildCharactersFromIterable",value:function(f){for(var g={},v=0,p=f.length;v<p;v++){var d=f[v];if(d.hasOwnProperty("length"))for(var S=0,x=d.length;S<x;S++){var T=d[S];g.hasOwnProperty(T)||(g[T]=!0,this.characters.push(T))}else{var O=f[v];if(g.hasOwnProperty(O))continue;g[v]=!0,this.characters.push(O)}}}},{key:"buildTables",value:function(f){for(var g=this.characters.length,v=0;v<g;v++){var p=this.characters[v];v>=f&&(this.indexTable[p]=v,this.characterTable[v]=p)}}},{key:"toIndexes",value:function(f){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=[],p=this.indexTable,d=0,S=f.length;d<S;d++){var x=f[d],T=p[x];if(T===void 0)if(p.unrecognized)T=p.unrecognized;else throw new Error('unrecognized character "'+x+'"');T<g||v.push(T)}return v}},{key:"toIndexesInputOutput",value:function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=void 0;return typeof f=="string"?p=this.toIndexes(f.split("").concat(["stop-input","start-output"]),v):p=this.toIndexes(f.concat(["stop-input","start-output"]),v),g===null?p:typeof g=="string"?p.concat(this.toIndexes(g.split(""),v)):p.concat(this.toIndexes(g,v))}},{key:"toCharacters",value:function(f){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=[],p=this.characterTable,d=this.indexTable,S=0,x=f.length;S<x;S++){var T=f[S];if(!(T<g)){var O=p[T];if(O===void 0)if(d.unrecognized)O=p[d.unrecognized];else throw new Error('unrecognized index "'+T+'"');else O!==null&&v.push(O)}}return v}},{key:"toString",value:function(f,g){return this.toCharacters(f,g).join("")}},{key:"addInputOutput",value:function(){this.addSpecial("stop-input"),this.addSpecial("start-output")}},{key:"addUnrecognized",value:function(){this.addSpecial("unrecognized")}},{key:"addSpecial",value:function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=this.indexTable[f]=this.characters.length;this.characterTable[v]=g,this.specialIndexes.push(this.characters.length),this.characters.push(f)}},{key:"countSpecial",value:function(f){for(var g=0,v=0;v<this.specialIndexes;v++)for(var p=-1;p=f.indexOf(this.specialIndexes[v],p)>-1;)g++;return g}},{key:"toFunctionString",value:function(){return`
var characterTable = `+JSON.stringify(this.characterTable)+`;
var indexTable = `+JSON.stringify(this.indexTable)+`;
var characters = `+JSON.stringify(this.characters)+`;
`+this.toIndexes.toString().replace(/(let|var) indexTable = this[.]indexTable;\n/,"").replace(/this[.]/g,"")+`
`+this.toIndexesInputOutput.toString().replace(/this[.]/g,"")+`
`+this.toCharacters.toString().replace(/(let|var) characterTable = this[.]characterTable;\n/g,"").replace(/this[.]/,"")+`
`}}],[{key:"fromAllPrintable",value:function(f){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[`
`],v=32;v<=126;v++)g.push(String.fromCharCode(v));return new o(g,f)}},{key:"fromAllPrintableInputOutput",value:function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[`
`],v=o.fromAllPrintable(f,g);return v.addInputOutput(),v}},{key:"fromStringInputOutput",value:function(f,g){var v,p=(v=String.prototype).concat.apply(v,i(new Set(f))),d=new o(p,g);return d.addInputOutput(),d}},{key:"fromArrayInputOutput",value:function(f,g){var v=new o(f.filter(function(p,d,S){return S.indexOf(p)===d}).sort(),g);return v.addInputOutput(),v}},{key:"fromString",value:function(f,g){var v,p=(v=String.prototype).concat.apply(v,i(new Set(f)));return new o(p,g)}},{key:"fromJSON",value:function(f){var g=new o;return g.indexTable=f.indexTable,g.characterTable=f.characterTable,g.values=f.values,g.characters=f.characters,g.specialIndexes=f.specialIndexes,g}}]),o}();return dataFormatter.default=l,dataFormatter}var hasRequiredRnn;function requireRnn(){if(hasRequiredRnn)return rnn;hasRequiredRnn=1,Object.defineProperty(rnn,"__esModule",{value:!0});var r=function(){function H(k,R){for(var D=0;D<R.length;D++){var B=R[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(k,B.key,B)}}return function(k,R,D){return R&&H(k.prototype,R),D&&H(k,D),k}}(),i=requireMatrix(),s=V(i),l=requireRandomMatrix(),o=V(l),y=requireEquation(),f=V(y),g=requireSampleI(),v=V(g),p=requireMaxI(),d=V(p),S=requireSoftmax(),x=V(S),T=requireCopy(),O=V(T),m=requireRandom(),E=requireZeros(),_=V(E),b=requireDataFormatter(),c=V(b),A=requireNeuralNetwork(),U=V(A);function V(H){return H&&H.__esModule?H:{default:H}}function ne(H,k){if(!(H instanceof k))throw new TypeError("Cannot call a class as a function")}var Y=function(){function H(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne(this,H);var R=this.constructor.defaults;Object.assign(this,R,k),this.trainOpts={},this.updateTrainingOptions(Object.assign({},this.constructor.trainDefaults,k)),this.stepCache={},this.runs=0,this.ratioClipped=null,this.model=null,this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null,k.json&&this.fromJSON(k.json)}return r(H,[{key:"initialize",value:function(){this.model={input:null,hiddenLayers:[],output:null,equations:[],allMatrices:[],equationConnections:[],outputConnector:null},this.dataFormatter&&(this.inputSize=this.inputRange=this.outputSize=this.dataFormatter.characters.length),this.mapModel()}},{key:"createHiddenLayers",value:function(){this.model.hiddenLayers.push(this.getModel(this.hiddenLayers[0],this.inputSize));for(var R=this.hiddenLayers[0],D=1;D<this.hiddenLayers.length;D++){var B=this.hiddenLayers[D];this.model.hiddenLayers.push(this.getModel(B,R)),R=B}}},{key:"getModel",value:function(R,D){return{weight:new o.default(R,D,.08),transition:new o.default(R,R,.08),bias:new s.default(R,1)}}},{key:"getEquation",value:function(R,D,B,M){var j=R.relu.bind(R),z=R.add.bind(R),q=R.multiply.bind(R);return j(z(z(q(M.weight,D),q(M.transition,B)),M.bias))}},{key:"createInputMatrix",value:function(){this.model.input=new o.default(this.inputRange+1,this.inputSize,.08)}},{key:"createOutputMatrix",value:function(){var R=this.model,D=this.outputSize,B=this.hiddenLayers[this.hiddenLayers.length-1];R.outputConnector=new o.default(D+1,B,.08),R.output=new s.default(D+1,1)}},{key:"bindEquation",value:function(){var R=this.model,D=new f.default,B=[],M=R.equationConnections.length>0?R.equationConnections[R.equationConnections.length-1]:this.initialLayerInputs,j=this.getEquation(D,D.inputMatrixToRow(R.input),M[0],R.hiddenLayers[0]);B.push(j);for(var z=1,q=this.hiddenLayers.length;z<q;z++)j=this.getEquation(D,j,M[z],R.hiddenLayers[z]),B.push(j);R.equationConnections.push(B),D.add(D.multiply(R.outputConnector,j),R.output),R.equations.push(D)}},{key:"mapModel",value:function(){var R=this.model,D=R.hiddenLayers,B=R.allMatrices;if(this.initialLayerInputs=this.hiddenLayers.map(function(K){return new s.default(K,1)}),this.createInputMatrix(),!R.input)throw new Error("net.model.input not set");if(B.push(R.input),this.createHiddenLayers(),!R.hiddenLayers.length)throw new Error("net.hiddenLayers not set");for(var M=0,j=D.length;M<j;M++){var z=D[M];for(var q in z)z.hasOwnProperty(q)&&B.push(z[q])}if(this.createOutputMatrix(),!R.outputConnector)throw new Error("net.model.outputConnector not set");if(!R.output)throw new Error("net.model.output not set");B.push(R.outputConnector),B.push(R.output)}},{key:"trainPattern",value:function(R,D){var B=this.trainInput(R);if(this.backpropagate(R),this.adjustWeights(),D)return B}},{key:"trainInput",value:function(R){this.runs++;for(var D=this.model,B=R.length,M=0,j=void 0;D.equations.length<=R.length+1;)this.bindEquation();for(var z=-1,q=R.length;z<q;z++){var K=z+1;j=D.equations[K];var ee=z===-1?0:R[z]+1,L=z===B-1?0:R[z+1]+1;M+=j.predictTargetIndex(ee,L)}return Math.pow(2,M/(B-1))/100}},{key:"backpropagate",value:function(R){for(var D=R.length,B=this.model,M=B.equations;D>0;)M[D].backpropagateIndex(R[D-1]+1),D--;M[0].backpropagateIndex(0)}},{key:"adjustWeights",value:function(){for(var R=this.regc,D=this.clipval,B=this.model,M=this.decayRate,j=this.stepCache,z=this.smoothEps,q=this.trainOpts,K=q.learningRate,ee=B.allMatrices,L=0,Q=0,ie=0;ie<ee.length;ie++){var J=ee[ie],ue=J.weights,de=J.deltas;ie in j||(j[ie]=(0,_.default)(J.rows*J.columns));for(var P=j[ie],I=0;I<ue.length;I++){var X=de[I],$=ue[I];P[I]=P[I]*M+(1-M)*X*X,X>D&&(X=D,L++),X<-D&&(X=-D,L++),Q++,ue[I]=$+-K*X/Math.sqrt(P[I]+z)-R*$}}this.ratioClipped=L/Q}},{key:"run",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.maxPredictionLength+R.length+(this.dataFormatter?this.dataFormatter.specialIndexes.length:0);if(!this.isRunnable)return null;for(var j=this.formatDataIn(R),z=this.model,q=[],K=0;;){for(var ee=K===0?0:K<j.length?j[K-1]+1:q[K-1];z.equations.length<=K;)this.bindEquation();var L=z.equations[K],Q=L.runIndex(ee),ie=new s.default(z.output.rows,z.output.columns);if((0,O.default)(ie,Q),B!==1&&D)for(var J=0,ue=ie.weights.length;J<ue;J++)ie.weights[J]/=B;var de=(0,x.default)(ie),P=D?(0,v.default)(de):(0,d.default)(de);if(K++,P===0||K>=M)break;q.push(P)}return this.formatDataOut(j,q.slice(j.length).map(function(I){return I-1}))}},{key:"verifyIsInitialized",value:function(R){this.model||this.initialize()}},{key:"updateTrainingOptions",value:function(R){var D=this;Object.keys(this.constructor.trainDefaults).forEach(function(B){return D.trainOpts[B]=R.hasOwnProperty(B)?R[B]:D.trainOpts[B]}),this.validateTrainingOptions(this.trainOpts),this.setLogMethod(R.log||this.trainOpts.log),this.activation=R.activation||this.activation}},{key:"validateTrainingOptions",value:function(R){U.default.prototype.validateTrainingOptions.call(this,R)}},{key:"setLogMethod",value:function(R){typeof R=="function"?this.trainOpts.log=R:R?this.trainOpts.log=console.log:this.trainOpts.log=!1}},{key:"prepTraining",value:function(R,D){this.updateTrainingOptions(D),R=this.formatData(R);var B=Date.now()+this.trainOpts.timeout,M={error:1,iterations:0};return this.verifyIsInitialized(R),{data:R,status:M,endTime:B}}},{key:"train",value:function(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.trainOpts=D=Object.assign({},this.constructor.trainDefaults,D);var B=D.iterations,M=D.errorThresh,j=D.log===!0?console.log:D.log,z=D.logPeriod,q=D.callback,K=D.callbackPeriod,ee=1/0,L=void 0;for(this.hasOwnProperty("setupData")&&(R=this.setupData(R)),this.verifyIsInitialized(),L=0;L<B&&ee>M;L++){for(var Q=0,ie=0;ie<R.length;ie++){var J=this.trainPattern(R[ie],!0);Q+=J}if(ee=Q/R.length,isNaN(ee))throw new Error("network error rate is unexpected NaN, check network configurations and try again");j&&L%z===0&&j("iterations: "+L+", training error: "+ee),q&&L%K===0&&q({error:ee,iterations:L})}return{error:ee,iterations:L}}},{key:"addFormat",value:function(){throw new Error("not yet implemented")}},{key:"toJSON",value:function(){var R=this.constructor.defaults;this.model||this.initialize();var D=this.model,B={};for(var M in R)R.hasOwnProperty(M)&&(B[M]=this[M]);return{type:this.constructor.name,options:B,input:D.input.toJSON(),hiddenLayers:D.hiddenLayers.map(function(j){var z={};for(var q in j)z[q]=j[q].toJSON();return z}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}},{key:"fromJSON",value:function(R){var D=this.constructor.defaults,B=R.options;this.model=null,this.hiddenLayers=null;var M=[],j=s.default.fromJSON(R.input);M.push(j);var z=[];(R.hiddenLayers||R.hiddenSizes).forEach(function(ee){var L={};for(var Q in ee)L[Q]=s.default.fromJSON(ee[Q]),M.push(L[Q]);z.push(L)});var q=s.default.fromJSON(R.outputConnector);M.push(q);var K=s.default.fromJSON(R.output);M.push(K),Object.assign(this,D,B),B.hiddenSizes&&(this.hiddenLayers=B.hiddenSizes),B.dataFormatter&&(this.dataFormatter=c.default.fromJSON(B.dataFormatter)),this.model={input:j,hiddenLayers:z,output:K,allMatrices:M,outputConnector:q,equations:[],equationConnections:[]},this.initialLayerInputs=this.hiddenLayers.map(function(ee){return new s.default(ee,1)}),this.bindEquation()}},{key:"toFunction",value:function(){var R=this.model,D=this.model.equations,B=D[1],M=B.states,j=JSON.stringify(this.toJSON());function z($,le){for(var N=0,G=M.length;N<G;N++){var se=M[N];if(N===le){var he=q($);switch($){case se.left:if(he>-1)return"typeof prevStates["+he+"] === 'object' ? prevStates["+he+"].product : new Matrix("+$.rows+", "+$.columns+")";case se.right:if(he>-1)return"typeof prevStates["+he+"] === 'object' ? prevStates["+he+"].product : new Matrix("+$.rows+", "+$.columns+")";case se.product:return"new Matrix("+$.rows+", "+$.columns+")";default:throw Error("unknown state")}}if($===se.product)return"states["+N+"].product";if($===se.right)return"states["+N+"].right";if($===se.left)return"states["+N+"].left"}}function q($){for(var le=R.equationConnections[0],N=D[0].states,G=0,se=N.length;G<se;G++)if(N[G].product===$)return G;return le.indexOf($)}function K($,le){if(!$||!$.rows||!$.columns)return"null";if($===R.input)return"json.input";if($===R.outputConnector)return"json.outputConnector";if($===R.output)return"json.output";for(var N=0,G=R.hiddenLayers.length;N<G;N++){var se=R.hiddenLayers[N];for(var he in se)if(se.hasOwnProperty(he)&&se[he]===$)return"json.hiddenLayers["+N+"]."+he}return z($,le)}function ee($){return $=$.toString().split("{"),$.shift(),$=$.join("{"),$=$.split("}"),$.pop(),$.join("}").split(`
`).join(`
        `).replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function L($){return"src/recurrent/matrix/"+$.replace(/[A-Z]/g,function(le){return"-"+le.toLowerCase()})+".js"}for(var Q=[],ie={},J=[],ue=0,de=M.length;ue<de;ue++){var P=M[ue];Q.push("states["+ue+`] = {
      name: '`+P.forwardFn.name+`',
      left: `+K(P.left,ue)+`,
      right: `+K(P.right,ue)+`,
      product: `+K(P.product,ue)+`
    }`);var I=P.forwardFn.name;ie[I]||(ie[I]=!0,J.push("        case '"+I+"': //compiled from "+L(I)+`
          `+ee(P.forwardFn.toString())+`
          break;`))}var X=`
  if (typeof rawInput === 'undefined') rawInput = [];
  if (typeof isSampleI === 'undefined') isSampleI = false;
  if (typeof temperature === 'undefined') temperature = 1;
  `+(this.dataFormatter?this.dataFormatter.toFunctionString():"")+`
  
  var input = `+(this.dataFormatter&&typeof this.formatDataIn=="function"?"formatDataIn(rawInput)":"rawInput")+`;
  var json = `+j+`;
  var maxPredictionLength = input.length + `+this.maxPredictionLength+`;
  var _i = 0;
  var output = [];
  var states = [];
  var prevStates;
  while (true) {
    var previousIndex = (_i === 0
        ? 0
        : _i < input.length
          ? input[_i - 1] + 1
          : output[_i - 1])
          ;
    var rowPluckIndex = previousIndex;
    var state;
    prevStates = states;
    states = [];
    `+Q.join(`;
    `)+`;
    for (var stateIndex = 0, stateMax = `+Q.length+`; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      
      switch (state.name) {
`+J.join(`
`)+`
      }
    }
    
    var logProbabilities = state.product;
    if (temperature !== 1 && isSampleI) {
      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {
        logProbabilities.weights[q] /= temperature;
      }
    }

    var probs = softmax(logProbabilities);
    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);
    
    _i++;
    if (nextIndex === 0) {
      break;
    }
    if (_i >= maxPredictionLength) {
      break;
    }

    output.push(nextIndex);
  }
  `+(this.dataFormatter&&typeof this.formatDataOut=="function"?"return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))":"return output.slice(input.length).map(function(value) { return value - 1; })")+`;
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  `+(this.dataFormatter&&typeof this.formatDataIn=="function"?"function formatDataIn(input, output) { "+ee(this.formatDataIn.toString()).replace(/this[.]dataFormatter[\n\s]+[.]/g,"").replace(/this[.]dataFormatter[.]/g,"").replace(/this[.]dataFormatter/g,"true")+" }":"")+`
  `+(this.dataFormatter!==null&&typeof this.formatDataOut=="function"?"function formatDataOut(input, output) { "+ee(this.formatDataOut.toString()).replace(/this[.]dataFormatter[\n\s]+[.]/g,"").replace(/this[.]dataFormatter[.]/g,"").replace(/this[.]dataFormatter/g,"true")+" }":"")+`
  `+_.default.toString()+`
  `+x.default.toString().replace("_2.default","Matrix")+`
  `+m.randomF.toString()+`
  `+v.default.toString()+`
  `+d.default.toString();return new Function("rawInput","isSampleI","temperature",X)}},{key:"isRunnable",get:function(){return this.model.equations.length===0?(console.error("No equations bound, did you run train()?"),!1):!0}}]),H}();return rnn.default=Y,Y.defaults={inputSize:20,inputRange:20,hiddenLayers:[20,20],outputSize:20,decayRate:.999,smoothEps:1e-8,regc:1e-6,clipval:5,maxPredictionLength:100,setupData:function(k){if(typeof k[0]!="string"&&!Array.isArray(k[0])&&(!k[0].hasOwnProperty("input")||!k[0].hasOwnProperty("output")))return k;var R=[],D=[];if(typeof k[0]=="string"||Array.isArray(k[0])){if(!this.dataFormatter){for(var B=0;B<k.length;B++)R.push(k[B]);this.dataFormatter=new c.default(R)}for(var M=0,j=k.length;M<j;M++)D.push(this.formatDataIn(k[M]))}else{if(!this.dataFormatter){for(var z=0;z<k.length;z++)R.push(k[z].input),R.push(k[z].output);this.dataFormatter=c.default.fromArrayInputOutput(R),this.dataFormatter.addUnrecognized()}for(var q=0,K=k.length;q<K;q++)D.push(this.formatDataIn(k[q].input,k[q].output))}return D},formatDataIn:function(k){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.dataFormatter?this.dataFormatter.indexTable.hasOwnProperty("stop-input")?this.dataFormatter.toIndexesInputOutput(k,R):this.dataFormatter.toIndexes(k):k},formatDataOut:function(k,R){return this.dataFormatter?this.dataFormatter.toCharacters(R).join(""):R},dataFormatter:null},Y.trainDefaults={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.01,callback:null,callbackPeriod:10},rnn}var arrayLookupTable={},hasRequiredArrayLookupTable;function requireArrayLookupTable(){if(hasRequiredArrayLookupTable)return arrayLookupTable;hasRequiredArrayLookupTable=1,Object.defineProperty(arrayLookupTable,"__esModule",{value:!0}),arrayLookupTable.default=r;function r(i,s){this.length=0,this.prop=s;for(var l=this.table={},o=0;o<i.length;o++)for(var y=i[o],f=y[s],g=0;g<f.length;g++)for(var v in f[g])l.hasOwnProperty(v)||(l[v]=this.length++)}return arrayLookupTable}var hasRequiredRnnTimeStep;function requireRnnTimeStep(){if(hasRequiredRnnTimeStep)return rnnTimeStep;hasRequiredRnnTimeStep=1,Object.defineProperty(rnnTimeStep,"__esModule",{value:!0});var r=function(){function M(j,z){for(var q=0;q<z.length;q++){var K=z[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(j,K.key,K)}}return function(j,z,q){return z&&M(j.prototype,z),q&&M(j,q),j}}(),i=requireMatrix(),s=H(i),l=requireRandomMatrix(),o=H(l),y=requireEquation(),f=H(y),g=requireRnn(),v=H(g),p=requireZeros(),d=H(p),S=requireSoftmax(),x=H(S),T=requireRandom(),O=requireSampleI(),m=H(O),E=requireMaxI(),_=H(E),b=requireLookup(),c=H(b),A=requireLookupTable(),U=H(A),V=requireArrayLookupTable(),ne=H(V),Y=requireCast();function H(M){return M&&M.__esModule?M:{default:M}}function k(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function R(M,j){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:M}function D(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(M,j):M.__proto__=j)}var B=function(M){D(j,M);function j(){return k(this,j),R(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return r(j,[{key:"createOutputMatrix",value:function(){var q=this.model,K=this.outputSize,ee=this.hiddenLayers[this.hiddenLayers.length-1];q.outputConnector=new o.default(K,ee,.08),q.output=new o.default(K,1,.08)}},{key:"bindEquation",value:function(){var q=this.model,K=this.hiddenLayers,ee=q.hiddenLayers,L=new f.default,Q=[],ie=q.equationConnections.length>0?q.equationConnections[q.equationConnections.length-1]:this.initialLayerInputs,J=this.getEquation(L,L.input(new s.default(this.inputSize,1)),ie[0],ee[0]);Q.push(J);for(var ue=1,de=K.length;ue<de;ue++)J=this.getEquation(L,J,ie[ue],ee[ue]),Q.push(J);q.equationConnections.push(Q),L.add(L.multiply(q.outputConnector,J),q.output),q.equations.push(L)}},{key:"mapModel",value:function(){var q=this.model,K=q.hiddenLayers,ee=q.allMatrices;if(this.initialLayerInputs=this.hiddenLayers.map(function(ue){return new s.default(ue,1)}),this.createHiddenLayers(),!q.hiddenLayers.length)throw new Error("net.hiddenLayers not set");for(var L=0,Q=K.length;L<Q;L++){var ie=K[L];for(var J in ie)ie.hasOwnProperty(J)&&ee.push(ie[J])}if(this.createOutputMatrix(),!q.outputConnector)throw new Error("net.model.outputConnector not set");if(!q.output)throw new Error("net.model.output not set");ee.push(q.outputConnector),ee.push(q.output)}},{key:"backpropagate",value:function(){for(var q=this.model.equations.length-1;q>-1;q--)this.model.equations[q].backpropagate()}},{key:"run",value:function(q){return this.inputSize===1?this.outputLookup?(this.run=this.runObject,this.runObject(q)):(this.run=this.runNumbers,this.runNumbers(q)):(this.run=this.runArrays,this.runArrays(q))}},{key:"forecast",value:function(q,K){return this.inputSize===1?this.outputLookup?(this.forecast=this.runObject,this.runObject(q)):(this.forecast=this.forecastNumbers,this.forecastNumbers(q,K)):this.outputLookup?(this.forecast=this.forecastObjects,this.forecastObjects(q,K)):(this.forecast=this.forecastArrays,this.forecastArrays(q,K))}},{key:"train",value:function(q){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.trainOpts=K=Object.assign({},this.constructor.trainDefaults,K);var ee=K.iterations,L=K.errorThresh,Q=K.log===!0?console.log:K.log,ie=K.logPeriod,J=K.callback,ue=K.callbackPeriod;(this.inputSize===1||!this.inputSize)&&this.setSize(q),q=this.formatData(q);var de=1/0,P=void 0;for(this.verifyIsInitialized(q),P=0;P<ee&&de>L;P++){for(var I=0,X=0;X<q.length;X++){var $=this.trainPattern(q[X],!0);I+=$}if(de=I/q.length,isNaN(de))throw new Error("network error rate is unexpected NaN, check network configurations and try again");Q&&P%ie===0&&Q("iterations: "+P+", training error: "+de),J&&P%ue===0&&J({error:de,iterations:P})}return{error:de,iterations:P}}},{key:"verifyIsInitialized",value:function(q){q[0].input?this.trainInput=this.trainInputOutput:q[0].length>0&&(q[0][0].length>0?this.trainInput=this.trainArrays:this.inputSize>1?this.trainInput=this.trainArrays:this.trainInput=this.trainNumbers),this.model||this.initialize()}},{key:"setSize",value:function(q){var K=c.default.dataShape(q).join(",");switch(K){case"array,array,number":case"array,object,number":case"array,datum,array,number":case"array,datum,object,number":break;case"array,array,array,number":this.inputSize=this.outputSize=q[0][0].length;break;case"array,array,object,number":this.inputSize=this.outputSize=Object.keys(c.default.toTable2D(q)).length;break;case"array,datum,array,array,number":this.inputSize=this.outputSize=q[0].input[0].length;break;case"array,datum,array,object,number":this.inputSize=Object.keys(c.default.toInputTable2D(q)).length,this.outputSize=Object.keys(c.default.toOutputTable2D(q)).length;break;default:throw new Error("unknown data shape or configuration")}}},{key:"trainNumbers",value:function(q){for(var K=this.model,ee=K.equations;ee.length<q.length;)this.bindEquation();for(var L=0,Q=0,ie=q.length-1;Q<ie;Q++)L+=ee[Q].predictTarget(q[Q],q[Q+1]);return this.end(),L/q.length}},{key:"runNumbers",value:function(q){if(!this.isRunnable)return null;var K=this.model,ee=K.equations;for(this.inputLookup&&(q=c.default.toArray(this.inputLookup,q,this.inputLookupLength));ee.length<=q.length;)this.bindEquation();for(var L=void 0,Q=0;Q<q.length;Q++)L=ee[Q].runInput([q[Q]]);return this.end(),L.weights[0]}},{key:"forecastNumbers",value:function(q,K){if(!this.isRunnable)return null;for(var ee=this.model,L=ee.equations,Q=q.length+K;L.length<=Q;)this.bindEquation();for(var ie=void 0,J=0,ue=0;ue<q.length;ue++)ie=L[J++].runInput([q[ue]]);for(var de=[ie.weights[0]],P=0,I=K-1;P<I;P++)ie=L[J++].runInput(ie.weights),de.push(ie.weights[0]);return this.end(),de}},{key:"runObject",value:function(q){if(this.inputLookup===this.outputLookup){var K=c.default.toArrayShort(this.inputLookup,q);return c.default.toObjectPartial(this.outputLookup,this.forecastNumbers(K,this.outputLookupLength-K.length),K.length)}return c.default.toObject(this.outputLookup,this.forecastNumbers(c.default.toArray(this.inputLookup,q,this.inputLookupLength),this.outputLookupLength))}},{key:"forecastObjects",value:function(q,K){var ee=this;return q=q.map(function(L){return c.default.toArray(ee.outputLookup,L,ee.outputLookupLength)}),this.forecastArrays(q,K).map(function(L){return c.default.toObject(ee.outputLookup,L)})}},{key:"trainInputOutput",value:function(q){for(var K=this.model,ee=q.input,L=q.output,Q=ee.length+L.length,ie=K.equations;ie.length<Q;)this.bindEquation();for(var J=0,ue=0,de=0,P=ee.length-1;de<P;de++)J+=ie[ue++].predictTarget(ee[de],ee[de+1]);J+=ie[ue++].predictTarget(ee[ee.length-1],L[0]);for(var I=0,X=L.length-1;I<X;I++)J+=ie[ue++].predictTarget(L[I],L[I+1]);return this.end(),J/Q}},{key:"trainArrays",value:function(q){for(var K=this.model,ee=K.equations;ee.length<q.length;)this.bindEquation();for(var L=0,Q=0,ie=q.length-1;Q<ie;Q++)L+=ee[Q].predictTarget(q[Q],q[Q+1]);return this.end(),L/q.length}},{key:"runArrays",value:function(q){if(!this.isRunnable)return null;for(var K=this.model,ee=K.equations;ee.length<=q.length;)this.bindEquation();this.inputLookup&&(q=c.default.toArrays(this.inputLookup,q,this.inputLookupLength));for(var L=void 0,Q=0;Q<q.length;Q++){var ie=ee[Q].runInput(q[Q]);L=ie.weights}return this.end(),this.outputLookup?c.default.toObject(this.outputLookup,L):L}},{key:"forecastArrays",value:function(q,K){if(!this.isRunnable)return null;for(var ee=this.model,L=ee.equations,Q=q.length+K;L.length<=Q;)this.bindEquation();for(var ie=void 0,J=0,ue=0;ue<q.length;ue++)ie=L[J++].runInput(q[ue]);for(var de=[ie.weights],P=0,I=K-1;P<I;P++)ie=L[J++].runInput(ie.weights),de.push(ie.weights.slice(0));return this.end(),de}},{key:"end",value:function(){this.model.equations[this.model.equations.length-1].runInput(new Float32Array(this.outputSize))}},{key:"formatData",value:function(q){var K=c.default.dataShape(q).join(","),ee=[];switch(K){case"array,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");for(var L=0;L<q.length;L++)ee.push(Float32Array.from([q[L]]));return[ee]}case"array,array,number":{if(this.inputSize===1&&this.outputSize===1){for(var Q=0;Q<q.length;Q++)ee.push((0,Y.arrayToFloat32Arrays)(q[Q]));return ee}if(this.inputSize!==q[0].length)throw new Error("inputSize must match data input size");if(this.outputSize!==q[0].length)throw new Error("outputSize must match data input size");for(var ie=0;ie<q.length;ie++)ee.push(Float32Array.from(q[ie]));return[ee]}case"array,object,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");if(!this.inputLookup){var J=new U.default(q);this.inputLookup=this.outputLookup=J.table,this.inputLookupLength=this.outputLookupLength=J.length}for(var ue=0;ue<q.length;ue++)ee.push((0,Y.objectToFloat32Arrays)(q[ue]));return ee}case"array,datum,array,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");for(var de=0;de<q.length;de++){var P=q[de];ee.push({input:(0,Y.arrayToFloat32Arrays)(P.input),output:(0,Y.arrayToFloat32Arrays)(P.output)})}return ee}case"array,datum,object,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");if(!this.inputLookup){var I=new U.default(q,"input");this.inputLookup=I.table,this.inputLookupLength=I.length}if(!this.outputLookup){var X=new U.default(q,"output");this.outputLookup=X.table,this.outputLookupLength=X.length}for(var $=0;$<q.length;$++){var le=q[$];ee.push({input:(0,Y.objectToFloat32Arrays)(le.input),output:(0,Y.objectToFloat32Arrays)(le.output)})}return ee}case"array,array,array,number":{for(var N=0;N<q.length;N++)ee.push((0,Y.arraysToFloat32Arrays)(q[N]));return ee}case"array,array,object,number":{if(!this.inputLookup){var G=new U.default(q);this.inputLookup=this.outputLookup=G.table,this.inputLookupLength=this.outputLookupLength=G.length}for(var se=0;se<q.length;se++){for(var he=[],Ee=0;Ee<q[se].length;Ee++)he.push((0,Y.objectToFloat32Array)(q[se][Ee],this.inputLookup,this.inputLookupLength));ee.push(he)}return ee}case"array,datum,array,array,number":{if(this.inputSize===1&&this.outputSize===1)for(var ge=0;ge<q.length;ge++){var _e=q[ge];ee.push({input:Float32Array.from(_e.input),output:Float32Array.from(_e.output)})}else{if(this.inputSize!==q[0].input[0].length)throw new Error("inputSize must match data input size");if(this.outputSize!==q[0].output[0].length)throw new Error("outputSize must match data output size");for(var Ce=0;Ce<q.length;Ce++){var ze=q[Ce];ee.push({input:(0,Y.arraysToFloat32Arrays)(ze.input),output:(0,Y.arraysToFloat32Arrays)(ze.output)})}}return ee}case"array,datum,array,object,number":{if(!this.inputLookup){var Be=new ne.default(q,"input");this.inputLookup=Be.table,this.inputLookupLength=Be.length}if(!this.outputLookup){var ht=new ne.default(q,"output");this.outputLookup=ht.table,this.outputLookupLength=ht.length}for(var gt=0;gt<q.length;gt++){var xe=q[gt];ee.push({input:(0,Y.objectsToFloat32Arrays)(xe.input,this.inputLookup,this.inputLookupLength),output:(0,Y.objectsToFloat32Arrays)(xe.output,this.outputLookup,this.outputLookupLength)})}return ee}default:throw new Error("unknown data shape or configuration")}}},{key:"test",value:function(q){var K=this.formatData(q),ee=[],L=0,Q=c.default.dataShape(q).join(",");switch(Q){case"array,array,number":{if(this.inputSize===1){for(var ie=0;ie<K.length;ie++){var J=K[ie],ue=this.run(J.splice(0,J.length-1)),de=J[J.length-1][0],P=de-ue,I=P*P;L+=I;var X=Math.abs(I);if(X>this.trainOpts.errorThresh){var $=q[ie];Object.assign($,{value:J,actual:ue}),ee.push($)}}break}throw new Error("unknown data shape or configuration")}case"array,array,array,number":{for(var le=0;le<K.length;le++){for(var N=K[le],G=this.run(N.splice(0,N.length-1)),se=N[N.length-1],he=0,Ee=0,ge=0;ge<G.length;ge++){Ee++;var _e=se[ge]-G[ge];he+=_e*_e}L+=he/Ee;var Ce=Math.abs(he);if(Ce>this.trainOpts.errorThresh){var ze=q[le];ee.push({value:ze,actual:G})}}break}case"array,object,number":{for(var Be=0;Be<K.length;Be++){var ht=K[Be],gt=this.run(c.default.toObjectPartial(this.outputLookup,ht,0,ht.length-1)),xe=ht[ht.length-1],Ne=0,Pe=void 0;for(Pe in gt);var Ye=xe[Be]-gt[Pe];Ne+=Ye*Ye,L+=Ne;var je=Math.abs(Ne);if(je>this.trainOpts.errorThresh){var Fe=q[Be];ee.push({value:Fe,actual:gt})}}break}case"array,array,object,number":{for(var In=0;In<K.length;In++){var dr=K[In],Wr=this.run(dr.slice(0,dr.length-1)),uu=q[In][dr.length-1],Wt=0,ft=0;for(var Ki in Wr){var Gt=uu[Ki]-Wr[Ki];Wt+=Gt*Gt,ft++}L+=Wt/ft;var pt=Math.abs(Wt);if(pt>this.trainOpts.errorThresh){var su=q[In];ee.push({value:su,actual:Wr})}}break}case"array,datum,array,number":case"array,datum,object,number":{for(var vr=0;vr<K.length;vr++){for(var Qr=K[vr],Qt=this.forecast(Qr.input,Qr.output.length),mn=0,Ft=0,Zt=0;Zt<Qt.length;Zt++){var bn=Qr.output[Zt][0]-Qt[Zt];mn+=bn*bn,Ft++}L+=mn/Ft;var lu=Math.abs(mn);if(lu>this.trainOpts.errorThresh){var Zr=q[vr];Object.assign(Zr,{actual:this.outputLookup?c.default.toObject(this.outputLookup,Qt):Qt}),ee.push(Zr)}}break}case"array,datum,array,array,number":{for(var Vn=0;Vn<K.length;Vn++){for(var Hn=K[Vn],It=this.forecast(Hn.input,Hn.output.length),Jr=0,_n=0;_n<It.length;_n++)for(var Xn=0;Xn<It[_n].length;Xn++){var ei=Hn.output[_n][Xn]-It[_n][Xn];Jr+=ei*ei}L+=Jr;var $i=Math.abs(Jr);if($i>this.trainOpts.errorThresh){var Yi=q[Vn];ee.push({input:Yi.input,output:Yi.output,actual:It})}}break}case"array,datum,array,object,number":{for(var yt=0;yt<K.length;yt++){for(var Je=K[yt],et=this.forecast(Je.input,Je.output.length),Vt=0,Jt=0;Jt<et.length;Jt++)for(var Wi in et[Jt]){var Qi=q[yt].output[Jt][Wi]-et[Jt][Wi];Vt+=Qi*Qi}L+=Vt;var Zi=Math.abs(Vt);if(Zi>this.trainOpts.errorThresh){var xn=q[yt];ee.push({input:xn.input,output:xn.output,actual:et})}}break}default:throw new Error("unknown data shape or configuration")}return{error:L/K.length,misclasses:ee,total:K.length}}},{key:"addFormat",value:function(q){var K=c.default.dataShape(q).join(",");switch(K){case"array,array,number":case"datum,array,array,number":case"array,number":case"datum,array,number":return;case"datum,object,number":{this.inputLookup=c.default.addKeys(q.input,this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=c.default.addKeys(q.output,this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}case"object,number":{this.inputLookup=this.outputLookup=c.default.addKeys(q,this.inputLookup),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"array,object,number":{for(var ee=0;ee<q.length;ee++)this.inputLookup=this.outputLookup=c.default.addKeys(q[ee],this.inputLookup),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"datum,array,object,number":{for(var L=0;L<q.input.length;L++)this.inputLookup=c.default.addKeys(q.input[L],this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length);for(var Q=0;Q<q.output.length;Q++)this.outputLookup=c.default.addKeys(q.output[Q],this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}default:throw new Error("unknown data shape or configuration")}}},{key:"toJSON",value:function(){var q=this.constructor.defaults;this.model||this.initialize();var K=this.model,ee={};for(var L in q)q.hasOwnProperty(L)&&(ee[L]=this[L]);return{type:this.constructor.name,options:ee,hiddenLayers:K.hiddenLayers.map(function(Q){var ie={};for(var J in Q)ie[J]=Q[J].toJSON();return ie}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}},{key:"fromJSON",value:function(q){var K=this.constructor.defaults,ee=q.options;this.model=null,this.hiddenLayers=null;var L=[],Q=[];(q.hiddenLayers||q.hiddenSizes).forEach(function(ue){var de={};for(var P in ue)de[P]=s.default.fromJSON(ue[P]),L.push(de[P]);Q.push(de)});var ie=s.default.fromJSON(q.outputConnector);L.push(ie);var J=s.default.fromJSON(q.output);L.push(J),Object.assign(this,K,ee),ee.hiddenSizes&&(this.hiddenLayers=ee.hiddenSizes),this.model={hiddenLayers:Q,output:J,allMatrices:L,outputConnector:ie,equations:[],equationConnections:[]},this.initialLayerInputs=this.hiddenLayers.map(function(ue){return new s.default(ue,1)}),this.bindEquation()}},{key:"toFunction",value:function(){var q=this.model,K=this.model.equations,ee=this.inputSize,L=this.inputLookup,Q=this.inputLookupLength,ie=this.outputLookup,J=this.outputLookupLength,ue=K[1],de=ue.states,P=JSON.stringify(this.toJSON());function I(xe,Ne){for(var Pe=0,Ye=de.length;Pe<Ye;Pe++){var je=de[Pe];if(Pe===Ne){var Fe=X(xe);switch(xe){case je.left:if(Fe>-1)return"typeof prevStates["+Fe+"] === 'object' ? prevStates["+Fe+"].product : new Matrix("+xe.rows+", "+xe.columns+")";case je.right:if(Fe>-1)return"typeof prevStates["+Fe+"] === 'object' ? prevStates["+Fe+"].product : new Matrix("+xe.rows+", "+xe.columns+")";case je.product:return"new Matrix("+xe.rows+", "+xe.columns+")";default:throw Error("unknown state")}}if(xe===je.product)return"states["+Pe+"].product";if(xe===je.right)return"states["+Pe+"].right";if(xe===je.left)return"states["+Pe+"].left"}}function X(xe){for(var Ne=q.equationConnections[0],Pe=K[0].states,Ye=0,je=Pe.length;Ye<je;Ye++)if(Pe[Ye].product===xe)return Ye;return Ne.indexOf(xe)}function $(xe,Ne){if(!xe||!xe.rows||!xe.columns)return"null";if(xe===q.outputConnector)return"json.outputConnector";if(xe===q.output)return"json.output";for(var Pe=0,Ye=q.hiddenLayers.length;Pe<Ye;Pe++){var je=q.hiddenLayers[Pe];for(var Fe in je)if(je.hasOwnProperty(Fe)&&je[Fe]===xe)return"json.hiddenLayers["+Pe+"]."+Fe}return I(xe,Ne)}function le(){return L?ee===1?L===ie?`function lookupInput(input) {
            var table = `+JSON.stringify(L)+`;
            var result = [];
            for (var p in table) {
              if (!input.hasOwnProperty(p)) break;
              result.push(Float32Array.from([input[p]]));
            }
            return result;
          }`:`function lookupInput(input) {
          var table = `+JSON.stringify(L)+`;
          var result = [];
          for (var p in table) {
            result.push(Float32Array.from([input[p]]));
          }
          return result;
        }`:`function lookupInput(rawInputs) {
        var table = `+JSON.stringify(L)+`;
        var result = [];
        for (var i = 0; i < rawInputs.length; i++) {
          var rawInput = rawInputs[i];
          var input = new Float32Array(`+Q+`);
          for (var p in table) {
            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;
          }
          result.push(input);
        }
        return result;
      }`:""}function N(){return ie?ee===1?L===ie?`function lookupOutputPartial(output, input) {
            var table = `+JSON.stringify(ie)+`;
            var offset = input.length;
            var result = {};
            var i = 0;
            for (var p in table) {
              if (i++ < offset) continue;
              result[p] = output[table[p] - offset][0];
            }
            return result;
          }`:`function lookupOutput(output) {
          var table = `+JSON.stringify(ie)+`;
          var result = {};
          for (var p in table) {
            result[p] = output[table[p]][0];
          }
          return result;
        }`:`function lookupOutput(output) {
        var table = `+JSON.stringify(ie)+`;
        var result = {};
        for (var p in table) {
          result[p] = output[table[p]];
        }
        return result;
      }`:""}function G(xe){return xe=xe.toString().split("{"),xe.shift(),xe=xe.join("{"),xe=xe.split("}"),xe.pop(),xe.join("}").split(`
`).join(`
        `).replace("product.weights = _input.weights = _this.inputValue;",L&&ee===1?"product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;":ee===1?"product.weights = [input[_i]];":"product.weights = input[_i];").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function se(xe){return"src/recurrent/matrix/"+xe.replace(/[A-Z]/g,function(Ne){return"-"+Ne.toLowerCase()})+".js"}for(var he=[],Ee={},ge=[],_e=0,Ce=de.length;_e<Ce;_e++){var ze=de[_e];he.push("states["+_e+`] = {
      name: '`+ze.forwardFn.name+`',
      left: `+$(ze.left,_e)+`,
      right: `+$(ze.right,_e)+`,
      product: `+$(ze.product,_e)+`
    }`);var Be=ze.forwardFn.name;Ee[Be]||(Ee[Be]=!0,ge.push("        case '"+Be+"':"+(Be!=="forwardFn"?" //compiled from "+se(Be):"")+`
          `+G(ze.forwardFn.toString())+`
          break;`))}var ht=this.inputSize===1&&this.outputLookup,gt=`
  var input = `+(this.inputLookup?"lookupInput(rawInput)":"rawInput")+`;
  var json = `+P+`;
  var output = [];
  var states = [];
  var prevStates;
  var state;
  var max = `+(ht?L===ie?Q:"input.length + "+(J-1):"input.length")+`;
  for (var _i = 0; _i < max; _i++) {
    prevStates = states;
    states = [];
    `+he.join(`;
    `)+`;
    for (var stateIndex = 0, stateMax = `+he.length+`; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      
      switch (state.name) {
`+ge.join(`
`)+`
      }
    }
    `+(ee===1&&L?"if (_i >= input.length - 1) { output.push(state.product.weights); }":"output = state.product.weights;")+`
  }
  `+(ie?ie===L?"return lookupOutputPartial(output, input)":"return lookupOutput(output)":ee===1?"return output[0]":"return output")+`;
  `+le()+`
  `+N()+`
  
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  `+d.default.toString()+`
  `+x.default.toString().replace("_2.default","Matrix")+`
  `+T.randomF.toString()+`
  `+m.default.toString()+`
  `+_.default.toString();return new Function("rawInput",gt)}}]),j}(v.default);return rnnTimeStep.default=B,B.defaults={inputSize:1,hiddenLayers:[20],outputSize:1,learningRate:v.default.defaults.learningRate,decayRate:v.default.defaults.decayRate,smoothEps:v.default.defaults.smoothEps,regc:v.default.defaults.regc,clipval:v.default.defaults.clipval},B.trainDefaults=v.default.trainDefaults,rnnTimeStep}var lstmTimeStep={},lstm={},hasRequiredLstm;function requireLstm(){if(hasRequiredLstm)return lstm;hasRequiredLstm=1,Object.defineProperty(lstm,"__esModule",{value:!0});var r=function(){function x(T,O){for(var m=0;m<O.length;m++){var E=O[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}return function(T,O,m){return O&&x(T.prototype,O),m&&x(T,m),T}}(),i=requireMatrix(),s=g(i),l=requireRandomMatrix(),o=g(l),y=requireRnn(),f=g(y);function g(x){return x&&x.__esModule?x:{default:x}}function v(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function p(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function d(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var S=function(x){d(T,x);function T(){return v(this,T),p(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return r(T,[{key:"getModel",value:function(m,E){return{inputMatrix:new o.default(m,E,.08),inputHidden:new o.default(m,m,.08),inputBias:new s.default(m,1),forgetMatrix:new o.default(m,E,.08),forgetHidden:new o.default(m,m,.08),forgetBias:new s.default(m,1),outputMatrix:new o.default(m,E,.08),outputHidden:new o.default(m,m,.08),outputBias:new s.default(m,1),cellActivationMatrix:new o.default(m,E,.08),cellActivationHidden:new o.default(m,m,.08),cellActivationBias:new s.default(m,1)}}},{key:"getEquation",value:function(m,E,_,b){var c=m.sigmoid.bind(m),A=m.add.bind(m),U=m.multiply.bind(m),V=m.multiplyElement.bind(m),ne=m.tanh.bind(m),Y=c(A(A(U(b.inputMatrix,E),U(b.inputHidden,_)),b.inputBias)),H=c(A(A(U(b.forgetMatrix,E),U(b.forgetHidden,_)),b.forgetBias)),k=c(A(A(U(b.outputMatrix,E),U(b.outputHidden,_)),b.outputBias)),R=ne(A(A(U(b.cellActivationMatrix,E),U(b.cellActivationHidden,_)),b.cellActivationBias)),D=V(H,_),B=V(Y,R),M=A(D,B);return V(k,ne(M))}}]),T}(f.default);return lstm.default=S,lstm}var hasRequiredLstmTimeStep;function requireLstmTimeStep(){if(hasRequiredLstmTimeStep)return lstmTimeStep;hasRequiredLstmTimeStep=1,Object.defineProperty(lstmTimeStep,"__esModule",{value:!0});var r=function(){function S(x,T){for(var O=0;O<T.length;O++){var m=T[O];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,T,O){return T&&S(x.prototype,T),O&&S(x,O),x}}(),i=requireMatrix();f(i);var s=requireLstm(),l=f(s),o=requireRnnTimeStep(),y=f(o);function f(S){return S&&S.__esModule?S:{default:S}}function g(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function v(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function p(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var d=function(S){p(x,S);function x(){return g(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return r(x,[{key:"getModel",value:function(O,m){return l.default.prototype.getModel.call(this,O,m)}},{key:"getEquation",value:function(O,m,E,_){return l.default.prototype.getEquation.call(this,O,m,E,_)}}]),x}(y.default);return lstmTimeStep.default=d,lstmTimeStep}var gruTimeStep={},gru={},hasRequiredGru;function requireGru(){if(hasRequiredGru)return gru;hasRequiredGru=1,Object.defineProperty(gru,"__esModule",{value:!0});var r=function(){function x(T,O){for(var m=0;m<O.length;m++){var E=O[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}return function(T,O,m){return O&&x(T.prototype,O),m&&x(T,m),T}}(),i=requireMatrix(),s=g(i),l=requireRandomMatrix(),o=g(l),y=requireRnn(),f=g(y);function g(x){return x&&x.__esModule?x:{default:x}}function v(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function p(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function d(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var S=function(x){d(T,x);function T(){return v(this,T),p(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return r(T,[{key:"getModel",value:function(m,E){return{updateGateInputMatrix:new o.default(m,E,.08),updateGateHiddenMatrix:new o.default(m,m,.08),updateGateBias:new s.default(m,1),resetGateInputMatrix:new o.default(m,E,.08),resetGateHiddenMatrix:new o.default(m,m,.08),resetGateBias:new s.default(m,1),cellWriteInputMatrix:new o.default(m,E,.08),cellWriteHiddenMatrix:new o.default(m,m,.08),cellWriteBias:new s.default(m,1)}}},{key:"getEquation",value:function(m,E,_,b){var c=m.sigmoid.bind(m),A=m.add.bind(m),U=m.multiply.bind(m),V=m.multiplyElement.bind(m),ne=m.tanh.bind(m),Y=m.allOnes.bind(m),H=m.cloneNegative.bind(m),k=c(A(A(U(b.updateGateInputMatrix,E),U(b.updateGateHiddenMatrix,_)),b.updateGateBias)),R=c(A(A(U(b.resetGateInputMatrix,E),U(b.resetGateHiddenMatrix,_)),b.resetGateBias)),D=ne(A(A(U(b.cellWriteInputMatrix,E),U(b.cellWriteHiddenMatrix,V(R,_))),b.cellWriteBias));return A(V(A(Y(k.rows,k.columns),H(k)),D),V(_,k))}}]),T}(f.default);return gru.default=S,gru}var hasRequiredGruTimeStep;function requireGruTimeStep(){if(hasRequiredGruTimeStep)return gruTimeStep;hasRequiredGruTimeStep=1,Object.defineProperty(gruTimeStep,"__esModule",{value:!0});var r=function(){function S(x,T){for(var O=0;O<T.length;O++){var m=T[O];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,T,O){return T&&S(x.prototype,T),O&&S(x,O),x}}(),i=requireMatrix();f(i);var s=requireGru(),l=f(s),o=requireRnnTimeStep(),y=f(o);function f(S){return S&&S.__esModule?S:{default:S}}function g(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function v(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function p(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var d=function(S){p(x,S);function x(){return g(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return r(x,[{key:"getModel",value:function(O,m){return l.default.prototype.getModel(O,m)}},{key:"getEquation",value:function(O,m,E,_){return l.default.prototype.getEquation(O,m,E,_)}}]),x}(y.default);return gruTimeStep.default=d,gruTimeStep}var toSvg={},hasRequiredToSvg;function requireToSvg(){if(hasRequiredToSvg)return toSvg;hasRequiredToSvg=1,Object.defineProperty(toSvg,"__esModule",{value:!0}),toSvg.default=i;function r(s){if(Array.isArray(s)){for(var l=0,o=Array(s.length);l<s.length;l++)o[l]=s[l];return o}else return Array.from(s)}function i(s,l){var o={line:{width:"0.5",color:"black"},inputs:{color:"rgba(0, 128, 0, 0.5)",label:!1},outputs:{color:"rgba(100, 149, 237, 0.5)"},hidden:{color:"rgba(255, 127, 80, 0.5)"},fontSize:"14px",radius:"8",width:"400",height:"250"},y=typeof s.inputSize=="number"&&typeof s.outputSize=="number"&&s.inputSize>0&&s.outputSize>0?[s.inputSize].concat(r(s.hiddenLayers),[s.outputSize]):!1;if(l=Object.assign(o,l),l.inputs.label=l.inputs.label.length==s.inputSize?l.inputs.label:!1,y){var f='<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="'+l.width+'" height="'+l.height+'">',g=l.width/y.length;return y.forEach(function(v,p){var d=l.height/v;[].concat(r(Array(v))).forEach(function(S,x){if(p==0)f+='<rect x="'+(g/2-l.radius)+'" y="'+(d/2+x*d-l.radius)+'" width="'+2*l.radius+'" height="'+2*l.radius+'" stroke="black" stroke-width="1" fill="'+l.inputs.color+'" />',f+='<line x1="'+g/4+'" y1="'+(d/2+x*d)+'" x2="'+(g/2-l.radius)+'" y2="'+(d/2+x*d)+'" style="stroke:'+l.line.color+";stroke-width:"+l.line.width+'" />',l.inputs.label&&(f+='<text x="'+g/8+'" y="'+(d/2+x*d-5)+'" fill="black" font-size= "'+l.fontSize+'">'+l.inputs.label[x]+"</text>");else{var T=l.height/y[p-1];p==y.length-1?(f+='<circle cx="'+(g/2+p*g)+'" cy="'+(d/2+x*d)+'" r="'+l.radius+'" stroke="black" stroke-width="1" fill="'+l.outputs.color+'" />',f+='<line x1="'+(g/2+p*g+l.radius)+'" y1="'+(d/2+x*d)+'" x2="'+(g/2+p*g+g/4)+'" y2="'+(d/2+x*d)+'" style="stroke:'+l.line.color+";stroke-width:"+l.line.width+'" />'):f+='<circle cx="'+(g/2+p*g)+'" cy="'+(d/2+x*d)+'" r="'+l.radius+'" stroke="black" stroke-width="1" fill="'+l.hidden.color+'" />';for(var O=0;O<y[p-1];O++)f+='<line x1="'+(g/2+(p-1)*g+l.radius)+'" y1="'+(T/2+O*T)+'" x2="'+(g/2+p*g-l.radius)+'" y2="'+(d/2+x*d)+'" style="stroke:'+l.line.color+";stroke-width:"+l.line.width+'" />'}})}),f+="</svg>",f}else return!1}return toSvg}var hasRequiredBrain_js;function requireBrain_js(){return hasRequiredBrain_js||(hasRequiredBrain_js=1,function(r){var i=requireCrossValidate().default,s=requireLikely().default,l=requireLookup().default,o=requireNeuralNetwork().default,y=requireNeuralNetworkGpu().default,f=requireTrainStream().default,g=requireRnnTimeStep().default,v=requireLstmTimeStep().default,p=requireGruTimeStep().default,d=requireRnn().default,S=requireLstm().default,x=requireGru().default,T={max:requireMax().default,mse:requireMse().default,ones:requireOnes().default,random:requireRandom().default,randomWeight:requireRandomWeight().default,randos:requireRandos().default,range:requireRange().default,toArray:requireToArray().default,DataFormatter:requireDataFormatter().default,zeros:requireZeros().default,toSVG:requireToSvg().default},O={CrossValidate:i,likely:s,lookup:l,NeuralNetwork:o,NeuralNetworkGPU:y,TrainStream:f,recurrent:{RNNTimeStep:g,LSTMTimeStep:v,GRUTimeStep:p,RNN:d,LSTM:S,GRU:x},utilities:T};typeof window<"u"&&(window.brain=O),typeof self<"u"&&(self.brain=O),r.exports=O}(brain_js)),brain_js.exports}var brain_jsExports=requireBrain_js();const validateBinaryProperty=(r,i)=>{if(i===null)throw new Error('Value for key "'+r+'" cannot be null.');if(i===void 0)throw new Error('Value for key "'+r+'" cannot be undefined.');if(typeof i!="number")throw new Error('Value for key "'+r+'" must be a number.');if(isNaN(i))throw new Error('`Value for key "'+r+'" cannot be NaN.');if(!isFinite(i))throw new Error('Value for key "'+r+'" cannot be Infinity or -Infinity.');if(i!==0&&i!==1)throw new Error('Value for key "'+r+'" must be either 0 or 1.')},filterRandomTrainingData=r=>Object.keys(r).reduce((i,s)=>{const l=r[s];return s!=="year"&&(i[s]=l,validateBinaryProperty(s,l)),i},{}),generateTrainingObjects=(r,i,s,l)=>{const f=[];for(let g=0;g<s.length;g++){const v=r+Math.random()*10,p=(Math.random()<.5?-1:1)*.25*Math.random(),d=i*(1+p),S=Math.floor(Math.random()*s.length),x=s[S].input,T=filterRandomTrainingData(x),O={year:v*yearNormalizationFactor,...T};f.push({input:O,output:{price:d/l}})}return f};function useNeuralNetwork(r,i,s,l,o){const y=reactExports.useRef(gameNeuralNetworkConfig),f=reactExports.useRef(gameTrainingOptions),g=reactExports.useRef(!1),v=reactExports.useRef(gameObjectGenerationOptions),p=reactExports.useRef(gameSerializedNeuralNetwork),d=reactExports.useRef(gameTrainingData.slice()),S=reactExports.useRef(neuralNetworkYearRanges[i]),x=reactExports.useRef(neuralNetworkPriceModifiers[i]),T=E=>g.current=E,O=()=>{try{y.current=neuralNetworkSettings[`${i}NeuralNetworkConfig`],f.current=neuralNetworkSettings[`${i}TrainingOptions`],f.current.callback=()=>g.current=!1,v.current=neuralNetworkSettings[`${i}ObjectGenerationOptions`],p.current=serializedNeuralNetworks[`${i}SerializedNeuralNetwork`],d.current=trainingData[`${i}TrainingData`],S.current=neuralNetworkYearRanges[i],x.current=neuralNetworkPriceModifiers[i],s({year:new Date().getFullYear().toString()}),r(""),l("?"),o("")}catch(E){console.error(E),r("An error occurred while loading the neural network.")}},m=()=>{try{const E=new brain_jsExports.NeuralNetwork(y.current),_=d.current.length;d.current.forEach(({input:b})=>{Object.keys(b).forEach(c=>{const A=b[c];c!=="year"&&validateBinaryProperty(c,A)})});for(const[b,c]of v.current){const A=generateTrainingObjects(b,c,d.current,x.current);d.current.splice(d.current.length,0,...A)}return E.train(d.current,f.current),d.current.length=_,E}catch(E){console.error(E),r("An error occurred while training the neural network.")}};return reactExports.useEffect(O,[i,r,s,l,o]),{trainingStatusRef:g,updateTrainingStatus:T,serializedNeuralNetwork:p,neuralNetworkYearRange:S,priceModifier:x,trainNeuralNetwork:m}}var compilerRuntime={exports:{}},reactCompilerRuntime_production={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactCompilerRuntime_production;function requireReactCompilerRuntime_production(){if(hasRequiredReactCompilerRuntime_production)return reactCompilerRuntime_production;hasRequiredReactCompilerRuntime_production=1;var r=requireReact().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return reactCompilerRuntime_production.c=function(i){return r.H.useMemoCache(i)},reactCompilerRuntime_production}var hasRequiredCompilerRuntime;function requireCompilerRuntime(){return hasRequiredCompilerRuntime||(hasRequiredCompilerRuntime=1,compilerRuntime.exports=requireReactCompilerRuntime_production()),compilerRuntime.exports}var compilerRuntimeExports=requireCompilerRuntime();function ErrorPanel(r){const i=compilerRuntimeExports.c(6),{errMsgTxt:s}=r;let l;i[0]===Symbol.for("react.memo_cache_sentinel")?(l=jsxRuntimeExports.jsx("h3",{children:""}),i[0]=l):l=i[0];let o;i[1]!==s?(o=jsxRuntimeExports.jsx("div",{className:"sized-box",children:s}),i[1]=s,i[2]=o):o=i[2];let y;i[3]===Symbol.for("react.memo_cache_sentinel")?(y=jsxRuntimeExports.jsx("button",{onClick:_temp$1,children:"Refresh"}),i[3]=y):y=i[3];let f;return i[4]!==o?(f=jsxRuntimeExports.jsxs("div",{className:"panel",children:[l,o,y]}),i[4]=o,i[5]=f):f=i[5],f}function _temp$1(){return window.location.reload(!0)}function LandingPage(r){const i=compilerRuntimeExports.c(5),{continueToApp:s}=r;let l;i[0]===Symbol.for("react.memo_cache_sentinel")?(l=jsxRuntimeExports.jsx("div",{className:"box",children:jsxRuntimeExports.jsxs("div",{className:"box-row",children:[jsxRuntimeExports.jsx("h3",{children:"Welcome to the Pricecinerator price prediction application!"}),jsxRuntimeExports.jsx("p",{children:"This application utilizes a neural network to forecast product prices, taking into account the product year and attributes."})]})}),i[0]=l):l=i[0];let o,y;i[1]===Symbol.for("react.memo_cache_sentinel")?(o=jsxRuntimeExports.jsxs("ol",{className:"box",children:[jsxRuntimeExports.jsx("li",{children:"Select the neural network type for your product by clicking the corresponding button."}),jsxRuntimeExports.jsx("li",{children:"Enter the product year in the input field."}),jsxRuntimeExports.jsx("li",{children:"Choose any specific product attributes using the checkboxes."}),jsxRuntimeExports.jsx("li",{children:"Click Predict Price to see the estimated price."})]}),y=jsxRuntimeExports.jsx("p",{className:"box",children:"You can also use Training Mode to train and run a new neural network."}),i[1]=o,i[2]=y):(o=i[1],y=i[2]);let f;return i[3]!==s?(f=jsxRuntimeExports.jsxs("div",{className:"panel",children:[l,o,y,jsxRuntimeExports.jsx("button",{onClick:s,children:"Continue"})]}),i[3]=s,i[4]=f):f=i[4],f}function PredictionInput(r){const i=compilerRuntimeExports.c(37),{neuralNetworkType:s,predictionObjectInput:l,setPredictionObjectInput:o,predictionOptions:y,setPredictionOptions:f}=r,g=s.charAt(0).toUpperCase()+s.slice(1)+" ";let v;i[0]!==g?(v=jsxRuntimeExports.jsxs("h3",{children:[g,"Input"]}),i[0]=g,i[1]=v):v=i[1];const p=isNaN(l.year)?"":l.year;let d;i[2]!==l||i[3]!==o?(d=V=>o({...l,year:V.target.value}),i[2]=l,i[3]=o,i[4]=d):d=i[4];let S;i[5]!==p||i[6]!==d?(S=jsxRuntimeExports.jsx("div",{className:"box-row",children:jsxRuntimeExports.jsxs("label",{htmlFor:"year",children:["Year:",jsxRuntimeExports.jsx("input",{type:"number",id:"year",name:"year",value:p,onChange:d,onKeyDown:_temp})]})}),i[5]=p,i[6]=d,i[7]=S):S=i[7];let x;i[8]!==s?(x=Object.keys(trainingData[s+"TrainingData"][0].input),i[8]=s,i[9]=x):x=i[9];let T;i[10]!==l||i[11]!==o||i[12]!==x?(T=jsxRuntimeExports.jsx("div",{className:"box-row",children:x.map(V=>V!=="year"?jsxRuntimeExports.jsxs("label",{htmlFor:V,children:[V.charAt(0).toUpperCase()+V.slice(1).replace(/_/g," "),":",jsxRuntimeExports.jsx("input",{type:"checkbox",id:V,name:V,onChange:ne=>o({...l,[V]:ne.target.checked})})]},V):null)}),i[10]=l,i[11]=o,i[12]=x,i[13]=T):T=i[13];let O;i[14]!==v||i[15]!==S||i[16]!==T?(O=jsxRuntimeExports.jsxs("div",{className:"box",children:[v,S,T]}),i[14]=v,i[15]=S,i[16]=T,i[17]=O):O=i[17];let m;i[18]===Symbol.for("react.memo_cache_sentinel")?(m=jsxRuntimeExports.jsx("h3",{children:"Prediction Options"}),i[18]=m):m=i[18];let E;i[19]!==y||i[20]!==f?(E=V=>f({...y,performanceMode:V.target.checked,trainingMode:!V.target.checked}),i[19]=y,i[20]=f,i[21]=E):E=i[21];let _;i[22]!==y.performanceMode||i[23]!==E?(_=jsxRuntimeExports.jsxs("label",{htmlFor:"performance-mode",children:["Performance Mode:",jsxRuntimeExports.jsx("input",{type:"radio",id:"performance-mode",name:"mode",value:y.performanceMode,defaultChecked:!0,onChange:E})]}),i[22]=y.performanceMode,i[23]=E,i[24]=_):_=i[24];let b;i[25]!==y||i[26]!==f?(b=V=>f({...y,performanceMode:!V.target.checked,trainingMode:V.target.checked}),i[25]=y,i[26]=f,i[27]=b):b=i[27];let c;i[28]!==y.trainingMode||i[29]!==b?(c=jsxRuntimeExports.jsxs("label",{htmlFor:"training-mode",children:["Training Mode:",jsxRuntimeExports.jsx("input",{type:"radio",id:"training-mode",name:"mode",value:y.trainingMode,onChange:b})]}),i[28]=y.trainingMode,i[29]=b,i[30]=c):c=i[30];let A;i[31]!==_||i[32]!==c?(A=jsxRuntimeExports.jsxs("div",{className:"box",children:[m,jsxRuntimeExports.jsxs("div",{className:"box-row",children:[_,c]})]}),i[31]=_,i[32]=c,i[33]=A):A=i[33];let U;return i[34]!==A||i[35]!==O?(U=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("form",{children:[O,A]})}),i[34]=A,i[35]=O,i[36]=U):U=i[36],U}function _temp(r){return r.key==="Enter"?r.preventDefault():void 0}const yearNormalizationFactor=1e-4;function App(){const[r,i]=reactExports.useState(""),[s,l]=reactExports.useState(!0),[o,y]=reactExports.useState({year:new Date().getFullYear().toString()}),[f,g]=reactExports.useState({performanceMode:!0,trainingMode:!1}),[v,p]=reactExports.useState(neuralNetworkTypes.game),[d,S]=reactExports.useState("?"),[x,T]=reactExports.useState(""),O=reactExports.useRef(0),{trainingStatusRef:m,updateTrainingStatus:E,serializedNeuralNetwork:_,neuralNetworkYearRange:b,priceModifier:c,trainNeuralNetwork:A}=useNeuralNetwork(i,v,y,S,T),U=()=>{g({performanceMode:!0,trainingMode:!1}),l(!1)},V=()=>{const{min:R,max:D}=b.current,B=parseFloat(o.year),M=Math.max(R,Math.min(D,B));return B!==M&&(y({...o,year:M}),T(`Year must be between ${R} and ${D}.`)),M},ne=R=>{try{const D=c.current*_.current.run(R).price;S(D.toFixed(2))}catch(D){console.error(D),i("An error occurred while running the neural network in Performance Mode.")}},Y=R=>{try{E(!0);const D=A(R.year);if(T("Your device may not be performant enough for Training Mode. Your training wasn't used."),m.current){ne(R);return}const B=D.toFunction().toString();T(B);const M=c.current*D.run(R).price;S(M.toFixed(2))}catch(D){console.error(D),i("An error occurred while running the neural network in Training Mode.")}},H=()=>{const R={year:V()*yearNormalizationFactor};for(const D in o)D!=="year"&&(R[D]=o[D]?1:0);if(f.performanceMode){ne(R);return}Y(R)},k=()=>{i(""),S(""),T(""),clearTimeout(O.current),O.current=setTimeout(H,neuralNetworkTimeoutDelay)};return reactExports.useEffect(()=>clearTimeout(O.current),[]),r?jsxRuntimeExports.jsx(ErrorPanel,{errMsgTxt:r}):s?jsxRuntimeExports.jsx(LandingPage,{continueToApp:U}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"panel",children:[jsxRuntimeExports.jsxs("div",{className:"menu",children:[Object.keys(neuralNetworkTypes).map(R=>jsxRuntimeExports.jsx("button",{onClick:()=>p(R),children:R.charAt(0).toUpperCase()+R.slice(1)},R)),jsxRuntimeExports.jsx("button",{onClick:()=>l(!0),children:"Help"})]}),jsxRuntimeExports.jsx(PredictionInput,{neuralNetworkType:v,predictionObjectInput:o,setPredictionObjectInput:y,predictionOptions:f,setPredictionOptions:g}),d?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:k,children:"Predict Price"}),jsxRuntimeExports.jsxs("h3",{children:["Price: $",d]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"loader"})}),x?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"sized-box",children:[jsxRuntimeExports.jsx("h3",{children:"Neural Network Status:"}),x]})}):null]})})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
